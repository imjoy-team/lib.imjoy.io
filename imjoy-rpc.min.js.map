{"version":3,"sources":["webpack://imjoyRPC/webpack/universalModuleDefinition","webpack://imjoyRPC/webpack/bootstrap","webpack://imjoyRPC/./src/utils.js","webpack://imjoyRPC/./src/rpc.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/util.js","webpack://imjoyRPC/./src/pluginCore.js","webpack://imjoyRPC/./src/pluginIframe.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/resolve.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/equal.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/error_classes.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/schema_obj.js","webpack://imjoyRPC/./node_modules/json-stable-stringify/index.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/validate.js","webpack://imjoyRPC/./node_modules/co/index.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limit.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitItems.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitLength.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack://imjoyRPC/./src/plugin.webworker.js","webpack://imjoyRPC/./node_modules/ajv/lib/ajv.js","webpack://imjoyRPC/./src/pluginWebPython.js","webpack://imjoyRPC/./node_modules/worker-loader/dist/workers/InlineWorker.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/index.js","webpack://imjoyRPC/./node_modules/url/url.js","webpack://imjoyRPC/./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack://imjoyRPC/(webpack)/buildin/module.js","webpack://imjoyRPC/(webpack)/buildin/global.js","webpack://imjoyRPC/./node_modules/url/util.js","webpack://imjoyRPC/./node_modules/querystring-es3/index.js","webpack://imjoyRPC/./node_modules/querystring-es3/decode.js","webpack://imjoyRPC/./node_modules/querystring-es3/encode.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/ucs2length.js","webpack://imjoyRPC/./node_modules/json-schema-traverse/index.js","webpack://imjoyRPC/./node_modules/jsonify/index.js","webpack://imjoyRPC/./node_modules/jsonify/lib/parse.js","webpack://imjoyRPC/./node_modules/jsonify/lib/stringify.js","webpack://imjoyRPC/./node_modules/ajv/lib/cache.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/formats.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/rules.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/_rules.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/ref.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/allOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/anyOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/const.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/contains.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/dependencies.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/enum.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/format.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/items.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/multipleOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/not.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/oneOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/pattern.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/properties.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/propertyNames.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/required.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack://imjoyRPC/./node_modules/ajv/lib/$data.js","webpack://imjoyRPC/./node_modules/ajv/lib/patternGroups.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/async.js","webpack://imjoyRPC/./node_modules/ajv/lib/keyword.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/custom.js","webpack://imjoyRPC/./src/connection.js","webpack://imjoyRPC/./src/main.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ajv","Ajv","randId","Math","random","toString","substr","dtypeToTypedArray","int8","int16","int32","uint8","uint16","uint32","float32","float64","array","typedArrayToDtype","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Float32Array","Float64Array","Array","CONFIG_SCHEMA","compile","properties","allow_execution","type","api_version","cover","dedicated_thread","description","maxLength","flags","icon","id","inputs","labels","lang","outputs","tags","token","ui","version","required","compareVersions","v1","comparator","v2","indexOf","Error","v1parts","split","v2parts","maxLen","max","length","part1","part2","cmp","parseInt","eval","cacheUrlInServiceWorker","url","Promise","resolve","reject","message","command","navigator","serviceWorker","register","messageChannel","MessageChannel","port1","onmessage","event","data","error","result","controller","postMessage","port2","async","cacheRequirements","requirements","req","startsWith","slice","catch","e","console","setupServiceWorker","targetOrigin","cacheCallback","addEventListener","then","registration","log","scope","err","origin","Whenable","multi_emit","this","_multi_emit","_emitted","_handlers","emit","_e","handler","setTimeout","pop","whenEmitted","_checkHandler","push","API_VERSION","ArrayBufferView","getPrototypeOf","constructor","_appendBuffer","buffer1","buffer2","tmp","byteLength","set","buffer","RPC","connection","config","_connection","_interface","_plugin_interfaces","_remote","_remoteUpdateHandler","_getInterfaceHandler","_interfaceSetAsRemoteHandler","_disconnectHandler","_store","ReferenceStore","_method_refs","me","onMessage","_processMessage","onRemoteUpdate","onRemoteReady","onReady","onRemoteBusy","onBusy","getRemoteCallStack","getStack","onGetInterface","getRemote","setInterface","remote_function_mapping","func_name","args","Function","sendInterface","names","keys","data2","k","functions","getOwnPropertyNames","concat","name_","send","api","method","_method_context","__this__","pid","promise","_unwrap","apply","fetch","num","_setRemote","disconnect","requestRemote","_ndarray","typedArray","shape","dtype","_dtype","__jailed_type__","__value__","__shape__","__dtype__","_genRemoteMethod","_reportRemoteSet","plugin_id","remoteMethod","put","wrapped_resolve","arguments","wrapped_reject","__jailed_pairs__","transferables","_wrap","__transferables__","__remote_method","_encode_interface","aObject","bObject","v","encoded_interface","__plugin_id__","isArray","on","_encode","as_interface","_transfer","isarray","__as_interface__","_rpcEncode","encoded_obj","__rpc_dtype__","interfaceFuncName","tf","Tensor","v_buffer","dataSync","nj","NdArray","selection","File","__relative_path__","relativePath","webkitRelativePath","Boolean","String","Date","RegExp","Blob","ImageData","FileList","ArrayBuffer","_decode","callbackId","withPromise","_rpcDecode","_genRemoteCallback","reduce","reshape","tensor","argNum","onDisconnect","_indices","_readyHandler","_busyHandler","readyHandler","busyHandler","_genId","shift","_releaseId","splice","obj","_id","find","checkDataType","dataType","negate","EQUAL","AND","OK","NOT","copy","to","checkDataTypes","dataTypes","code","types","toHash","null","number","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","escapeQuotes","equal","ucs2length","varOccurences","str","dataVar","matches","match","varReplace","expr","replace","cleanUpCode","out","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","RETURN_DATA_ASYNC","REMOVE_ERRORS","RETURN_VALID","RETURN_TRUE","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","schema","rules","schemaHasRulesExcept","exceptKeyword","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","path","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","test","RELATIVE_JSON_POINTER","segments","segment","unescapeJsonPointer","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","arr","hash","IDENTIFIER","SINGLE_QUOTE","a","b","connectRPC","application","rpc","launchConnected","remote","export","onload","dispose","onLoad","whenConnected","WorkerGlobalScope","self","dispatchEvent","CustomEvent","detail","connected","connectedHandlers","checkHandler","setupIframe","target_origin","_htmlToElement","html","template","document","createElement","trim","innerHTML","content","firstChild","_importScript","scriptTag","src","onreadystatechange","readyState","onerror","head","appendChild","importScripts","len","execute","link_node","toLowerCase","endsWith","rel","href","script_node","setAttribute","attrs","node","createTextNode","body","style_node","link_node_","parent","stack","conn","h","_messageHandler","warn","util","SchemaObject","traverse","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","validate","_compile","baseId","res","resolveSchema","undefined","parse","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","ids","schemaId","baseIds","fullPaths","localRefs","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","PREVENT_SCOPE_CHANGE","parts","part","$ref","SIMPLE_INLINED","limit","checkNoRef","item","countKeys","count","Infinity","normalize","protocolSeparator","protocol","host","TRAILING_SLASH_HASH","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","MissingRefError","missingRef","missingSchema","errorSubclass","Subclass","Validation","errors","validation","MissingRef","json","JSON","opts","space","join","f","cycles","replacer","aobj","bobj","seen","stringify","level","indent","colonSeparator","toJSON","TypeError","objectKeys","sort","keyValue","x","has","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","isTop","$es7","yieldAwait","sourceCode","processCode","$lvl","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","extendRefs","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","v5","patternGroups","arr2","i2","l2","useDefaults","arr3","$propertyKey","i3","l3","$sch","default","$passData","useDefault","items","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","keyword","implements","impl","$ruleImlementsSomeKeyword","co","gen","ctx","next","onFulfilled","ret","onRejected","throw","done","toPromise","isPromise","displayName","isGenerator","isGeneratorFunction","thunkToPromise","arrayToPromise","objectToPromise","fn","map","results","promises","defer","wrap","createPromise","__generatorFunction__","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","schemaKeyRef","getSchema","schemaObj","_addSchema","valid","_meta","addSchema","_skipValidation","checkUnique","addMetaSchema","skipValidation","validateSchema","throwOrLogError","defaultMeta","meta","META_SCHEMA_ID","currentUriFormat","_formats","uri","_schemaUriFormatFunc","_schemaUriFormat","errorsText","keyRef","_getSchemaObj","_fragments","fragment","_getSchemaFragment","removeSchema","_removeAllSchemas","_cache","clear","del","cacheKey","serialize","addFormat","format","options","separator","text","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","compiling","callValidate","currentOpts","_metaOpts","refs","_validate","compileAsync","customKeyword","addKeyword","add","getKeyword","removeKeyword","remove","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","schemaUriFormat","cache","_loadingSchemas","_compilations","_get$Id","_get$IdOrId","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","$dataSchema","metaSchema","addDraft6MetaSchema","optsSchemas","schemas","addInitialSchemas","regex","setupWebPython","startup_script","_export_plugin_api","execute_python_code","_api","getattr","pyodide","pyimport","hasattr","func","runPython","python_packages","loadPackage","languagePluginUrl","iodide","output","element","div","getElementById","languagePluginLoader","URL","webkitURL","blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","Worker","createObjectURL","validateGenerator","checkCompiling","index","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","source","_schema","_root","isRoot","errorPath","resolveRef","usePattern","useCustomRule","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","inline","regexStr","valueStr","rule","definition","macro","punycode","Url","slashes","auth","port","hostname","search","query","pathname","urlParse","relative","resolveObject","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","isObject","u","queryIndex","splitter","uSplit","rest","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","lastIndexOf","parseHost","ipv6Hostname","hostparts","newpart","j","charCodeAt","validParts","notHost","bit","unshift","toASCII","ae","esc","escape","qm","charAt","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","isAbsolute","nodeType","freeGlobal","global","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","fromCharCode","RangeError","mapDomain","string","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","basic","oldi","w","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","deprecate","children","g","arg","qs","sep","eq","regexp","maxKeys","kstr","vstr","idx","xs","stringifyPrimitive","isFinite","ks","pos","cb","_traverse","arrayKeywords","propsKeywords","keywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","dependencies","enum","const","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","at","ch","escapee","hex","uffff","white","word","reviver","walk","holder","gap","rep","escapable","quote","lastIndex","partial","mind","DATE","DAYS","TIME","HOSTNAME","URI","URITEMPLATE","UUID","date","month","day","time","full","hour","minute","second","timeZone","fast","email","ipv4","ipv6","uuid","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","forEach","group","implKeywords","custom","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","every","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","$pgProperties","$pgPropertyKeys","i1","$pProperty","$pgProperty","$additionalProperty","$useDefaults","i4","$hasDefault","arr6","i6","l6","$pgSchema","$pgMin","$pgMax","$limit","$reason","$moreOrLess","$invalidName","$propertySch","$loopRequired","KEYWORDS","keywordsJsonPointers","metaSchemaRef","callback","loadSchema","loadMetaSchemaOf","_compileAsync","added","schemaPromise","removePromise","loadMissingSchema","_addRule","ruleGroup","rg","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","BasicConnection","sourceIframe","_init","_fail","_disconnected","pluginConfig","_getConfigSCb","_executeSCb","_executeFCb","_frame","contentWindow","_checkConfig","getConfig","onInit","onFailed","parentNode","removeChild","setupBaseFrame","enable_service_worker","cache_requirements","imjoyRPC","setupRPC","plugin_type","paramName","qArray","location","substring","pArr","getParamValue","top","inIframe","worker","PluginWorker","fallbackTimeout","terminate","clearTimeout","assign","setupWebWorker"],"mappings":"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","file":"imjoy-rpc.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"imjoyRPC\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imjoyRPC\"] = factory();\n\telse\n\t\troot[\"imjoyRPC\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 62);\n","import Ajv from \"ajv\";\nconst ajv = new Ajv();\n\nexport function randId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 10);\n}\n\nexport const dtypeToTypedArray = {\n  int8: \"Int8Array\",\n  int16: \"Int16Array\",\n  int32: \"Int32Array\",\n  uint8: \"Uint8Array\",\n  uint16: \"Uint16Array\",\n  uint32: \"Uint32Array\",\n  float32: \"Float32Array\",\n  float64: \"Float64Array\",\n  array: \"Array\"\n};\nexport const typedArrayToDtype = {\n  Int8Array: \"int8\",\n  Int16Array: \"int16\",\n  Int32Array: \"int32\",\n  Uint8Array: \"uint8\",\n  Uint16Array: \"uint16\",\n  Uint32Array: \"uint32\",\n  Float32Array: \"float32\",\n  Float64Array: \"float64\",\n  Array: \"array\"\n};\n\nexport const CONFIG_SCHEMA = ajv.compile({\n  properties: {\n    allow_execution: { type: \"boolean\" },\n    api_version: { type: \"string\" },\n    cover: { type: [\"string\", \"array\"] },\n    dedicated_thread: { type: \"boolean\" },\n    description: { type: \"string\", maxLength: 256 },\n    flags: { type: \"array\" },\n    icon: { type: \"string\" },\n    id: { type: \"string\" },\n    inputs: { type: [\"object\", \"array\"] },\n    labels: { type: \"array\" },\n    lang: { type: \"string\" },\n    name: { type: \"string\" },\n    outputs: { type: [\"object\", \"array\"] },\n    tags: { type: \"array\" },\n    token: { type: \"string\" },\n    ui: { type: \"string\" },\n    version: { type: \"string\" }\n  },\n  required: [\"api_version\", \"allow_execution\", \"token\", \"id\"]\n});\n\nexport function compareVersions(v1, comparator, v2) {\n  comparator = comparator == \"=\" ? \"==\" : comparator;\n  if (\n    [\"==\", \"===\", \"<\", \"<=\", \">\", \">=\", \"!=\", \"!==\"].indexOf(comparator) == -1\n  ) {\n    throw new Error(\"Invalid comparator. \" + comparator);\n  }\n  var v1parts = v1.split(\".\"),\n    v2parts = v2.split(\".\");\n  var maxLen = Math.max(v1parts.length, v2parts.length);\n  var part1, part2;\n  var cmp = 0;\n  for (var i = 0; i < maxLen && !cmp; i++) {\n    part1 = parseInt(v1parts[i], 10) || 0;\n    part2 = parseInt(v2parts[i], 10) || 0;\n    if (part1 < part2) cmp = 1;\n    if (part1 > part2) cmp = -1;\n  }\n  return eval(\"0\" + comparator + cmp);\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function(resolve, reject) {\n    const message = {\n      command: \"add\",\n      url: url\n    };\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject(\"Service worker is not supported.\");\n      return;\n    }\n    const messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function(event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [\n        messageChannel.port2\n      ]);\n    } else {\n      reject(\"Service worker controller is not available\");\n    }\n  });\n}\n\nexport async function cacheRequirements(requirements) {\n  if (requirements && requirements.length > 0) {\n    for (let req of requirements) {\n      //remove prefix\n      if (req.startsWith(\"js:\")) req = req.slice(3);\n      if (req.startsWith(\"css:\")) req = req.slice(4);\n      if (req.startsWith(\"cache:\")) req = req.slice(6);\n      if (!req.startsWith(\"http\")) continue;\n\n      await cacheUrlInServiceWorker(req).catch(e => {\n        console.error(e);\n      });\n    }\n  }\n}\n\nexport function setupServiceWorker(targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", function() {\n      navigator.serviceWorker.register(\"/plugin-service-worker.js\").then(\n        function(registration) {\n          // Registration was successful\n          console.log(\n            \"ServiceWorker registration successful with scope: \",\n            registration.scope\n          );\n        },\n        function(err) {\n          // registration failed :(\n          console.log(\"ServiceWorker registration failed: \", err);\n        }\n      );\n      targetOrigin = targetOrigin || \"*\";\n      cacheCallback = cacheCallback || cacheRequirements;\n      if (cacheCallback && typeof cacheCallback !== \"function\") {\n        throw new Error(\"config.cache_requirements must be a function\");\n      }\n      window.addEventListener(\"message\", function(e) {\n        if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n          const m = e.data;\n          if (m.type === \"cacheRequirements\") {\n            cacheCallback(m.requirements);\n          }\n        }\n      });\n    });\n  }\n}\n\n/**\n * A special kind of event:\n *  - which can only be emitted once;\n *  - executes a set of subscribed handlers upon emission;\n *  - if a handler is subscribed after the event was emitted, it\n *    will be invoked immideately.\n *\n * Used for the events which only happen once (or do not happen at\n * all) during a single plugin lifecycle - connect, disconnect and\n * connection failure\n */\nexport const Whenable = function(multi_emit) {\n  this._multi_emit = multi_emit;\n  this._emitted = false;\n  this._handlers = [];\n};\n\n/**\n * Emits the Whenable event, calls all the handlers already\n * subscribed, switches the object to the 'emitted' state (when\n * all future subscibed listeners will be immideately issued\n * instead of being stored)\n */\nWhenable.prototype.emit = function(e) {\n  if (this._multi_emit) {\n    this._emitted = true;\n    this._e = e;\n    for (let handler of this._handlers) {\n      setTimeout(handler.bind(null, e), 0);\n    }\n  } else if (!this._emitted) {\n    this._emitted = true;\n    this._e = e;\n    var handler;\n    while ((handler = this._handlers.pop())) {\n      setTimeout(handler.bind(null, e), 0);\n    }\n  }\n};\n\n/**\n * Saves the provided function as a handler for the Whenable\n * event. This handler will then be called upon the event emission\n * (if it has not been emitted yet), or will be scheduled for\n * immediate issue (if the event has already been emmitted before)\n *\n * @param {Function} handler to subscribe for the event\n */\nWhenable.prototype.whenEmitted = function(handler) {\n  handler = this._checkHandler(handler);\n  if (this._emitted) {\n    setTimeout(handler.bind(null, this._e), 0);\n  } else {\n    this._handlers.push(handler);\n  }\n};\n\n/**\n * Checks if the provided object is suitable for being subscribed\n * to the event (= is a function), throws an exception if not\n *\n * @param {Object} obj to check for being subscribable\n *\n * @throws {Exception} if object is not suitable for subscription\n *\n * @returns {Object} the provided object if yes\n */\nWhenable.prototype._checkHandler = function(handler) {\n  var type = typeof handler;\n  if (type !== \"function\") {\n    var msg =\n      \"A function may only be subsribed to the event, \" +\n      type +\n      \" was provided instead\";\n    throw new Error(msg);\n  }\n\n  return handler;\n};\n","/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\nimport { randId, typedArrayToDtype } from \"./utils.js\";\n\nexport const API_VERSION = \"0.2.0\";\n\nconst ArrayBufferView = Object.getPrototypeOf(\n  Object.getPrototypeOf(new Uint8Array())\n).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction getKeyByValue(object, value) {\n  return Object.keys(object).find(key => object[key] === value);\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\nexport class RPC {\n  constructor(connection, config) {\n    this._connection = connection;\n    this.config = config || {};\n    this._interface = {};\n    this._plugin_interfaces = {};\n    this._remote = null;\n    this._remoteUpdateHandler = function() {};\n    this._getInterfaceHandler = function() {};\n    this._interfaceSetAsRemoteHandler = null;\n    this._disconnectHandler = function() {};\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n    this._connection = connection;\n    let me = this;\n    this._connection.onMessage(function(data) {\n      me._processMessage(data);\n    });\n  }\n\n  /**\n   * Set a handler to be called when the remote site updates its\n   * interface\n   *\n   * @param {Function} handler\n   */\n  onRemoteUpdate(handler) {\n    this._remoteUpdateHandler = handler;\n  }\n\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n  onRemoteReady(handler) {\n    this._method_refs.onReady(handler);\n  }\n\n  onRemoteBusy(handler) {\n    this._method_refs.onBusy(handler);\n  }\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * Set a handler to be called when the remote site requests to\n   * (re)send the interface. Used to detect an initialzation\n   * completion without sending additional request, since in fact\n   * 'getInterface' request is only sent by application at the last\n   * step of the plugin initialization\n   *\n   * @param {Function} handler\n   */\n  onGetInterface(handler) {\n    this._getInterfaceHandler = handler;\n  }\n\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n  getRemote() {\n    return this._remote;\n  }\n\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n  setInterface(_interface) {\n    if (this.config.remote_function_mapping) {\n      for (let func_name of this.config.remote_function_mapping) {\n        if (_interface.constructor === Object) {\n          _interface[func_name] = (...args) => {\n            this._remote[func_name](...args);\n          };\n        } else if (_interface.constructor.constructor === Function) {\n          _interface.constructor.prototype[func_name] = (...args) => {\n            this._remote[func_name](...args);\n          };\n        }\n      }\n    }\n    this._interface = _interface;\n  }\n\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n  sendInterface() {\n    return new Promise(resolve => {\n      var names = [];\n      if (!this._interface) {\n        throw new Error(\"interface is not set.\");\n      }\n      if (this._interface.constructor === Object) {\n        for (var name of Object.keys(this._interface)) {\n          if (name.startsWith(\"_\")) continue;\n          if (typeof this._interface[name] === \"function\") {\n            names.push({ name: name, data: null, type: \"function\" });\n          } else {\n            var data = this._interface[name];\n            if (data !== null && typeof data === \"object\") {\n              var data2 = {};\n              for (var k of Object.keys(data)) {\n                if (typeof data[k] === \"function\") {\n                  data2[k] = \"rpc_method::\" + k;\n                } else {\n                  data2[k] = data[k];\n                }\n              }\n              names.push({ name: name, data: data2, type: \"object\" });\n            } else if (Object(data) !== data) {\n              names.push({ name: name, data: data, type: \"data\" });\n            }\n          }\n        }\n      }\n      // a class\n      else if (this._interface.constructor === Function) {\n        throw new Error(\"Please instantiate the class before exportting it.\");\n      }\n      // instance of a class\n      else if (this._interface.constructor.constructor === Function) {\n        var functions = Object.getOwnPropertyNames(\n          Object.getPrototypeOf(this._interface)\n        ).concat(Object.keys(this._interface));\n        for (var i = 0; i < functions.length; i++) {\n          var name_ = functions[i];\n          if (name_.startsWith(\"_\") || name_ === \"constructor\") continue;\n          if (typeof this._interface[name_] === \"function\") {\n            names.push({ name: name_, data: null });\n          }\n        }\n      } else {\n        throw Error(\"Unsupported interface type\");\n      }\n      this._interfaceSetAsRemoteHandler = resolve;\n      this._connection.send({ type: \"setInterface\", api: names });\n    });\n  }\n\n  /**\n   * Handles a message from the remote site\n   */\n  // var callback_reg = new RegExp(\"onupdate|run$\")\n  _processMessage(data) {\n    var resolve, reject, method, args, result;\n    switch (data.type) {\n      case \"method\":\n        var _interface = this._interface;\n        var _method_context = _interface.__this__ || _interface;\n        if (data.pid) {\n          _interface = this._plugin_interfaces[data.pid];\n          if (!_interface) {\n            if (data.promise) {\n              [resolve, reject] = this._unwrap(data.promise, false);\n              reject(\n                `plugin api function is not avaialbe in \"${data.pid}\", the plugin maybe terminated.`\n              );\n            } else {\n              console.error(\n                `plugin api function is not avaialbe in ${data.pid}, the plugin maybe terminated.`\n              );\n            }\n            return;\n          }\n        }\n        if (data.name.indexOf(\".\") !== -1) {\n          var names = data.name.split(\".\");\n          method = _interface[names[0]][names[1]];\n        } else {\n          method = _interface[data.name];\n        }\n        args = this._unwrap(data.args, true);\n        if (data.promise) {\n          [resolve, reject] = this._unwrap(data.promise, false);\n          try {\n            result = method.apply(_method_context, args);\n            if (\n              result instanceof Promise ||\n              (method.constructor &&\n                method.constructor.name === \"AsyncFunction\")\n            ) {\n              result.then(resolve).catch(reject);\n            } else {\n              resolve(result);\n            }\n          } catch (e) {\n            console.error(e, method);\n            reject(e);\n          }\n        } else {\n          try {\n            method.apply(_method_context, args);\n          } catch (e) {\n            console.error(e, method, args);\n          }\n        }\n\n        break;\n      case \"callback\":\n        if (data.promise) {\n          [resolve, reject] = this._unwrap(data.promise, false);\n          try {\n            method = this._store.fetch(data.num);\n            args = this._unwrap(data.args, true);\n            if (!method) {\n              throw \"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\";\n            }\n            result = method.apply(null, args);\n            if (\n              result instanceof Promise ||\n              (method.constructor &&\n                method.constructor.name === \"AsyncFunction\")\n            ) {\n              result.then(resolve).catch(reject);\n            } else {\n              resolve(result);\n            }\n          } catch (e) {\n            console.error(e, method);\n            reject(e);\n          }\n        } else {\n          try {\n            method = this._store.fetch(data.num);\n            args = this._unwrap(data.args, true);\n            if (!method) {\n              throw \"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\";\n            }\n            method.apply(null, args);\n          } catch (e) {\n            console.error(e, method, args);\n          }\n        }\n        break;\n      case \"setInterface\":\n        this._setRemote(data.api);\n        break;\n      case \"getInterface\":\n        this.sendInterface();\n        this._getInterfaceHandler();\n        break;\n      case \"interfaceSetAsRemote\":\n        if (typeof this._interfaceSetAsRemoteHandler === \"function\") {\n          this._interfaceSetAsRemoteHandler();\n          this._interfaceSetAsRemoteHandler === null;\n        }\n        break;\n      case \"disconnect\":\n        this._disconnectHandler();\n        this._connection.disconnect();\n        break;\n    }\n  }\n\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n  requestRemote() {\n    this._connection.send({ type: \"getInterface\" });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    var _dtype = typedArrayToDtype[typedArray.constructor.name];\n    if (dtype && dtype !== _dtype) {\n      throw \"dtype doesn't match the type of the array: \" +\n        _dtype +\n        \" != \" +\n        dtype;\n    }\n    shape = shape || [typedArray.length];\n    return {\n      __jailed_type__: \"ndarray\",\n      __value__: typedArray,\n      __shape__: shape,\n      __dtype__: _dtype\n    };\n  }\n\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n  _setRemote(api) {\n    this._remote = {};\n    var i, name, data, type;\n    for (i = 0; i < api.length; i++) {\n      name = api[i].name;\n      data = api[i].data;\n      type = api[i].type;\n      if (type === \"data\") {\n        this._remote[name] = data;\n      } else if (data) {\n        if (typeof data === \"object\") {\n          var data2 = {};\n          for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n              if (data[key] === \"rpc_method::\" + key) {\n                data2[key] = this._genRemoteMethod(name + \".\" + key);\n              } else {\n                data2[key] = data[key];\n              }\n            }\n          }\n          this._remote[name] = data2;\n        } else {\n          this._remote[name] = data;\n        }\n      } else {\n        this._remote[name] = this._genRemoteMethod(name);\n      }\n    }\n\n    this._remoteUpdateHandler();\n    this._reportRemoteSet();\n  }\n\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n  _genRemoteMethod(name, plugin_id) {\n    var me = this;\n    var remoteMethod = function() {\n      return new Promise((resolve, reject) => {\n        let id = null;\n        try {\n          id = me._method_refs.put(plugin_id ? plugin_id + \"/\" + name : name);\n          var wrapped_resolve = function() {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n          var wrapped_reject = function() {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          wrapped_resolve.__jailed_pairs__ = wrapped_reject;\n          wrapped_reject.__jailed_pairs__ = wrapped_resolve;\n\n          var args = Array.prototype.slice.call(arguments);\n          if (name === \"register\" || name === \"export\" || name === \"on\") {\n            args = me._wrap(args, true);\n          } else {\n            args = me._wrap(args);\n          }\n          var transferables = args.args.__transferables__;\n          if (transferables) delete args.args.__transferables__;\n          me._connection.send(\n            {\n              type: \"method\",\n              name: name,\n              pid: plugin_id,\n              args: args,\n              promise: me._wrap([wrapped_resolve, wrapped_reject])\n            },\n            transferables\n          );\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(\n            `Failed to exectue remote method (plugin: ${plugin_id ||\n              me.id}, method: ${name}), error: ${e}`\n          );\n        }\n      });\n    };\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n  _reportRemoteSet() {\n    this._connection.send({ type: \"interfaceSetAsRemote\" });\n  }\n\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n  _encode_interface(aObject, bObject) {\n    var v, k;\n    const encoded_interface = {};\n    aObject[\"__id__\"] = aObject[\"__id__\"] || randId();\n    for (k in aObject) {\n      if (k === \"hasOwnProperty\") continue;\n      if (aObject.hasOwnProperty(k)) {\n        if (k.startsWith(\"_\")) {\n          continue;\n        }\n        v = aObject[k];\n\n        if (typeof v === \"function\") {\n          bObject[k] = {\n            __jailed_type__: \"plugin_interface\",\n            __plugin_id__: aObject[\"__id__\"],\n            __value__: k,\n            num: null\n          };\n          encoded_interface[k] = v;\n        } else if (Object(v) !== v) {\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n          encoded_interface[k] = v;\n        } else if (typeof v === \"object\") {\n          bObject[k] = Array.isArray(v) ? [] : {};\n          this._encode_interface(v, bObject[k]);\n        }\n      }\n    }\n    this._plugin_interfaces[aObject[\"__id__\"]] = encoded_interface;\n\n    if (aObject.on) {\n      aObject.on(\"close\", () => {\n        delete this._plugin_interfaces[aObject[\"__id__\"]];\n      });\n    }\n  }\n\n  _encode(aObject, as_interface) {\n    var transferables = [];\n    if (!aObject) {\n      return aObject;\n    }\n    var _transfer = aObject._transfer;\n    var bObject, v, k;\n    var isarray = Array.isArray(aObject);\n    bObject = isarray ? [] : {};\n    //skip if already encoded\n    if (\n      typeof aObject === \"object\" &&\n      aObject.__jailed_type__ &&\n      aObject.__value__\n    ) {\n      return aObject;\n    }\n\n    //encode interfaces\n    if (\n      typeof aObject === \"object\" &&\n      !Array.isArray(aObject) &&\n      (aObject.__as_interface__ || as_interface)\n    ) {\n      this._encode_interface(aObject, bObject);\n      return bObject;\n    }\n\n    if (as_interface) {\n      aObject[\"__id__\"] = aObject[\"__id__\"] || randId();\n      this._plugin_interfaces[aObject[\"__id__\"]] =\n        this._plugin_interfaces[aObject[\"__id__\"]] || {};\n    }\n    for (k in aObject) {\n      if (k === \"hasOwnProperty\") continue;\n      if (isarray || aObject.hasOwnProperty(k)) {\n        v = aObject[k];\n        if (typeof this._interface._rpcEncode === \"function\") {\n          const encoded_obj = this._interface._rpcEncode(v);\n          if (encoded_obj && encoded_obj.__rpc_dtype__) {\n            bObject[k] = {\n              __jailed_type__: \"custom_encoding\",\n              __value__: encoded_obj\n            };\n            continue;\n          }\n          // if the returned object does not contain __jailed_type__, assuming the object has been transformed\n          else {\n            v = encoded_obj;\n          }\n        }\n        if (typeof v === \"function\") {\n          if (as_interface) {\n            const encoded_interface = this._plugin_interfaces[\n              aObject[\"__id__\"]\n            ];\n            bObject[k] = {\n              __jailed_type__: \"plugin_interface\",\n              __plugin_id__: aObject[\"__id__\"],\n              __value__: k,\n              num: null\n            };\n            encoded_interface[k] = v;\n            continue;\n          }\n          let interfaceFuncName = null;\n          for (var name in this._interface) {\n            if (this._interface.hasOwnProperty(name)) {\n              if (name.startsWith(\"_\")) continue;\n              if (this._interface[name] === v) {\n                interfaceFuncName = name;\n                break;\n              }\n            }\n          }\n          // search for prototypes\n          var functions = Object.getOwnPropertyNames(\n            Object.getPrototypeOf(this._interface)\n          );\n          for (var i = 0; i < functions.length; i++) {\n            var name_ = functions[i];\n            if (name_.startsWith(\"_\")) continue;\n            if (this._interface[name_] === v) {\n              interfaceFuncName = name_;\n              break;\n            }\n          }\n          if (!interfaceFuncName) {\n            var id = this._store.put(v);\n            bObject[k] = {\n              __jailed_type__: \"callback\",\n              __value__: (v.constructor && v.constructor.name) || id,\n              num: id\n            };\n          } else {\n            bObject[k] = {\n              __jailed_type__: \"interface\",\n              __value__: interfaceFuncName,\n              num: null\n            };\n          }\n        } else if (\n          /*global tf*/\n          typeof tf !== \"undefined\" &&\n          tf.Tensor &&\n          v instanceof tf.Tensor\n        ) {\n          const v_buffer = v.dataSync();\n          if (v._transfer || _transfer) {\n            transferables.push(v_buffer.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = {\n            __jailed_type__: \"ndarray\",\n            __value__: v_buffer,\n            __shape__: v.shape,\n            __dtype__: v.dtype\n          };\n        } else if (\n          /*global nj*/\n          typeof nj !== \"undefined\" &&\n          nj.NdArray &&\n          v instanceof nj.NdArray\n        ) {\n          var dtype = typedArrayToDtype[v.selection.data.constructor.name];\n          if (v._transfer || _transfer) {\n            transferables.push(v.selection.data.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = {\n            __jailed_type__: \"ndarray\",\n            __value__: v.selection.data,\n            __shape__: v.shape,\n            __dtype__: dtype\n          };\n        } else if (v instanceof Error) {\n          console.error(v);\n          bObject[k] = { __jailed_type__: \"error\", __value__: v.toString() };\n        } else if (typeof File !== \"undefined\" && v instanceof File) {\n          bObject[k] = {\n            __jailed_type__: \"file\",\n            __value__: v,\n            __relative_path__: v.relativePath || v.webkitRelativePath\n          };\n        }\n        // send objects supported by structure clone algorithm\n        // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n        else if (\n          v !== Object(v) ||\n          v instanceof Boolean ||\n          v instanceof String ||\n          v instanceof Date ||\n          v instanceof RegExp ||\n          v instanceof Blob ||\n          v instanceof ImageData ||\n          (typeof FileList !== \"undefined\" && v instanceof FileList)\n        ) {\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        } else if (v instanceof ArrayBuffer) {\n          if (v._transfer || _transfer) {\n            transferables.push(v);\n            delete v._transfer;\n          }\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        } else if (v instanceof ArrayBufferView) {\n          if (v._transfer || _transfer) {\n            transferables.push(v.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        }\n        // TODO: support also Map and Set\n        // TODO: avoid object such as DynamicPlugin instance.\n        else if (v.__as_interface__) {\n          bObject[k] = this._encode(v, true);\n        } else if (typeof v === \"object\" || Array.isArray(v)) {\n          bObject[k] = this._encode(v, as_interface);\n          // move transferables to the top level object\n          if (bObject[k].__transferables__) {\n            for (var t = 0; t < bObject[k].__transferables__.length; t++) {\n              transferables.push(bObject[k].__transferables__[t]);\n            }\n            delete bObject[k].__transferables__;\n          }\n        } else if (typeof v === \"object\" && v.constructor) {\n          throw \"Unsupported data type for transferring between the plugin and the main app: \" +\n            k +\n            \" : \" +\n            v.constructor.name;\n        } else {\n          throw \"Unsupported data type for transferring between the plugin and the main app: \" +\n            k +\n            \",\" +\n            v;\n        }\n      }\n    }\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n    return bObject;\n  }\n\n  _decode(aObject, callbackId, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n    var bObject, v, k;\n\n    if (\n      aObject.hasOwnProperty(\"__jailed_type__\") &&\n      aObject.hasOwnProperty(\"__value__\")\n    ) {\n      if (aObject.__jailed_type__.startsWith(\"custom_encoding\")) {\n        if (typeof this._interface._rpcDecode === \"function\") {\n          const decodedObj = this._interface._rpcDecode(aObject.__value__);\n          bObject = decodedObj;\n        } else {\n          bObject = aObject;\n        }\n      } else if (aObject.__jailed_type__ === \"callback\") {\n        bObject = this._genRemoteCallback(callbackId, aObject.num, withPromise);\n      } else if (aObject.__jailed_type__ === \"interface\") {\n        bObject =\n          this._remote[aObject.__value__] ||\n          this._genRemoteMethod(aObject.__value__);\n      } else if (aObject.__jailed_type__ === \"plugin_interface\") {\n        bObject = this._genRemoteMethod(\n          aObject.__value__,\n          aObject.__plugin_id__\n        );\n      } else if (aObject.__jailed_type__ === \"ndarray\") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (this.id === \"__plugin__\" && typeof nj !== \"undefined\" && nj.array) {\n          if (Array.isArray(aObject.__value__)) {\n            aObject.__value__ = aObject.__value__.reduce(_appendBuffer);\n          }\n          bObject = nj\n            .array(aObject.__value__, aObject.__dtype__)\n            .reshape(aObject.__shape__);\n        } else if (\n          this.id === \"__plugin__\" &&\n          typeof tf !== \"undefined\" &&\n          tf.Tensor\n        ) {\n          if (Array.isArray(aObject.__value__)) {\n            aObject.__value__ = aObject.__value__.reduce(_appendBuffer);\n          }\n          bObject = tf.tensor(\n            aObject.__value__,\n            aObject.__shape__,\n            aObject.__dtype__\n          );\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject.__jailed_type__ === \"error\") {\n        bObject = new Error(aObject.__value__);\n      } else if (aObject.__jailed_type__ === \"file\") {\n        bObject = aObject.__value__;\n        //patch relativePath\n        bObject.relativePath = aObject.__relative_path__;\n      } else if (aObject.__jailed_type__ === \"argument\") {\n        bObject = aObject.__value__;\n      }\n      return bObject;\n    } else {\n      var isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n      for (k in aObject) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          v = aObject[k];\n          if (typeof v === \"object\" || Array.isArray(v)) {\n            bObject[k] = this._decode(v, callbackId, withPromise);\n          }\n        }\n      }\n      return bObject;\n    }\n  }\n\n  _wrap(args, as_interface) {\n    var wrapped = this._encode(args, as_interface);\n    var result = { args: wrapped };\n    return result;\n  }\n\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n  _unwrap(args, withPromise) {\n    // var called = false;\n\n    // wraps each callback so that the only one could be called\n    // var once(cb) {\n    //     return function() {\n    //         if (!called) {\n    //             called = true;\n    //             return cb.apply(this, arguments);\n    //         } else {\n    //             var msg =\n    //               'A callback from this set has already been executed';\n    //             throw new Error(msg);\n    //         }\n    //     };\n    // }\n    var result = this._decode(args.args, args.callbackId, withPromise);\n    return result;\n  }\n\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n  _genRemoteCallback(id, argNum, withPromise) {\n    var me = this;\n    var remoteCallback;\n    if (withPromise) {\n      remoteCallback = function() {\n        return new Promise((resolve, reject) => {\n          var args = me._wrap(Array.prototype.slice.call(arguments));\n          var transferables = args.args.__transferables__;\n          if (transferables) delete args.args.__transferables__;\n          resolve.__jailed_pairs__ = reject;\n          reject.__jailed_pairs__ = resolve;\n          try {\n            me._connection.send(\n              {\n                type: \"callback\",\n                id: id,\n                num: argNum,\n                args: args,\n                // pid :  me.id,\n                promise: me._wrap([resolve, reject])\n              },\n              transferables\n            );\n          } catch (e) {\n            reject(\n              `Failed to exectue remote callback (id: ${id}, argNum: ${argNum}).`\n            );\n          }\n        });\n      };\n      return remoteCallback;\n    } else {\n      remoteCallback = function() {\n        var args = me._wrap(Array.prototype.slice.call(arguments));\n        var transferables = args.args.__transferables__;\n        if (transferables) delete args.args.__transferables__;\n        return me._connection.send(\n          {\n            type: \"callback\",\n            id: id,\n            num: argNum,\n            args: args\n            // pid :  me.id\n          },\n          transferables\n        );\n      };\n      return remoteCallback;\n    }\n  }\n\n  /**\n   * Sends the notification message and breaks the connection\n   */\n  disconnect() {\n    this._connection.send({ type: \"disconnect\" });\n    setTimeout(this._connection.disconnect, 2000);\n  }\n\n  /**\n   * Set a handler to be called when received a disconnect message\n   * from the remote site\n   *\n   * @param {Function} handler\n   */\n  onDisconnect(handler) {\n    this._disconnectHandler = handler;\n  }\n}\n\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n    this._indices = [0]; // smallest available indices\n    this._readyHandler = function() {};\n    this._busyHandler = function() {};\n    this._readyHandler();\n  }\n\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function() {};\n  }\n\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function() {};\n  }\n\n  /**\n   * get the length of the store\n   *\n   */\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n  _genId() {\n    var id;\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n  _releaseId(id) {\n    for (var i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n        break;\n      }\n    }\n\n    // cleaning-up the sequence tail\n    for (i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n    var id = this._genId();\n    this._store[id] = obj;\n    return id;\n  }\n\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n  fetch(id) {\n    var obj = this._store[id];\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n      this._releaseId(id);\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n    if (obj && obj.__jailed_pairs__) {\n      const _id = getKeyByValue(this._store, obj.__jailed_pairs__);\n      this.fetch(_id);\n    }\n    return obj;\n  }\n\n  /**\n   * Retrieves previously stored object\n   *\n   * @param {Number} id of an object to retrieve\n   */\n  // retrieve(id) {\n  //     var obj = this._store[id];\n  //     return obj;\n  // }\n}\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('./equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v\\.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\nimport { RPC } from \"./rpc.js\";\n\nexport function connectRPC(connection, config) {\n  const application = {};\n  config = config || {};\n\n  const rpc = new RPC(connection, config);\n  rpc.onGetInterface(function() {\n    launchConnected();\n  });\n\n  rpc.onRemoteUpdate(function() {\n    application.remote = rpc.getRemote();\n    if (!application.remote) return;\n    const api = application.remote || {};\n    if (api.export) {\n      console.error(\"WARNING: overwriting function 'export'.\");\n    }\n    if (api.onload) {\n      console.error(\"WARNING: overwriting function 'onload'.\");\n    }\n    if (api.dispose) {\n      console.error(\"WARNING: overwriting function 'dispose'.\");\n    }\n    api.export = application.setInterface;\n    api.onLoad = application.whenConnected;\n    api.dispose = application.disconnect;\n    if (\n      typeof WorkerGlobalScope !== \"undefined\" &&\n      self instanceof WorkerGlobalScope\n    ) {\n      self.api = api;\n      self.postMessage({\n        type: \"imjoy_remote_api_ready\"\n      });\n    } else if (typeof window) {\n      window.dispatchEvent(\n        new CustomEvent(\"imjoy_remote_api_ready\", { detail: api })\n      );\n    }\n  });\n\n  /**\n   * Simplified clone of Whenable instance (the object can not be\n   * placed into a shared script, because the main library needs it\n   * before the additional scripts may load)\n   */\n  var connected = false;\n  var connectedHandlers = [];\n\n  var launchConnected = function() {\n    if (!connected) {\n      connected = true;\n\n      var handler;\n      while ((handler = connectedHandlers.pop())) {\n        handler();\n      }\n    }\n  };\n\n  var checkHandler = function(handler) {\n    var type = typeof handler;\n    if (type !== \"function\") {\n      var msg =\n        \"A function may only be subsribed to the event, \" +\n        type +\n        \" was provided instead\";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  /**\n   * Sets a function executed after the connection to the\n   * application is estaplished, and the initial interface-exchange\n   * messaging is completed\n   *\n   * @param {Function} handler to be called upon initialization\n   */\n  application.whenConnected = function(handler) {\n    handler = checkHandler(handler);\n    if (connected) {\n      handler();\n    } else {\n      connectedHandlers.push(handler);\n    }\n  };\n\n  /**\n   * Sets the plugin interface available to the application\n   *\n   * @param {Object} _interface to set\n   */\n  application.setInterface = function(_interface) {\n    rpc.setInterface(_interface);\n  };\n\n  /**\n   * Disconnects the plugin from the application (sending\n   * notification message) and destroys itself\n   */\n  application.disconnect = function(_interface) {\n    rpc.disconnect();\n  };\n}\n","/**\n * Contains the routines loaded by the plugin iframe under web-browser\n * in case when worker failed to initialize\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\nimport { connectRPC } from \"./pluginCore.js\";\nimport { API_VERSION } from \"./rpc.js\";\nimport { randId } from \"./utils.js\";\n\nexport default function setupIframe(config) {\n  config = config || {};\n  const targetOrigin = config.target_origin || \"*\";\n  // Create a new, plain <span> element\n  function _htmlToElement(html) {\n    var template = document.createElement(\"template\");\n    html = html.trim(); // Never return a text node of whitespace as the result\n    template.innerHTML = html;\n    return template.content.firstChild;\n  }\n\n  var _importScript = function(url) {\n    //url is URL of external file, implementationCode is the code\n    //to be called from the file, location is the location to\n    //insert the <script> element\n    return new Promise((resolve, reject) => {\n      var scriptTag = document.createElement(\"script\");\n      scriptTag.src = url;\n      scriptTag.type = \"text/javascript\";\n      scriptTag.onload = resolve;\n      scriptTag.onreadystatechange = function() {\n        if (this.readyState === \"loaded\" || this.readyState === \"complete\") {\n          resolve();\n        }\n      };\n      scriptTag.onerror = reject;\n      document.head.appendChild(scriptTag);\n    });\n  };\n\n  // support importScripts outside web worker\n\n  async function importScripts() {\n    var args = Array.prototype.slice.call(arguments),\n      len = args.length,\n      i = 0;\n    for (; i < len; i++) {\n      await _importScript(args[i]);\n    }\n  }\n\n  // evaluates the provided string\n  var execute = async function(code) {\n    try {\n      if (code.type === \"requirements\") {\n        if (\n          code.requirements &&\n          (Array.isArray(code.requirements) ||\n            typeof code.requirements === \"string\")\n        ) {\n          try {\n            var link_node;\n            code.requirements =\n              typeof code.requirements === \"string\"\n                ? [code.requirements]\n                : code.requirements;\n            if (Array.isArray(code.requirements)) {\n              for (var i = 0; i < code.requirements.length; i++) {\n                if (\n                  code.requirements[i].toLowerCase().endsWith(\".css\") ||\n                  code.requirements[i].startsWith(\"css:\")\n                ) {\n                  if (code.requirements[i].startsWith(\"css:\")) {\n                    code.requirements[i] = code.requirements[i].slice(4);\n                  }\n                  link_node = document.createElement(\"link\");\n                  link_node.rel = \"stylesheet\";\n                  link_node.href = code.requirements[i];\n                  document.head.appendChild(link_node);\n                } else if (\n                  code.requirements[i].toLowerCase().endsWith(\".js\") ||\n                  code.requirements[i].startsWith(\"js:\")\n                ) {\n                  if (code.requirements[i].startsWith(\"js:\")) {\n                    code.requirements[i] = code.requirements[i].slice(3);\n                  }\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"http\")) {\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"cache:\")) {\n                  //ignore cache\n                } else {\n                  console.log(\n                    \"Unprocessed requirements url: \" + code.requirements[i]\n                  );\n                }\n              }\n            } else {\n              throw \"unsupported requirements definition\";\n            }\n          } catch (e) {\n            throw \"failed to import required scripts: \" +\n              code.requirements.toString();\n          }\n        }\n      } else if (code.type === \"script\") {\n        if (code.src) {\n          var script_node = document.createElement(\"script\");\n          script_node.setAttribute(\"type\", code.attrs.type);\n          script_node.setAttribute(\"src\", code.src);\n          document.head.appendChild(script_node);\n        } else {\n          if (\n            code.content &&\n            (!code.attrs.type || code.attrs.type === \"text/javascript\")\n          ) {\n            // document.addEventListener(\"DOMContentLoaded\", function(){\n            eval(code.content);\n            // });\n          } else {\n            var node = document.createElement(\"script\");\n            node.setAttribute(\"type\", code.attrs.type);\n            node.appendChild(document.createTextNode(code.content));\n            document.body.appendChild(node);\n          }\n        }\n      } else if (code.type === \"style\") {\n        var style_node = document.createElement(\"style\");\n        if (code.src) {\n          style_node.src = code.src;\n        }\n        style_node.innerHTML = code.content;\n        document.head.appendChild(style_node);\n      } else if (code.type === \"link\") {\n        var link_node_ = document.createElement(\"link\");\n        if (code.rel) {\n          link_node_.rel = code.rel;\n        }\n        if (code.href) {\n          link_node_.href = code.href;\n        }\n        if (code.attrs && code.attrs.type) {\n          link_node_.type = code.attrs.type;\n        }\n        document.head.appendChild(link_node_);\n      } else if (code.type === \"html\") {\n        document.body.appendChild(_htmlToElement(code.content));\n      } else {\n        throw \"unsupported code type.\";\n      }\n      parent.postMessage({ type: \"executeSuccess\" }, targetOrigin);\n    } catch (e) {\n      console.error(\"failed to execute scripts: \", code, e);\n      parent.postMessage(\n        { type: \"executeFailure\", error: e.stack || String(e) },\n        targetOrigin\n      );\n    }\n  };\n\n  // connection object for the RPC constructor\n  const conn = {\n    disconnect: function() {},\n    send: function(data, transferables) {\n      parent.postMessage(data, targetOrigin, transferables);\n    },\n    onMessage: function(h) {\n      conn._messageHandler = h;\n    },\n    _messageHandler: function() {},\n    onDisconnect: function() {}\n  };\n\n  config.dedicated_thread = false;\n  config.lang = \"javascript\";\n  config.api_version = API_VERSION;\n\n  // event listener for the plugin message\n  window.addEventListener(\"message\", function(e) {\n    if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n      const m = e.data;\n      switch (m && m.type) {\n        case \"getConfig\":\n          parent.postMessage(\n            {\n              type: \"config\",\n              config: config\n            },\n            targetOrigin\n          );\n          break;\n        case \"execute\":\n          if (config.allow_execution) {\n            execute(m.code);\n            if (m.code.type === \"requirements\") {\n              if (!Array.isArray(m.code.requirements)) {\n                m.code.requirements = [m.code.requirements];\n              }\n            }\n          } else {\n            console.warn(\n              \"import script is not allowed (allow_execution=false)\"\n            );\n          }\n          break;\n        default:\n          conn._messageHandler(m);\n      }\n    }\n  });\n\n  connectRPC(conn, {\n    remote_function_mapping: [\"close\", \"resize\", \"on\", \"off\", \"emit\", \"refresh\"]\n  });\n\n  parent.postMessage(\n    {\n      type: \"initialized\",\n      config: config\n    },\n    targetOrigin\n  );\n}\n","'use strict';\n\nvar url = require('url')\n  , equal = require('./equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = url.parse(ref, false, true)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.hash = parsedRef.hash || '';\n  if (parsedRef.hash.slice(0,2) != '#/') return;\n  var parts = parsedRef.hash.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = url.parse(id, false, true);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  var protocolSeparator = p.protocol || p.href.slice(0,2) == '//' ? '//' : '';\n  return (p.protocol||'') + protocolSeparator + (p.host||'') + (p.path||'')  + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return url.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? url.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\n/*eslint complexity: 0*/\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  var arrA = Array.isArray(a)\n    , arrB = Array.isArray(b)\n    , i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++)\n      if (!equal(a[i], b[i])) return false;\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if(!equal(a[keys[i]], b[keys[i]])) return false;\n\n    return true;\n  }\n\n  return false;\n};\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.isTop) {\n    if ($async) {\n      it.async = true;\n      var $es7 = it.opts.async == 'es7';\n      it.yieldAwait = $es7 ? 'await' : 'yield';\n    }\n    out += ' var validate = ';\n    if ($async) {\n      if ($es7) {\n        out += ' (async function ';\n      } else {\n        if (it.opts.async != '*') {\n          out += 'co.wrap';\n        }\n        out += '(function* ';\n      }\n    } else {\n      out += ' (function ';\n    }\n    out += ' (data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }); return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      console.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    if (it.opts.v5 && it.schema.patternGroups) {\n      console.warn('keyword \"patternGroups\" is deprecated and disabled. Use option patternGroups: true to enable.');\n    }\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults && !it.compositeRule) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }); return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImlementsSomeKeyword($rule));\n  }\n\n  function $ruleImlementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\';';\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","module.exports = function() {\n  return require(\"!!/Users/wei.ouyang/workspace/imjoy-rpc/javascript/node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"!function(e){var r={};function t(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(e,\\\"__esModule\\\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\\\"object\\\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,\\\"default\\\",{enumerable:!0,value:e}),2&r&&\\\"string\\\"!=typeof e)for(var s in e)t.d(a,s,function(r){return e[r]}.bind(null,s));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\\\"a\\\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\\\"\\\",t(t.s=16)}([function(e,r,t){\\\"use strict\\\";function a(e,r,t){var a=t?\\\" !== \\\":\\\" === \\\",s=t?\\\" || \\\":\\\" && \\\",o=t?\\\"!\\\":\\\"\\\",i=t?\\\"\\\":\\\"!\\\";switch(e){case\\\"null\\\":return r+a+\\\"null\\\";case\\\"array\\\":return o+\\\"Array.isArray(\\\"+r+\\\")\\\";case\\\"object\\\":return\\\"(\\\"+o+r+s+\\\"typeof \\\"+r+a+'\\\"object\\\"'+s+i+\\\"Array.isArray(\\\"+r+\\\"))\\\";case\\\"integer\\\":return\\\"(typeof \\\"+r+a+'\\\"number\\\"'+s+i+\\\"(\\\"+r+\\\" % 1)\\\"+s+r+a+r+\\\")\\\";default:return\\\"typeof \\\"+r+a+'\\\"'+e+'\\\"'}}e.exports={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:a,checkDataTypes:function(e,r){switch(e.length){case 1:return a(e[0],r,!0);default:var t=\\\"\\\",s=o(e);for(var i in s.array&&s.object&&(t=s.null?\\\"(\\\":\\\"(!\\\"+r+\\\" || \\\",t+=\\\"typeof \\\"+r+' !== \\\"object\\\")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)t+=(t?\\\" && \\\":\\\"\\\")+a(i,r,!0);return t}},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var o=r[a];s[o]?t[t.length]=o:\\\"array\\\"===e&&\\\"array\\\"===o&&(t[t.length]=o)}if(t.length)return t}else{if(s[r])return[r];if(\\\"array\\\"===e&&\\\"array\\\"===r)return[\\\"array\\\"]}},toHash:o,getProperty:c,escapeQuotes:l,equal:t(4),ucs2length:t(26),varOccurences:function(e,r){r+=\\\"[^0-9]\\\";var t=e.match(new RegExp(r,\\\"g\\\"));return t?t.length:0},varReplace:function(e,r,t){return r+=\\\"([^0-9])\\\",t=t.replace(/\\\\$/g,\\\"$$$$\\\"),e.replace(new RegExp(r,\\\"g\\\"),t+\\\"$1\\\")},cleanUpCode:function(e){return e.replace(u,\\\"\\\").replace(h,\\\"\\\").replace(f,\\\"if (!($1))\\\")},finalCleanUpCode:function(e,r){var t=e.match(p);t&&2==t.length&&(e=r?e.replace(m,\\\"\\\").replace(y,g):e.replace(d,\\\"\\\").replace(v,_));return(t=e.match(P))&&3===t.length?e.replace(b,\\\"\\\"):e},schemaHasRules:function(e,r){if(\\\"boolean\\\"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if(\\\"boolean\\\"==typeof e)return!e&&\\\"not\\\"!=t;for(var a in e)if(a!=t&&r[a])return!0},toQuotedString:w,getPathExpr:function(e,r,t,a){return j(e,t?\\\"'/' + \\\"+r+(a?\\\"\\\":\\\".replace(/~/g, '~0').replace(/\\\\\\\\//g, '~1')\\\"):a?\\\"'[' + \\\"+r+\\\" + ']'\\\":\\\"'[\\\\\\\\'' + \\\"+r+\\\" + '\\\\\\\\']'\\\")},getPath:function(e,r,t){var a=w(t?\\\"/\\\"+x(r):c(r));return j(e,a)},getData:function(e,r,t){var a,s,o,i;if(\\\"\\\"===e)return\\\"rootData\\\";if(\\\"/\\\"==e[0]){if(!E.test(e))throw new Error(\\\"Invalid JSON-pointer: \\\"+e);s=e,o=\\\"rootData\\\"}else{if(!(i=e.match(S)))throw new Error(\\\"Invalid JSON-pointer: \\\"+e);if(a=+i[1],\\\"#\\\"==(s=i[2])){if(a>=r)throw new Error(\\\"Cannot access property/index \\\"+a+\\\" levels up, current level is \\\"+r);return t[r-a]}if(a>r)throw new Error(\\\"Cannot access data \\\"+a+\\\" levels up, current level is \\\"+r);if(o=\\\"data\\\"+(r-a||\\\"\\\"),!s)return o}for(var n=o,l=s.split(\\\"/\\\"),u=0;u<l.length;u++){var h=l[u];h&&(o+=c(R(h)),n+=\\\" && \\\"+o)}return n},unescapeFragment:function(e){return R(decodeURIComponent(e))},escapeFragment:function(e){return encodeURIComponent(x(e))},escapeJsonPointer:x};var s=o([\\\"string\\\",\\\"number\\\",\\\"integer\\\",\\\"boolean\\\",\\\"null\\\"]);function o(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var i=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\\\\\\\/g;function c(e){return\\\"number\\\"==typeof e?\\\"[\\\"+e+\\\"]\\\":i.test(e)?\\\".\\\"+e:\\\"['\\\"+l(e)+\\\"']\\\"}function l(e){return e.replace(n,\\\"\\\\\\\\$&\\\").replace(/\\\\n/g,\\\"\\\\\\\\n\\\").replace(/\\\\r/g,\\\"\\\\\\\\r\\\").replace(/\\\\f/g,\\\"\\\\\\\\f\\\").replace(/\\\\t/g,\\\"\\\\\\\\t\\\")}var u=/else\\\\s*{\\\\s*}/g,h=/if\\\\s*\\\\([^)]+\\\\)\\\\s*\\\\{\\\\s*\\\\}(?!\\\\s*else)/g,f=/if\\\\s*\\\\(([^)]+)\\\\)\\\\s*\\\\{\\\\s*\\\\}\\\\s*else(?!\\\\s*if)/g;var p=/[^v\\\\.]errors/g,d=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v=\\\"return errors === 0;\\\",_=\\\"validate.errors = null; return true;\\\",y=/if \\\\(errors === 0\\\\) return data;\\\\s*else throw new ValidationError\\\\(vErrors\\\\);/,g=\\\"return data;\\\",P=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,b=/if \\\\(rootData === undefined\\\\) rootData = data;/;function w(e){return\\\"'\\\"+l(e)+\\\"'\\\"}var E=/^\\\\/(?:[^~]|~0|~1)*$/,S=/^([0-9]+)(#|\\\\/(?:[^~]|~0|~1)*)?$/;function j(e,r){return'\\\"\\\"'==e?r:(e+\\\" + \\\"+r).replace(/' \\\\+ '/g,\\\"\\\")}function x(e){return e.replace(/~/g,\\\"~0\\\").replace(/\\\\//g,\\\"~1\\\")}function R(e){return e.replace(/~1/g,\\\"/\\\").replace(/~0/g,\\\"~\\\")}},function(module,__webpack_exports__,__webpack_require__){\\\"use strict\\\";__webpack_require__.d(__webpack_exports__,\\\"a\\\",(function(){return randId})),__webpack_require__.d(__webpack_exports__,\\\"b\\\",(function(){return typedArrayToDtype}));var ajv__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),ajv__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_0__);const ajv=new ajv__WEBPACK_IMPORTED_MODULE_0___default.a;function randId(){return Math.random().toString(36).substr(2,10)}const dtypeToTypedArray={int8:\\\"Int8Array\\\",int16:\\\"Int16Array\\\",int32:\\\"Int32Array\\\",uint8:\\\"Uint8Array\\\",uint16:\\\"Uint16Array\\\",uint32:\\\"Uint32Array\\\",float32:\\\"Float32Array\\\",float64:\\\"Float64Array\\\",array:\\\"Array\\\"},typedArrayToDtype={Int8Array:\\\"int8\\\",Int16Array:\\\"int16\\\",Int32Array:\\\"int32\\\",Uint8Array:\\\"uint8\\\",Uint16Array:\\\"uint16\\\",Uint32Array:\\\"uint32\\\",Float32Array:\\\"float32\\\",Float64Array:\\\"float64\\\",Array:\\\"array\\\"},CONFIG_SCHEMA=ajv.compile({properties:{allow_execution:{type:\\\"boolean\\\"},api_version:{type:\\\"string\\\"},cover:{type:[\\\"string\\\",\\\"array\\\"]},dedicated_thread:{type:\\\"boolean\\\"},description:{type:\\\"string\\\",maxLength:256},flags:{type:\\\"array\\\"},icon:{type:\\\"string\\\"},id:{type:\\\"string\\\"},inputs:{type:[\\\"object\\\",\\\"array\\\"]},labels:{type:\\\"array\\\"},lang:{type:\\\"string\\\"},name:{type:\\\"string\\\"},outputs:{type:[\\\"object\\\",\\\"array\\\"]},tags:{type:\\\"array\\\"},token:{type:\\\"string\\\"},ui:{type:\\\"string\\\"},version:{type:\\\"string\\\"}},required:[\\\"api_version\\\",\\\"allow_execution\\\",\\\"token\\\",\\\"id\\\"]});function compareVersions(v1,comparator,v2){if(comparator=\\\"=\\\"==comparator?\\\"==\\\":comparator,-1==[\\\"==\\\",\\\"===\\\",\\\"<\\\",\\\"<=\\\",\\\">\\\",\\\">=\\\",\\\"!=\\\",\\\"!==\\\"].indexOf(comparator))throw new Error(\\\"Invalid comparator. \\\"+comparator);for(var v1parts=v1.split(\\\".\\\"),v2parts=v2.split(\\\".\\\"),maxLen=Math.max(v1parts.length,v2parts.length),part1,part2,cmp=0,i=0;i<maxLen&&!cmp;i++)part1=parseInt(v1parts[i],10)||0,part2=parseInt(v2parts[i],10)||0,part1<part2&&(cmp=1),part1>part2&&(cmp=-1);return eval(\\\"0\\\"+comparator+cmp)}function cacheUrlInServiceWorker(e){return new Promise((function(r,t){const a={command:\\\"add\\\",url:e};if(!navigator.serviceWorker||!navigator.serviceWorker.register)return void t(\\\"Service worker is not supported.\\\");const s=new MessageChannel;s.port1.onmessage=function(e){e.data&&e.data.error?t(e.data.error):r(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(a,[s.port2]):t(\\\"Service worker controller is not available\\\")}))}async function cacheRequirements(e){if(e&&e.length>0)for(let r of e)r.startsWith(\\\"js:\\\")&&(r=r.slice(3)),r.startsWith(\\\"css:\\\")&&(r=r.slice(4)),r.startsWith(\\\"cache:\\\")&&(r=r.slice(6)),r.startsWith(\\\"http\\\")&&await cacheUrlInServiceWorker(r).catch(e=>{console.error(e)})}function setupServiceWorker(e,r){\\\"serviceWorker\\\"in navigator&&window.addEventListener(\\\"load\\\",(function(){if(navigator.serviceWorker.register(\\\"/plugin-service-worker.js\\\").then((function(e){console.log(\\\"ServiceWorker registration successful with scope: \\\",e.scope)}),(function(e){console.log(\\\"ServiceWorker registration failed: \\\",e)})),e=e||\\\"*\\\",(r=r||cacheRequirements)&&\\\"function\\\"!=typeof r)throw new Error(\\\"config.cache_requirements must be a function\\\");window.addEventListener(\\\"message\\\",(function(t){if(\\\"*\\\"===e||t.origin===e){const e=t.data;\\\"cacheRequirements\\\"===e.type&&r(e.requirements)}}))}))}const Whenable=function(e){this._multi_emit=e,this._emitted=!1,this._handlers=[]};Whenable.prototype.emit=function(e){if(this._multi_emit){this._emitted=!0,this._e=e;for(let r of this._handlers)setTimeout(r.bind(null,e),0)}else if(!this._emitted){var r;for(this._emitted=!0,this._e=e;r=this._handlers.pop();)setTimeout(r.bind(null,e),0)}},Whenable.prototype.whenEmitted=function(e){e=this._checkHandler(e),this._emitted?setTimeout(e.bind(null,this._e),0):this._handlers.push(e)},Whenable.prototype._checkHandler=function(e){var r=typeof e;if(\\\"function\\\"!==r)throw new Error(\\\"A function may only be subsribed to the event, \\\"+r+\\\" was provided instead\\\");return e}},function(e,r,t){\\\"use strict\\\";t.d(r,\\\"a\\\",(function(){return s})),t.d(r,\\\"b\\\",(function(){return n}));var a=t(1);const s=\\\"0.2.0\\\",o=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function i(e,r){const t=new Uint8Array(e.byteLength+r.byteLength);return t.set(new Uint8Array(e),0),t.set(new Uint8Array(r),e.byteLength),t.buffer}class n{constructor(e,r){this._connection=e,this.config=r||{},this._interface={},this._plugin_interfaces={},this._remote=null,this._remoteUpdateHandler=function(){},this._getInterfaceHandler=function(){},this._interfaceSetAsRemoteHandler=null,this._disconnectHandler=function(){},this._store=new c,this._method_refs=new c,this._connection=e;let t=this;this._connection.onMessage((function(e){t._processMessage(e)}))}onRemoteUpdate(e){this._remoteUpdateHandler=e}onRemoteReady(e){this._method_refs.onReady(e)}onRemoteBusy(e){this._method_refs.onBusy(e)}getRemoteCallStack(){return this._method_refs.getStack()}onGetInterface(e){this._getInterfaceHandler=e}getRemote(){return this._remote}setInterface(e){if(this.config.remote_function_mapping)for(let r of this.config.remote_function_mapping)e.constructor===Object?e[r]=(...e)=>{this._remote[r](...e)}:e.constructor.constructor===Function&&(e.constructor.prototype[r]=(...e)=>{this._remote[r](...e)});this._interface=e}sendInterface(){return new Promise(e=>{var r=[];if(!this._interface)throw new Error(\\\"interface is not set.\\\");if(this._interface.constructor===Object){for(var t of Object.keys(this._interface))if(!t.startsWith(\\\"_\\\"))if(\\\"function\\\"==typeof this._interface[t])r.push({name:t,data:null,type:\\\"function\\\"});else{var a=this._interface[t];if(null!==a&&\\\"object\\\"==typeof a){var s={};for(var o of Object.keys(a))\\\"function\\\"==typeof a[o]?s[o]=\\\"rpc_method::\\\"+o:s[o]=a[o];r.push({name:t,data:s,type:\\\"object\\\"})}else Object(a)!==a&&r.push({name:t,data:a,type:\\\"data\\\"})}}else{if(this._interface.constructor===Function)throw new Error(\\\"Please instantiate the class before exportting it.\\\");if(this._interface.constructor.constructor!==Function)throw Error(\\\"Unsupported interface type\\\");for(var i=Object.getOwnPropertyNames(Object.getPrototypeOf(this._interface)).concat(Object.keys(this._interface)),n=0;n<i.length;n++){var c=i[n];c.startsWith(\\\"_\\\")||\\\"constructor\\\"===c||\\\"function\\\"==typeof this._interface[c]&&r.push({name:c,data:null})}}this._interfaceSetAsRemoteHandler=e,this._connection.send({type:\\\"setInterface\\\",api:r})})}_processMessage(e){var r,t,a,s,o;switch(e.type){case\\\"method\\\":var i=this._interface,n=i.__this__||i;if(e.pid&&!(i=this._plugin_interfaces[e.pid]))return void(e.promise?([r,t]=this._unwrap(e.promise,!1),t(`plugin api function is not avaialbe in \\\"${e.pid}\\\", the plugin maybe terminated.`)):console.error(`plugin api function is not avaialbe in ${e.pid}, the plugin maybe terminated.`));if(-1!==e.name.indexOf(\\\".\\\")){var c=e.name.split(\\\".\\\");a=i[c[0]][c[1]]}else a=i[e.name];if(s=this._unwrap(e.args,!0),e.promise){[r,t]=this._unwrap(e.promise,!1);try{(o=a.apply(n,s))instanceof Promise||a.constructor&&\\\"AsyncFunction\\\"===a.constructor.name?o.then(r).catch(t):r(o)}catch(e){console.error(e,a),t(e)}}else try{a.apply(n,s)}catch(e){console.error(e,a,s)}break;case\\\"callback\\\":if(e.promise){[r,t]=this._unwrap(e.promise,!1);try{if(a=this._store.fetch(e.num),s=this._unwrap(e.args,!0),!a)throw\\\"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\";(o=a.apply(null,s))instanceof Promise||a.constructor&&\\\"AsyncFunction\\\"===a.constructor.name?o.then(r).catch(t):r(o)}catch(e){console.error(e,a),t(e)}}else try{if(a=this._store.fetch(e.num),s=this._unwrap(e.args,!0),!a)throw\\\"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\";a.apply(null,s)}catch(e){console.error(e,a,s)}break;case\\\"setInterface\\\":this._setRemote(e.api);break;case\\\"getInterface\\\":this.sendInterface(),this._getInterfaceHandler();break;case\\\"interfaceSetAsRemote\\\":\\\"function\\\"==typeof this._interfaceSetAsRemoteHandler&&(this._interfaceSetAsRemoteHandler(),this._interfaceSetAsRemoteHandler);break;case\\\"disconnect\\\":this._disconnectHandler(),this._connection.disconnect()}}requestRemote(){this._connection.send({type:\\\"getInterface\\\"})}_ndarray(e,r,t){var s=a.b[e.constructor.name];if(t&&t!==s)throw\\\"dtype doesn't match the type of the array: \\\"+s+\\\" != \\\"+t;return{__jailed_type__:\\\"ndarray\\\",__value__:e,__shape__:r=r||[e.length],__dtype__:s}}_setRemote(e){var r,t,a;for(this._remote={},r=0;r<e.length;r++)if(t=e[r].name,a=e[r].data,\\\"data\\\"===e[r].type)this._remote[t]=a;else if(a)if(\\\"object\\\"==typeof a){var s={};for(var o in a)a.hasOwnProperty(o)&&(a[o]===\\\"rpc_method::\\\"+o?s[o]=this._genRemoteMethod(t+\\\".\\\"+o):s[o]=a[o]);this._remote[t]=s}else this._remote[t]=a;else this._remote[t]=this._genRemoteMethod(t);this._remoteUpdateHandler(),this._reportRemoteSet()}_genRemoteMethod(e,r){var t=this,a=function(){return new Promise((a,s)=>{let o=null;try{o=t._method_refs.put(r?r+\\\"/\\\"+e:e);var i=function(){return null!==o&&t._method_refs.fetch(o),a.apply(this,arguments)},n=function(){return null!==o&&t._method_refs.fetch(o),s.apply(this,arguments)};i.__jailed_pairs__=n,n.__jailed_pairs__=i;var c=Array.prototype.slice.call(arguments),l=(c=\\\"register\\\"===e||\\\"export\\\"===e||\\\"on\\\"===e?t._wrap(c,!0):t._wrap(c)).args.__transferables__;l&&delete c.args.__transferables__,t._connection.send({type:\\\"method\\\",name:e,pid:r,args:c,promise:t._wrap([i,n])},l)}catch(a){o&&t._method_refs.fetch(o),s(`Failed to exectue remote method (plugin: ${r||t.id}, method: ${e}), error: ${a}`)}})};return a.__remote_method=!0,a}_reportRemoteSet(){this._connection.send({type:\\\"interfaceSetAsRemote\\\"})}_encode_interface(e,r){var t,s;const o={};for(s in e.__id__=e.__id__||Object(a.a)(),e)if(\\\"hasOwnProperty\\\"!==s&&e.hasOwnProperty(s)){if(s.startsWith(\\\"_\\\"))continue;\\\"function\\\"==typeof(t=e[s])?(r[s]={__jailed_type__:\\\"plugin_interface\\\",__plugin_id__:e.__id__,__value__:s,num:null},o[s]=t):Object(t)!==t?(r[s]={__jailed_type__:\\\"argument\\\",__value__:t},o[s]=t):\\\"object\\\"==typeof t&&(r[s]=Array.isArray(t)?[]:{},this._encode_interface(t,r[s]))}this._plugin_interfaces[e.__id__]=o,e.on&&e.on(\\\"close\\\",()=>{delete this._plugin_interfaces[e.__id__]})}_encode(e,r){var t=[];if(!e)return e;var s,i,n,c=e._transfer,l=Array.isArray(e);if(s=l?[]:{},\\\"object\\\"==typeof e&&e.__jailed_type__&&e.__value__)return e;if(\\\"object\\\"==typeof e&&!Array.isArray(e)&&(e.__as_interface__||r))return this._encode_interface(e,s),s;for(n in r&&(e.__id__=e.__id__||Object(a.a)(),this._plugin_interfaces[e.__id__]=this._plugin_interfaces[e.__id__]||{}),e)if(\\\"hasOwnProperty\\\"!==n&&(l||e.hasOwnProperty(n))){if(i=e[n],\\\"function\\\"==typeof this._interface._rpcEncode){const e=this._interface._rpcEncode(i);if(e&&e.__rpc_dtype__){s[n]={__jailed_type__:\\\"custom_encoding\\\",__value__:e};continue}i=e}if(\\\"function\\\"==typeof i){if(r){const r=this._plugin_interfaces[e.__id__];s[n]={__jailed_type__:\\\"plugin_interface\\\",__plugin_id__:e.__id__,__value__:n,num:null},r[n]=i;continue}let t=null;for(var u in this._interface)if(this._interface.hasOwnProperty(u)){if(u.startsWith(\\\"_\\\"))continue;if(this._interface[u]===i){t=u;break}}for(var h=Object.getOwnPropertyNames(Object.getPrototypeOf(this._interface)),f=0;f<h.length;f++){var p=h[f];if(!p.startsWith(\\\"_\\\")&&this._interface[p]===i){t=p;break}}if(t)s[n]={__jailed_type__:\\\"interface\\\",__value__:t,num:null};else{var d=this._store.put(i);s[n]={__jailed_type__:\\\"callback\\\",__value__:i.constructor&&i.constructor.name||d,num:d}}}else if(\\\"undefined\\\"!=typeof tf&&tf.Tensor&&i instanceof tf.Tensor){const e=i.dataSync();(i._transfer||c)&&(t.push(e.buffer),delete i._transfer),s[n]={__jailed_type__:\\\"ndarray\\\",__value__:e,__shape__:i.shape,__dtype__:i.dtype}}else if(\\\"undefined\\\"!=typeof nj&&nj.NdArray&&i instanceof nj.NdArray){var m=a.b[i.selection.data.constructor.name];(i._transfer||c)&&(t.push(i.selection.data.buffer),delete i._transfer),s[n]={__jailed_type__:\\\"ndarray\\\",__value__:i.selection.data,__shape__:i.shape,__dtype__:m}}else if(i instanceof Error)console.error(i),s[n]={__jailed_type__:\\\"error\\\",__value__:i.toString()};else if(\\\"undefined\\\"!=typeof File&&i instanceof File)s[n]={__jailed_type__:\\\"file\\\",__value__:i,__relative_path__:i.relativePath||i.webkitRelativePath};else if(i!==Object(i)||i instanceof Boolean||i instanceof String||i instanceof Date||i instanceof RegExp||i instanceof Blob||i instanceof ImageData||\\\"undefined\\\"!=typeof FileList&&i instanceof FileList)s[n]={__jailed_type__:\\\"argument\\\",__value__:i};else if(i instanceof ArrayBuffer)(i._transfer||c)&&(t.push(i),delete i._transfer),s[n]={__jailed_type__:\\\"argument\\\",__value__:i};else if(i instanceof o)(i._transfer||c)&&(t.push(i.buffer),delete i._transfer),s[n]={__jailed_type__:\\\"argument\\\",__value__:i};else if(i.__as_interface__)s[n]=this._encode(i,!0);else{if(\\\"object\\\"!=typeof i&&!Array.isArray(i))throw\\\"object\\\"==typeof i&&i.constructor?\\\"Unsupported data type for transferring between the plugin and the main app: \\\"+n+\\\" : \\\"+i.constructor.name:\\\"Unsupported data type for transferring between the plugin and the main app: \\\"+n+\\\",\\\"+i;if(s[n]=this._encode(i,r),s[n].__transferables__){for(var v=0;v<s[n].__transferables__.length;v++)t.push(s[n].__transferables__[v]);delete s[n].__transferables__}}}return t.length>0&&(s.__transferables__=t),s}_decode(e,r,t){if(!e)return e;var a,s,o;if(e.hasOwnProperty(\\\"__jailed_type__\\\")&&e.hasOwnProperty(\\\"__value__\\\")){if(e.__jailed_type__.startsWith(\\\"custom_encoding\\\"))if(\\\"function\\\"==typeof this._interface._rpcDecode){a=this._interface._rpcDecode(e.__value__)}else a=e;else\\\"callback\\\"===e.__jailed_type__?a=this._genRemoteCallback(r,e.num,t):\\\"interface\\\"===e.__jailed_type__?a=this._remote[e.__value__]||this._genRemoteMethod(e.__value__):\\\"plugin_interface\\\"===e.__jailed_type__?a=this._genRemoteMethod(e.__value__,e.__plugin_id__):\\\"ndarray\\\"===e.__jailed_type__?\\\"__plugin__\\\"===this.id&&\\\"undefined\\\"!=typeof nj&&nj.array?(Array.isArray(e.__value__)&&(e.__value__=e.__value__.reduce(i)),a=nj.array(e.__value__,e.__dtype__).reshape(e.__shape__)):\\\"__plugin__\\\"===this.id&&\\\"undefined\\\"!=typeof tf&&tf.Tensor?(Array.isArray(e.__value__)&&(e.__value__=e.__value__.reduce(i)),a=tf.tensor(e.__value__,e.__shape__,e.__dtype__)):a=e:\\\"error\\\"===e.__jailed_type__?a=new Error(e.__value__):\\\"file\\\"===e.__jailed_type__?(a=e.__value__).relativePath=e.__relative_path__:\\\"argument\\\"===e.__jailed_type__&&(a=e.__value__);return a}var n=Array.isArray(e);for(o in a=n?[]:{},e)(n||e.hasOwnProperty(o))&&(\\\"object\\\"==typeof(s=e[o])||Array.isArray(s))&&(a[o]=this._decode(s,r,t));return a}_wrap(e,r){return{args:this._encode(e,r)}}_unwrap(e,r){return this._decode(e.args,e.callbackId,r)}_genRemoteCallback(e,r,t){var a=this;return t?function(){return new Promise((t,s)=>{var o=a._wrap(Array.prototype.slice.call(arguments)),i=o.args.__transferables__;i&&delete o.args.__transferables__,t.__jailed_pairs__=s,s.__jailed_pairs__=t;try{a._connection.send({type:\\\"callback\\\",id:e,num:r,args:o,promise:a._wrap([t,s])},i)}catch(t){s(`Failed to exectue remote callback (id: ${e}, argNum: ${r}).`)}})}:function(){var t=a._wrap(Array.prototype.slice.call(arguments)),s=t.args.__transferables__;return s&&delete t.args.__transferables__,a._connection.send({type:\\\"callback\\\",id:e,num:r,args:t},s)}}disconnect(){this._connection.send({type:\\\"disconnect\\\"}),setTimeout(this._connection.disconnect,2e3)}onDisconnect(e){this._disconnectHandler=e}}class c{constructor(){this._store={},this._indices=[0],this._readyHandler=function(){},this._busyHandler=function(){},this._readyHandler()}onReady(e){this._readyHandler=e||function(){}}onBusy(e){this._busyHandler=e||function(){}}getStack(){return Object.keys(this._store).length}_genId(){return 1===this._indices.length?this._indices[0]++:this._indices.shift()}_releaseId(e){for(var r=0;r<this._indices.length;r++)if(e<this._indices[r]){this._indices.splice(r,0,e);break}for(r=this._indices.length-1;r>=0&&this._indices[r]-1===this._indices[r-1];r--)this._indices.pop()}put(e){this._busyHandler&&0===Object.keys(this._store).length&&this._busyHandler();var r=this._genId();return this._store[r]=e,r}fetch(e){var r,t,a=this._store[e];if(a&&!a.__remote_method&&(delete this._store[e],this._releaseId(e),this._readyHandler&&0===Object.keys(this._store).length&&this._readyHandler()),a&&a.__jailed_pairs__){const e=(r=this._store,t=a.__jailed_pairs__,Object.keys(r).find(e=>r[e]===t));this.fetch(e)}return a}}},function(e,r,t){\\\"use strict\\\";var a=t(18),s=t(4),o=t(0),i=t(6),n=t(27);function c(e,r,t){var a=this._refs[t];if(\\\"string\\\"==typeof a){if(!this._refs[a])return c.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof i)return d(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s,o,n,u=l.call(this,r,t);return u&&(s=u.schema,r=u.root,n=u.baseId),s instanceof i?o=s.validate||e.call(this,s.schema,r,void 0,n):void 0!==s&&(o=d(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,n)),o}function l(e,r){var t=a.parse(r,!1,!0),s=v(t),o=m(this._getId(e.schema));if(s!==o){var n=y(s),c=this._refs[n];if(\\\"string\\\"==typeof c)return u.call(this,e,c,t);if(c instanceof i)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[n])instanceof i))return;if(c.validate||this._compile(c),n==y(r))return{schema:c,root:e,baseId:o};e=c}if(!e.schema)return;o=m(this._getId(e.schema))}return f.call(this,t,o,e.schema,e)}function u(e,r,t){var a=l.call(this,e,r);if(a){var s=a.schema,o=a.baseId;e=a.root;var i=this._getId(s);return i&&(o=g(o,i)),f.call(this,t,o,s,e)}}e.exports=c,c.normalizeId=y,c.fullPath=m,c.url=g,c.ids=function(e){var r=y(this._getId(e)),t={\\\"\\\":r},i={\\\"\\\":m(r,!1)},c={},l=this;return n(e,{allKeys:!0},(function(e,r,n,u,h,f,p){if(\\\"\\\"!==r){var d=l._getId(e),m=t[u],v=i[u]+\\\"/\\\"+h;if(void 0!==p&&(v+=\\\"/\\\"+(\\\"number\\\"==typeof p?p:o.escapeFragment(p))),\\\"string\\\"==typeof d){d=m=y(m?a.resolve(m,d):d);var _=l._refs[d];if(\\\"string\\\"==typeof _&&(_=l._refs[_]),_&&_.schema){if(!s(e,_.schema))throw new Error('id \\\"'+d+'\\\" resolves to more than one schema')}else if(d!=y(v))if(\\\"#\\\"==d[0]){if(c[d]&&!s(e,c[d]))throw new Error('id \\\"'+d+'\\\" resolves to more than one schema');c[d]=e}else l._refs[d]=v}t[r]=m,i[r]=v}})),c},c.inlineRef=d,c.schema=l;var h=o.toHash([\\\"properties\\\",\\\"patternProperties\\\",\\\"enum\\\",\\\"dependencies\\\",\\\"definitions\\\"]);function f(e,r,t,a){if(e.hash=e.hash||\\\"\\\",\\\"#/\\\"==e.hash.slice(0,2)){for(var s=e.hash.split(\\\"/\\\"),i=1;i<s.length;i++){var n=s[i];if(n){if(void 0===(t=t[n=o.unescapeFragment(n)]))break;var c;if(!h[n]&&((c=this._getId(t))&&(r=g(r,c)),t.$ref)){var u=g(r,t.$ref),f=l.call(this,a,u);f&&(t=f.schema,a=f.root,r=f.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var p=o.toHash([\\\"type\\\",\\\"format\\\",\\\"pattern\\\",\\\"maxLength\\\",\\\"minLength\\\",\\\"maxProperties\\\",\\\"minProperties\\\",\\\"maxItems\\\",\\\"minItems\\\",\\\"maximum\\\",\\\"minimum\\\",\\\"uniqueItems\\\",\\\"multipleOf\\\",\\\"required\\\",\\\"enum\\\"]);function d(e,r){return!1!==r&&(void 0===r||!0===r?function e(r){var t;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if(\\\"object\\\"==typeof(t=r[a])&&!e(t))return!1}else for(var s in r){if(\\\"$ref\\\"==s)return!1;if(\\\"object\\\"==typeof(t=r[s])&&!e(t))return!1}return!0}(e):r?function e(r){var t,a=0;if(Array.isArray(r)){for(var s=0;s<r.length;s++)if(\\\"object\\\"==typeof(t=r[s])&&(a+=e(t)),a==1/0)return 1/0}else for(var o in r){if(\\\"$ref\\\"==o)return 1/0;if(p[o])a++;else if(\\\"object\\\"==typeof(t=r[o])&&(a+=e(t)+1),a==1/0)return 1/0}return a}(e)<=r:void 0)}function m(e,r){return!1!==r&&(e=y(e)),v(a.parse(e,!1,!0))}function v(e){var r=e.protocol||\\\"//\\\"==e.href.slice(0,2)?\\\"//\\\":\\\"\\\";return(e.protocol||\\\"\\\")+r+(e.host||\\\"\\\")+(e.path||\\\"\\\")+\\\"#\\\"}var _=/#\\\\/?$/;function y(e){return e?e.replace(_,\\\"\\\"):\\\"\\\"}function g(e,r){return r=y(r),a.resolve(e,r)}},function(e,r,t){\\\"use strict\\\";e.exports=function e(r,t){if(r===t)return!0;var a,s=Array.isArray(r),o=Array.isArray(t);if(s&&o){if(r.length!=t.length)return!1;for(a=0;a<r.length;a++)if(!e(r[a],t[a]))return!1;return!0}if(s!=o)return!1;if(r&&t&&\\\"object\\\"==typeof r&&\\\"object\\\"==typeof t){var i=Object.keys(r);if(i.length!==Object.keys(t).length)return!1;var n=r instanceof Date,c=t instanceof Date;if(n&&c)return r.getTime()==t.getTime();if(n!=c)return!1;var l=r instanceof RegExp,u=t instanceof RegExp;if(l&&u)return r.toString()==t.toString();if(l!=u)return!1;for(a=0;a<i.length;a++)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=0;a<i.length;a++)if(!e(r[i[a]],t[i[a]]))return!1;return!0}return!1}},function(e,r,t){\\\"use strict\\\";var a=t(3);function s(e,r,t){this.message=t||s.message(e,r),this.missingRef=a.url(e,r),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message=\\\"validation failed\\\",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(s)},s.message=function(e,r){return\\\"can't resolve reference \\\"+r+\\\" from id \\\"+e}},function(e,r,t){\\\"use strict\\\";var a=t(0);e.exports=function(e){a.copy(e,this)}},function(e,r,t){var a=\\\"undefined\\\"!=typeof JSON?JSON:t(28);e.exports=function(e,r){r||(r={}),\\\"function\\\"==typeof r&&(r={cmp:r});var t=r.space||\\\"\\\";\\\"number\\\"==typeof t&&(t=Array(t+1).join(\\\" \\\"));var i,n=\\\"boolean\\\"==typeof r.cycles&&r.cycles,c=r.replacer||function(e,r){return r},l=r.cmp&&(i=r.cmp,function(e){return function(r,t){var a={key:r,value:e[r]},s={key:t,value:e[t]};return i(a,s)}}),u=[];return function e(r,i,h,f){var p=t?\\\"\\\\n\\\"+new Array(f+1).join(t):\\\"\\\",d=t?\\\": \\\":\\\":\\\";if(h&&h.toJSON&&\\\"function\\\"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=c.call(r,i,h))){if(\\\"object\\\"!=typeof h||null===h)return a.stringify(h);if(s(h)){for(var m=[],v=0;v<h.length;v++){var _=e(h,v,h[v],f+1)||a.stringify(null);m.push(p+t+_)}return\\\"[\\\"+m.join(\\\",\\\")+p+\\\"]\\\"}if(-1!==u.indexOf(h)){if(n)return a.stringify(\\\"__cycle__\\\");throw new TypeError(\\\"Converting circular structure to JSON\\\")}u.push(h);var y=o(h).sort(l&&l(h));for(m=[],v=0;v<y.length;v++){var g=e(h,i=y[v],h[i],f+1);if(g){var P=a.stringify(i)+d+g;m.push(p+t+P)}}return u.splice(u.indexOf(h),1),\\\"{\\\"+m.join(\\\",\\\")+p+\\\"}\\\"}}({\\\"\\\":e},\\\"\\\",e,0)};var s=Array.isArray||function(e){return\\\"[object Array]\\\"==={}.toString.call(e)},o=Object.keys||function(e){var r=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var a in e)r.call(e,a)&&t.push(a);return t}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\"\\\",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\\\"$ref\\\"),i=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var n=\\\"es7\\\"==e.opts.async;e.yieldAwait=n?\\\"await\\\":\\\"yield\\\"}a+=\\\" var validate = \\\",s?n?a+=\\\" (async function \\\":(\\\"*\\\"!=e.opts.async&&(a+=\\\"co.wrap\\\"),a+=\\\"(function* \\\"):a+=\\\" (function \\\",a+=\\\" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \\\",i&&(e.opts.sourceCode||e.opts.processCode)&&(a+=\\\" /*# sourceURL=\\\"+i+\\\" */ \\\")}if(\\\"boolean\\\"==typeof e.schema||!o&&!e.schema.$ref){var c=e.level,l=e.dataLevel,u=e.schema[\\\"false schema\\\"],h=e.schemaPath+e.util.getProperty(\\\"false schema\\\"),f=e.errSchemaPath+\\\"/false schema\\\",p=!e.opts.allErrors,d=\\\"data\\\"+(l||\\\"\\\"),m=\\\"valid\\\"+c;if(!1===e.schema){e.isTop?p=!0:a+=\\\" var \\\"+m+\\\" = false; \\\",(G=G||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'false schema' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(f)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'boolean schema is false' \\\"),e.opts.verbose&&(a+=\\\" , schema: false , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+d+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var v=a;a=G.pop(),!e.compositeRule&&p?e.async?a+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":a+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\"}else e.isTop?a+=s?\\\" return data; \\\":\\\" validate.errors = null; return true; \\\":a+=\\\" var \\\"+m+\\\" = true; \\\";return e.isTop&&(a+=\\\" }); return validate; \\\"),a}if(e.isTop){var _=e.isTop;c=e.level=0,l=e.dataLevel=0,d=\\\"data\\\";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=\\\" var vErrors = null; \\\",a+=\\\" var errors = 0;     \\\",a+=\\\" if (rootData === undefined) rootData = data; \\\"}else{c=e.level,d=\\\"data\\\"+((l=e.dataLevel)||\\\"\\\");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw new Error(\\\"async schema in sync schema\\\");a+=\\\" var errs_\\\"+c+\\\" = errors;\\\"}m=\\\"valid\\\"+c,p=!e.opts.allErrors;var y=\\\"\\\",g=\\\"\\\",P=e.schema.type,b=Array.isArray(P);if(b&&1==P.length&&(P=P[0],b=!1),e.schema.$ref&&o){if(\\\"fail\\\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \\\"'+e.errSchemaPath+'\\\" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,console.warn('$ref: keywords ignored in schema at path \\\"'+e.errSchemaPath+'\\\"'))}if(P){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,P);var E=e.RULES.types[P];if(w||b||!0===E||E&&!J(E)){h=e.schemaPath+\\\".type\\\",f=e.errSchemaPath+\\\"/type\\\",h=e.schemaPath+\\\".type\\\",f=e.errSchemaPath+\\\"/type\\\";var S=b?\\\"checkDataTypes\\\":\\\"checkDataType\\\";if(a+=\\\" if (\\\"+e.util[S](P,d,!0)+\\\") { \\\",w){var j=\\\"dataType\\\"+c,x=\\\"coerced\\\"+c;a+=\\\" var \\\"+j+\\\" = typeof \\\"+d+\\\"; \\\",\\\"array\\\"==e.opts.coerceTypes&&(a+=\\\" if (\\\"+j+\\\" == 'object' && Array.isArray(\\\"+d+\\\")) \\\"+j+\\\" = 'array'; \\\"),a+=\\\" var \\\"+x+\\\" = undefined; \\\";var R=\\\"\\\",F=w;if(F)for(var O,A=-1,$=F.length-1;A<$;)O=F[A+=1],A&&(a+=\\\" if (\\\"+x+\\\" === undefined) { \\\",R+=\\\"}\\\"),\\\"array\\\"==e.opts.coerceTypes&&\\\"array\\\"!=O&&(a+=\\\" if (\\\"+j+\\\" == 'array' && \\\"+d+\\\".length == 1) { \\\"+x+\\\" = \\\"+d+\\\" = \\\"+d+\\\"[0]; \\\"+j+\\\" = typeof \\\"+d+\\\";  } \\\"),\\\"string\\\"==O?a+=\\\" if (\\\"+j+\\\" == 'number' || \\\"+j+\\\" == 'boolean') \\\"+x+\\\" = '' + \\\"+d+\\\"; else if (\\\"+d+\\\" === null) \\\"+x+\\\" = ''; \\\":\\\"number\\\"==O||\\\"integer\\\"==O?(a+=\\\" if (\\\"+j+\\\" == 'boolean' || \\\"+d+\\\" === null || (\\\"+j+\\\" == 'string' && \\\"+d+\\\" && \\\"+d+\\\" == +\\\"+d+\\\" \\\",\\\"integer\\\"==O&&(a+=\\\" && !(\\\"+d+\\\" % 1)\\\"),a+=\\\")) \\\"+x+\\\" = +\\\"+d+\\\"; \\\"):\\\"boolean\\\"==O?a+=\\\" if (\\\"+d+\\\" === 'false' || \\\"+d+\\\" === 0 || \\\"+d+\\\" === null) \\\"+x+\\\" = false; else if (\\\"+d+\\\" === 'true' || \\\"+d+\\\" === 1) \\\"+x+\\\" = true; \\\":\\\"null\\\"==O?a+=\\\" if (\\\"+d+\\\" === '' || \\\"+d+\\\" === 0 || \\\"+d+\\\" === false) \\\"+x+\\\" = null; \\\":\\\"array\\\"==e.opts.coerceTypes&&\\\"array\\\"==O&&(a+=\\\" if (\\\"+j+\\\" == 'string' || \\\"+j+\\\" == 'number' || \\\"+j+\\\" == 'boolean' || \\\"+d+\\\" == null) \\\"+x+\\\" = [\\\"+d+\\\"]; \\\");a+=\\\" \\\"+R+\\\" if (\\\"+x+\\\" === undefined) {   \\\",(G=G||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'type' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(f)+\\\" , params: { type: '\\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should be \\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+h+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+d+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";v=a;a=G.pop(),!e.compositeRule&&p?e.async?a+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":a+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } else {  \\\";var k=l?\\\"data\\\"+(l-1||\\\"\\\"):\\\"parentData\\\";a+=\\\" \\\"+d+\\\" = \\\"+x+\\\"; \\\",l||(a+=\\\"if (\\\"+k+\\\" !== undefined)\\\"),a+=\\\" \\\"+k+\\\"[\\\"+(l?e.dataPathArr[l]:\\\"parentDataProperty\\\")+\\\"] = \\\"+x+\\\"; } \\\"}else{(G=G||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'type' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(f)+\\\" , params: { type: '\\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should be \\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+h+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+d+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";v=a;a=G.pop(),!e.compositeRule&&p?e.async?a+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":a+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\"}a+=\\\" } \\\"}}if(e.schema.$ref&&!o)a+=\\\" \\\"+e.RULES.all.$ref.code(e,\\\"$ref\\\")+\\\" \\\",p&&(a+=\\\" } if (errors === \\\",a+=_?\\\"0\\\":\\\"errs_\\\"+c,a+=\\\") { \\\",g+=\\\"}\\\");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword \\\"patternGroups\\\" is deprecated and disabled. Use option patternGroups: true to enable.');var I=e.RULES;if(I)for(var D=-1,q=I.length-1;D<q;)if(J(E=I[D+=1])){if(E.type&&(a+=\\\" if (\\\"+e.util.checkDataType(E.type,d)+\\\") { \\\"),e.opts.useDefaults&&!e.compositeRule)if(\\\"object\\\"==E.type&&e.schema.properties){u=e.schema.properties;var C=Object.keys(u);if(C)for(var L,U=-1,z=C.length-1;U<z;){if(void 0!==(M=u[L=C[U+=1]]).default)a+=\\\"  if (\\\"+(N=d+e.util.getProperty(L))+\\\" === undefined) \\\"+N+\\\" = \\\",\\\"shared\\\"==e.opts.useDefaults?a+=\\\" \\\"+e.useDefault(M.default)+\\\" \\\":a+=\\\" \\\"+JSON.stringify(M.default)+\\\" \\\",a+=\\\"; \\\"}}else if(\\\"array\\\"==E.type&&Array.isArray(e.schema.items)){var Q=e.schema.items;if(Q){A=-1;for(var M,T=Q.length-1;A<T;){var N;if(void 0!==(M=Q[A+=1]).default)a+=\\\"  if (\\\"+(N=d+\\\"[\\\"+A+\\\"]\\\")+\\\" === undefined) \\\"+N+\\\" = \\\",\\\"shared\\\"==e.opts.useDefaults?a+=\\\" \\\"+e.useDefault(M.default)+\\\" \\\":a+=\\\" \\\"+JSON.stringify(M.default)+\\\" \\\",a+=\\\"; \\\"}}}var V=E.rules;if(V)for(var H,W=-1,B=V.length-1;W<B;)if(Z(H=V[W+=1])){var K=H.code(e,H.keyword,E.type);K&&(a+=\\\" \\\"+K+\\\" \\\",p&&(y+=\\\"}\\\"))}if(p&&(a+=\\\" \\\"+y+\\\" \\\",y=\\\"\\\"),E.type&&(a+=\\\" } \\\",P&&P===E.type&&!w)){a+=\\\" else { \\\";var G;h=e.schemaPath+\\\".type\\\",f=e.errSchemaPath+\\\"/type\\\";(G=G||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'type' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(f)+\\\" , params: { type: '\\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should be \\\",a+=b?\\\"\\\"+P.join(\\\",\\\"):\\\"\\\"+P,a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+h+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+d+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";v=a;a=G.pop(),!e.compositeRule&&p?e.async?a+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":a+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } \\\"}p&&(a+=\\\" if (errors === \\\",a+=_?\\\"0\\\":\\\"errs_\\\"+c,a+=\\\") { \\\",g+=\\\"}\\\")}}function J(e){for(var r=e.rules,t=0;t<r.length;t++)if(Z(r[t]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return p&&(a+=\\\" \\\"+g+\\\" \\\"),_?(s?(a+=\\\" if (errors === 0) return data;           \\\",a+=\\\" else throw new ValidationError(vErrors); \\\"):(a+=\\\" validate.errors = vErrors; \\\",a+=\\\" return errors === 0;       \\\"),a+=\\\" }); return validate;\\\"):a+=\\\" var \\\"+m+\\\" = errors === errs_\\\"+c+\\\";\\\",a=e.util.cleanUpCode(a),_&&(a=e.util.finalCleanUpCode(a,s)),a}},function(e,r){var t=Array.prototype.slice;function a(e){var r=this,a=t.call(arguments,1);return new Promise((function(t,o){if(\\\"function\\\"==typeof e&&(e=e.apply(r,a)),!e||\\\"function\\\"!=typeof e.next)return t(e);function i(r){var t;try{t=e.next(r)}catch(e){return o(e)}l(t)}function n(r){var t;try{t=e.throw(r)}catch(e){return o(e)}l(t)}function l(e){if(e.done)return t(e.value);var a=s.call(r,e.value);return a&&c(a)?a.then(i,n):n(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: \\\"'+String(e.value)+'\\\"'))}i()}))}function s(e){return e?c(e)?e:function(e){var r=e.constructor;return!!r&&(\\\"GeneratorFunction\\\"===r.name||\\\"GeneratorFunction\\\"===r.displayName||l(r.prototype))}(e)||l(e)?a.call(this,e):\\\"function\\\"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):Object==e.constructor?n.call(this,e):e:e}function o(e){var r=this;return new Promise((function(a,s){e.call(r,(function(e,r){if(e)return s(e);arguments.length>2&&(r=t.call(arguments,1)),a(r)}))}))}function i(e){return Promise.all(e.map(s,this))}function n(e){for(var r=new e.constructor,t=Object.keys(e),a=[],o=0;o<t.length;o++){var i=t[o],n=s.call(this,e[i]);n&&c(n)?l(n,i):r[i]=e[i]}return Promise.all(a).then((function(){return r}));function l(e,t){r[t]=void 0,a.push(e.then((function(e){r[t]=e})))}}function c(e){return\\\"function\\\"==typeof e.then}function l(e){return\\\"function\\\"==typeof e.next&&\\\"function\\\"==typeof e.throw}e.exports=a.default=a.co=a,a.wrap=function(e){return r.__generatorFunction__=e,r;function r(){return a.call(this,e.apply(this,arguments))}}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n;var p=\\\"maximum\\\"==r,d=p?\\\"exclusiveMaximum\\\":\\\"exclusiveMinimum\\\",m=e.schema[d],v=p?\\\"<\\\":\\\">\\\",_=p?\\\">\\\":\\\"<\\\",y=void 0;if(e.opts.$data&&m&&m.$data){var g=e.util.getData(m.$data,i,e.dataPathArr),P=\\\"exclusive\\\"+o,b=\\\"exclType\\\"+o,w=\\\"exclIsNumber\\\"+o,E=\\\"' + \\\"+(x=\\\"op\\\"+o)+\\\" + '\\\";s+=\\\" var schemaExcl\\\"+o+\\\" = \\\"+g+\\\"; \\\",s+=\\\" var \\\"+P+\\\"; var \\\"+b+\\\" = typeof \\\"+(g=\\\"schemaExcl\\\"+o)+\\\"; if (\\\"+b+\\\" != 'boolean' && \\\"+b+\\\" != 'undefined' && \\\"+b+\\\" != 'number') { \\\";var S;y=d;(S=S||[]).push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: '\\\"+(y||\\\"_exclusiveLimit\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: {} \\\",!1!==e.opts.messages&&(s+=\\\" , message: '\\\"+d+\\\" should be boolean' \\\"),e.opts.verbose&&(s+=\\\" , schema: validate.schema\\\"+c+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var j=s;s=S.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+j+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+j+\\\"]; return false; \\\":s+=\\\" var err = \\\"+j+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\" } else if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),s+=\\\" \\\"+b+\\\" == 'number' ? ( (\\\"+P+\\\" = \\\"+a+\\\" === undefined || \\\"+g+\\\" \\\"+v+\\\"= \\\"+a+\\\") ? \\\"+h+\\\" \\\"+_+\\\"= \\\"+g+\\\" : \\\"+h+\\\" \\\"+_+\\\" \\\"+a+\\\" ) : ( (\\\"+P+\\\" = \\\"+g+\\\" === true) ? \\\"+h+\\\" \\\"+_+\\\"= \\\"+a+\\\" : \\\"+h+\\\" \\\"+_+\\\" \\\"+a+\\\" ) || \\\"+h+\\\" !== \\\"+h+\\\") { var op\\\"+o+\\\" = \\\"+P+\\\" ? '\\\"+v+\\\"' : '\\\"+v+\\\"=';\\\"}else{E=v;if((w=\\\"number\\\"==typeof m)&&f){var x=\\\"'\\\"+E+\\\"'\\\";s+=\\\" if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),s+=\\\" ( \\\"+a+\\\" === undefined || \\\"+m+\\\" \\\"+v+\\\"= \\\"+a+\\\" ? \\\"+h+\\\" \\\"+_+\\\"= \\\"+m+\\\" : \\\"+h+\\\" \\\"+_+\\\" \\\"+a+\\\" ) || \\\"+h+\\\" !== \\\"+h+\\\") { \\\"}else{w&&void 0===n?(P=!0,y=d,l=e.errSchemaPath+\\\"/\\\"+d,a=m,_+=\\\"=\\\"):(w&&(a=Math[p?\\\"min\\\":\\\"max\\\"](m,n)),m===(!w||a)?(P=!0,y=d,l=e.errSchemaPath+\\\"/\\\"+d,_+=\\\"=\\\"):(P=!1,E+=\\\"=\\\"));x=\\\"'\\\"+E+\\\"'\\\";s+=\\\" if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),s+=\\\" \\\"+h+\\\" \\\"+_+\\\" \\\"+a+\\\" || \\\"+h+\\\" !== \\\"+h+\\\") { \\\"}}y=y||r,(S=S||[]).push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: '\\\"+(y||\\\"_limit\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { comparison: \\\"+x+\\\", limit: \\\"+a+\\\", exclusive: \\\"+P+\\\" } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should be \\\"+E+\\\" \\\",s+=f?\\\"' + \\\"+a:a+\\\"'\\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";j=s;return s=S.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+j+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+j+\\\"]; return false; \\\":s+=\\\" var err = \\\"+j+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\" } \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n,s+=\\\"if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),s+=\\\" \\\"+h+\\\".length \\\"+(\\\"maxItems\\\"==r?\\\">\\\":\\\"<\\\")+\\\" \\\"+a+\\\") { \\\";var p=r,d=d||[];d.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: '\\\"+(p||\\\"_limitItems\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { limit: \\\"+a+\\\" } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should NOT have \\\",s+=\\\"maxItems\\\"==r?\\\"more\\\":\\\"less\\\",s+=\\\" than \\\",s+=f?\\\"' + \\\"+a+\\\" + '\\\":\\\"\\\"+n,s+=\\\" items' \\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var m=s;return s=d.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+m+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+m+\\\"]; return false; \\\":s+=\\\" var err = \\\"+m+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\"} \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n;var p=\\\"maxLength\\\"==r?\\\">\\\":\\\"<\\\";s+=\\\"if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),!1===e.opts.unicode?s+=\\\" \\\"+h+\\\".length \\\":s+=\\\" ucs2length(\\\"+h+\\\") \\\",s+=\\\" \\\"+p+\\\" \\\"+a+\\\") { \\\";var d=r,m=m||[];m.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: '\\\"+(d||\\\"_limitLength\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { limit: \\\"+a+\\\" } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should NOT be \\\",s+=\\\"maxLength\\\"==r?\\\"longer\\\":\\\"shorter\\\",s+=\\\" than \\\",s+=f?\\\"' + \\\"+a+\\\" + '\\\":\\\"\\\"+n,s+=\\\" characters' \\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var v=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":s+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\"} \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n,s+=\\\"if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'number') || \\\"),s+=\\\" Object.keys(\\\"+h+\\\").length \\\"+(\\\"maxProperties\\\"==r?\\\">\\\":\\\"<\\\")+\\\" \\\"+a+\\\") { \\\";var p=r,d=d||[];d.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: '\\\"+(p||\\\"_limitProperties\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { limit: \\\"+a+\\\" } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should NOT have \\\",s+=\\\"maxProperties\\\"==r?\\\"more\\\":\\\"less\\\",s+=\\\" than \\\",s+=f?\\\"' + \\\"+a+\\\" + '\\\":\\\"\\\"+n,s+=\\\" properties' \\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var m=s;return s=d.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+m+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+m+\\\"]; return false; \\\":s+=\\\" var err = \\\"+m+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\"} \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";t.d(r,\\\"a\\\",(function(){return s}));var a=t(2);function s(e,r){const t={};r=r||{};const s=new a.b(e,r);s.onGetInterface((function(){n()})),s.onRemoteUpdate((function(){if(t.remote=s.getRemote(),!t.remote)return;const e=t.remote||{};e.export&&console.error(\\\"WARNING: overwriting function 'export'.\\\"),e.onload&&console.error(\\\"WARNING: overwriting function 'onload'.\\\"),e.dispose&&console.error(\\\"WARNING: overwriting function 'dispose'.\\\"),e.export=t.setInterface,e.onLoad=t.whenConnected,e.dispose=t.disconnect,\\\"undefined\\\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?(self.api=e,self.postMessage({type:\\\"imjoy_remote_api_ready\\\"})):window.dispatchEvent(new CustomEvent(\\\"imjoy_remote_api_ready\\\",{detail:e}))}));var o=!1,i=[],n=function(){var e;if(!o)for(o=!0;e=i.pop();)e()};t.whenConnected=function(e){e=function(e){var r=typeof e;if(\\\"function\\\"!==r)throw new Error(\\\"A function may only be subsribed to the event, \\\"+r+\\\" was provided instead\\\");return e}(e),o?e():i.push(e)},t.setInterface=function(e){s.setInterface(e)},t.disconnect=function(e){s.disconnect()}}},function(e,r,t){\\\"use strict\\\";var a=t(17),s=t(3),o=t(31),i=t(6),n=t(7),c=t(32),l=t(33),u=t(52),h=t(53),f=t(0),p=t(9);e.exports=g,g.prototype.validate=function(e,r){var t;if(\\\"string\\\"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref \\\"'+e+'\\\"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var s=t(r);return!0===t.$async?\\\"*\\\"==this._opts.async?p(s):s:(this.errors=t.errors,s)},g.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},g.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,t,a);return}var i=this._getId(e);if(void 0!==i&&\\\"string\\\"!=typeof i)throw new Error(\\\"schema id must be string\\\");j(this,r=s.normalizeId(r||i)),this._schemas[r]=this._addSchema(e,t,a,!0)},g.prototype.addMetaSchema=function(e,r,t){this.addSchema(e,r,t,!0)},g.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&\\\"string\\\"!=typeof t)throw new Error(\\\"$schema must be a string\\\");if(!(t=t||this._opts.defaultMeta||function(e){var r=e._opts.meta;return e._opts.defaultMeta=\\\"object\\\"==typeof r?e._getId(r)||r:e.getSchema(v)?v:void 0,e._opts.defaultMeta}(this)))return console.warn(\\\"meta-schema not available\\\"),this.errors=null,!0;var a,s=this._formats.uri;this._formats.uri=\\\"function\\\"==typeof s?this._schemaUriFormatFunc:this._schemaUriFormat;try{a=this.validate(t,e)}finally{this._formats.uri=s}if(!a&&r){var o=\\\"schema is invalid: \\\"+this.errorsText();if(\\\"log\\\"!=this._opts.validateSchema)throw new Error(o);console.error(o)}return a},g.prototype.getSchema=function(e){var r=P(this,e);switch(typeof r){case\\\"object\\\":return r.validate||this._compile(r);case\\\"string\\\":return this.getSchema(r);case\\\"undefined\\\":return function(e,r){var t=s.schema.call(e,{schema:{}},r);if(t){var o=t.schema,n=t.root,c=t.baseId,l=a.call(e,o,n,void 0,c);return e._fragments[r]=new i({ref:r,fragment:!0,schema:o,root:n,baseId:c,validate:l}),l}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),void b(this,this._refs,e);switch(typeof e){case\\\"undefined\\\":return b(this,this._schemas),b(this,this._refs),void this._cache.clear();case\\\"string\\\":var r=P(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],void delete this._refs[e];case\\\"object\\\":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var o=this._getId(e);o&&(o=s.normalizeId(o),delete this._schemas[o],delete this._refs[o])}},g.prototype.addFormat=function(e,r){\\\"string\\\"==typeof r&&(r=new RegExp(r));this._formats[e]=r},g.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return\\\"No errors\\\";for(var t=void 0===(r=r||{}).separator?\\\", \\\":r.separator,a=void 0===r.dataVar?\\\"data\\\":r.dataVar,s=\\\"\\\",o=0;o<e.length;o++){var i=e[o];i&&(s+=a+i.dataPath+\\\" \\\"+i.message+t)}return s.slice(0,-t.length)},g.prototype._addSchema=function(e,r,t,a){if(\\\"object\\\"!=typeof e&&\\\"boolean\\\"!=typeof e)throw new Error(\\\"schema should be object or boolean\\\");var o=this._opts.serialize,n=o?o(e):e,c=this._cache.get(n);if(c)return c;a=a||!1!==this._opts.addUsedSchema;var l=s.normalizeId(this._getId(e));l&&a&&j(this,l);var u,h=!1!==this._opts.validateSchema&&!r;h&&!(u=l&&l==s.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=s.ids.call(this,e),p=new i({id:l,schema:e,localRefs:f,cacheKey:n,meta:t});\\\"#\\\"!=l[0]&&a&&(this._refs[l]=p);this._cache.put(n,p),h&&u&&this.validateSchema(e,!0);return p},g.prototype._compile=function(e,r){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=r||o,!0===e.schema.$async&&(o.$async=!0),o;var t,s;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{s=a.call(this,e.schema,r,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=s,e.refs=s.refs,e.refVal=s.refVal,e.root=s.root,s;function o(){var r=e.validate,t=r.apply(null,arguments);return o.errors=r.errors,t}},g.prototype.compileAsync=t(54);var d=t(55);g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove;var m=t(5);g.ValidationError=m.Validation,g.MissingRefError=m.MissingRef,g.$dataMetaSchema=u;var v=\\\"http://json-schema.org/draft-06/schema\\\",_=[\\\"removeAdditional\\\",\\\"useDefaults\\\",\\\"coerceTypes\\\"],y=[\\\"/properties\\\"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=f.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format);var r=this._schemaUriFormat=this._formats[\\\"uri-reference\\\"];this._schemaUriFormatFunc=function(e){return r.test(e)},this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case\\\"$id\\\":return E;case\\\"id\\\":return w;default:return S}}(e),e.loopRequired=e.loopRequired||1/0,\\\"property\\\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=n),this._metaOpts=function(e){for(var r=f.copy(e._opts),t=0;t<_.length;t++)delete r[_[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),function(e){var r;e._opts.$data&&(r=t(57),e.addMetaSchema(r,r.$id,!0));if(!1===e._opts.meta)return;var a=t(58);e._opts.$data&&(a=u(a,y));e.addMetaSchema(a,v,!0),e._refs[\\\"http://json-schema.org/schema\\\"]=v}(this),\\\"object\\\"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var r=e._opts.schemas;if(!r)return;if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this),e.patternGroups&&h(this)}function P(e,r){return r=s.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function b(e,r,t){for(var a in r){var s=r[a];s.meta||t&&!t.test(a)||(e._cache.del(s.cacheKey),delete r[a])}}function w(e){return e.$id&&console.warn(\\\"schema $id ignored\\\",e.$id),e.id}function E(e){return e.id&&console.warn(\\\"schema id ignored\\\",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\\\"schema $id is different from id\\\");return e.$id||e.id}function j(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id \\\"'+r+'\\\" already exists')}},function(module,__webpack_exports__,__webpack_require__){\\\"use strict\\\";__webpack_require__.r(__webpack_exports__);var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_rpc_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);!function(){if(!(\\\"undefined\\\"!=typeof WorkerGlobalScope&&self&&self instanceof WorkerGlobalScope))throw new Error(\\\"This script can only loaded in a webworker\\\");var execute=function(code){try{if(\\\"requirements\\\"===code.type)try{if(code.requirements&&(Array.isArray(code.requirements)||\\\"string\\\"==typeof code.requirements))try{Array.isArray(code.requirements)||(code.requirements=[code.requirements]);for(var i=0;i<code.requirements.length;i++){if(code.requirements[i].toLowerCase().endsWith(\\\".css\\\")||code.requirements[i].startsWith(\\\"css:\\\"))throw\\\"unable to import css in a webworker\\\";code.requirements[i].toLowerCase().endsWith(\\\".js\\\")||code.requirements[i].startsWith(\\\"js:\\\")?(code.requirements[i].startsWith(\\\"js:\\\")&&(code.requirements[i]=code.requirements[i].slice(3)),importScripts(code.requirements[i])):code.requirements[i].startsWith(\\\"http\\\")?importScripts(code.requirements[i]):code.requirements[i].startsWith(\\\"cache:\\\")||console.log(\\\"Unprocessed requirements url: \\\"+code.requirements[i])}}catch(e){throw\\\"failed to import required scripts: \\\"+code.requirements.toString()}}catch(e){throw e}else{if(\\\"script\\\"!==code.type)throw\\\"unsupported code type.\\\";try{if(code.requirements&&(Array.isArray(code.requirements)||\\\"string\\\"==typeof code.requirements))try{if(Array.isArray(code.requirements))for(let e=0;e<code.requirements.length;e++)importScripts(code.requirements[e]);else importScripts(code.requirements)}catch(e){throw\\\"failed to import required scripts: \\\"+code.requirements.toString()}eval(code.content)}catch(e){throw console.error(e.message,e.stack),e}}self.postMessage({type:\\\"executeSuccess\\\"})}catch(e){console.error(\\\"failed to execute scripts: \\\",code,e),self.postMessage({type:\\\"executeFailure\\\",error:e.stack||String(e)})}};const conn={disconnect:function(){self.close()},send:function(e,r){e.__transferables__=r,self.postMessage(e,r)},onMessage:function(e){conn._messageHandler=e},_messageHandler:function(){},onDisconnect:function(){}},config={type:\\\"web-worker\\\",dedicated_thread:!0,allow_execution:!0,lang:\\\"javascript\\\",api_version:_rpc_js__WEBPACK_IMPORTED_MODULE_1__.a};self.addEventListener(\\\"message\\\",(function(e){const r=e.data;switch(r&&r.type){case\\\"getConfig\\\":self.postMessage({type:\\\"config\\\",config:config});break;case\\\"execute\\\":execute(r.code),\\\"requirements\\\"===r.code.type&&(Array.isArray(r.code.requirements)||(r.code.requirements=[r.code.requirements]),self.postMessage({type:\\\"cacheRequirements\\\",requirements:r.code.requirements}));break;case\\\"connectRPC\\\":Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__.a)(conn,r.config);break;default:conn._messageHandler(r)}})),self.postMessage({type:\\\"initialized\\\",config:config})}()},function(e,r,t){\\\"use strict\\\";var a=t(3),s=t(0),o=t(5),i=t(7),n=t(8),c=t(9),l=s.ucs2length,u=t(4),h=o.Validation;function f(e,r,t){var a=d.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function p(e,r,t){var a=d.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function d(e,r,t){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==e&&s.root==r&&s.baseId==t)return a}return-1}function m(e,r){return\\\"var pattern\\\"+e+\\\" = new RegExp(\\\"+s.toQuotedString(r[e])+\\\");\\\"}function v(e){return\\\"var default\\\"+e+\\\" = defaults[\\\"+e+\\\"];\\\"}function _(e,r){return void 0===r[e]?\\\"\\\":\\\"var refVal\\\"+e+\\\" = refVal[\\\"+e+\\\"];\\\"}function y(e){return\\\"var customRule\\\"+e+\\\" = customRules[\\\"+e+\\\"];\\\"}function g(e,r){if(!e.length)return\\\"\\\";for(var t=\\\"\\\",a=0;a<e.length;a++)t+=r(a,e);return t}e.exports=function e(r,t,d,P){var b=this,w=this._opts,E=[void 0],S={},j=[],x={},R=[],F={},O=[];t=t||{schema:r,refVal:E,refs:S};var A=f.call(this,r,t,P),$=this._compilations[A.index];if(A.compiling)return $.callValidate=function e(){var r=$.validate,t=r.apply(null,arguments);return e.errors=r.errors,t};var k=this._formats,I=this.RULES;try{var D=C(r,t,d,P);$.validate=D;var q=$.callValidate;return q&&(q.schema=D.schema,q.errors=null,q.refs=D.refs,q.refVal=D.refVal,q.root=D.root,q.$async=D.$async,w.sourceCode&&(q.source=D.source)),D}finally{p.call(this,r,t,P)}function C(r,i,f,p){var d=!i||i&&i.schema==r;if(i.schema!=t.schema)return e.call(b,r,i,f,p);var P,x=!0===r.$async,F=n({isTop:!0,schema:r,isRoot:d,baseId:p,root:i,schemaPath:\\\"\\\",errSchemaPath:\\\"#\\\",errorPath:'\\\"\\\"',MissingRefError:o.MissingRef,RULES:I,validate:n,util:s,resolve:a,resolveRef:L,usePattern:Q,useDefault:M,useCustomRule:T,opts:w,formats:k,self:b});F=g(E,_)+g(j,m)+g(R,v)+g(O,y)+F,w.processCode&&(F=w.processCode(F));try{P=new Function(\\\"self\\\",\\\"RULES\\\",\\\"formats\\\",\\\"root\\\",\\\"refVal\\\",\\\"defaults\\\",\\\"customRules\\\",\\\"co\\\",\\\"equal\\\",\\\"ucs2length\\\",\\\"ValidationError\\\",F)(b,I,k,t,E,R,O,c,u,l,h),E[0]=P}catch(e){throw console.error(\\\"Error compiling schema, function code:\\\",F),e}return P.schema=r,P.errors=null,P.refs=S,P.refVal=E,P.root=d?P:i,x&&(P.$async=!0),!0===w.sourceCode&&(P.source={code:F,patterns:j,defaults:R}),P}function L(r,s,o){s=a.url(r,s);var i,n,c=S[s];if(void 0!==c)return z(i=E[c],n=\\\"refVal[\\\"+c+\\\"]\\\");if(!o&&t.refs){var l=t.refs[s];if(void 0!==l)return z(i=t.refVal[l],n=U(s,i))}n=U(s);var u=a.call(b,C,t,s);if(void 0===u){var h=d&&d[s];h&&(u=a.inlineRef(h,w.inlineRefs)?h:e.call(b,h,t,d,r))}return void 0!==u?(function(e,r){var t=S[e];E[t]=r}(s,u),z(u,n)):void 0}function U(e,r){var t=E.length;return E[t]=r,S[e]=t,\\\"refVal\\\"+t}function z(e,r){return\\\"object\\\"==typeof e||\\\"boolean\\\"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&e.$async}}function Q(e){var r=x[e];return void 0===r&&(r=x[e]=j.length,j[r]=e),\\\"pattern\\\"+r}function M(e){switch(typeof e){case\\\"boolean\\\":case\\\"number\\\":return\\\"\\\"+e;case\\\"string\\\":return s.toQuotedString(e);case\\\"object\\\":if(null===e)return\\\"null\\\";var r=i(e),t=F[r];return void 0===t&&(t=F[r]=R.length,R[t]=e),\\\"default\\\"+t}}function T(e,r,t,a){var s=e.definition.validateSchema;if(s&&!1!==b._opts.validateSchema&&!s(r)){var o=\\\"keyword schema is invalid: \\\"+b.errorsText(s.errors);if(\\\"log\\\"!=b._opts.validateSchema)throw new Error(o);console.error(o)}var i,n=e.definition.compile,c=e.definition.inline,l=e.definition.macro;if(n)i=n.call(b,r,t,a);else if(l)i=l.call(b,r,t,a),!1!==w.validateSchema&&b.validateSchema(i,!0);else if(c)i=c.call(b,a,e.keyword,r,t);else if(!(i=e.definition.validate))return;if(void 0===i)throw new Error('custom keyword \\\"'+e.keyword+'\\\"failed to compile');var u=O.length;return O[u]=i,{code:\\\"customRule\\\"+u,validate:i}}}},function(e,r,t){\\\"use strict\\\";var a=t(19),s=t(22);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=g,r.resolve=function(e,r){return g(e,!1,!0).resolve(r)},r.resolveObject=function(e,r){return e?g(e,!1,!0).resolveObject(r):r},r.format=function(e){s.isString(e)&&(e=g(e));return e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var i=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,c=/^(\\\\/\\\\/?(?!\\\\/)[^\\\\?\\\\s]*)(\\\\?[^\\\\s]*)?$/,l=[\\\"{\\\",\\\"}\\\",\\\"|\\\",\\\"\\\\\\\\\\\",\\\"^\\\",\\\"`\\\"].concat([\\\"<\\\",\\\">\\\",'\\\"',\\\"`\\\",\\\" \\\",\\\"\\\\r\\\",\\\"\\\\n\\\",\\\"\\\\t\\\"]),u=[\\\"'\\\"].concat(l),h=[\\\"%\\\",\\\"/\\\",\\\"?\\\",\\\";\\\",\\\"#\\\"].concat(u),f=[\\\"/\\\",\\\"?\\\",\\\"#\\\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,\\\"javascript:\\\":!0},v={javascript:!0,\\\"javascript:\\\":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\\\"http:\\\":!0,\\\"https:\\\":!0,\\\"ftp:\\\":!0,\\\"gopher:\\\":!0,\\\"file:\\\":!0},y=t(23);function g(e,r,t){if(e&&s.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,r,t),a}o.prototype.parse=function(e,r,t){if(!s.isString(e))throw new TypeError(\\\"Parameter 'url' must be a string, not \\\"+typeof e);var o=e.indexOf(\\\"?\\\"),n=-1!==o&&o<e.indexOf(\\\"#\\\")?\\\"?\\\":\\\"#\\\",l=e.split(n);l[0]=l[0].replace(/\\\\\\\\/g,\\\"/\\\");var g=e=l.join(n);if(g=g.trim(),!t&&1===e.split(\\\"#\\\").length){var P=c.exec(g);if(P)return this.path=g,this.href=g,this.pathname=P[1],P[2]?(this.search=P[2],this.query=r?y.parse(this.search.substr(1)):this.search.substr(1)):r&&(this.search=\\\"\\\",this.query={}),this}var b=i.exec(g);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,g=g.substr(b.length)}if(t||b||g.match(/^\\\\/\\\\/[^@\\\\/]+@[^@\\\\/]+/)){var E=\\\"//\\\"===g.substr(0,2);!E||b&&v[b]||(g=g.substr(2),this.slashes=!0)}if(!v[b]&&(E||b&&!_[b])){for(var S,j,x=-1,R=0;R<f.length;R++){-1!==(F=g.indexOf(f[R]))&&(-1===x||F<x)&&(x=F)}-1!==(j=-1===x?g.lastIndexOf(\\\"@\\\"):g.lastIndexOf(\\\"@\\\",x))&&(S=g.slice(0,j),g=g.slice(j+1),this.auth=decodeURIComponent(S)),x=-1;for(R=0;R<h.length;R++){var F;-1!==(F=g.indexOf(h[R]))&&(-1===x||F<x)&&(x=F)}-1===x&&(x=g.length),this.host=g.slice(0,x),g=g.slice(x),this.parseHost(),this.hostname=this.hostname||\\\"\\\";var O=\\\"[\\\"===this.hostname[0]&&\\\"]\\\"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\\\\./),$=(R=0,A.length);R<$;R++){var k=A[R];if(k&&!k.match(p)){for(var I=\\\"\\\",D=0,q=k.length;D<q;D++)k.charCodeAt(D)>127?I+=\\\"x\\\":I+=k[D];if(!I.match(p)){var C=A.slice(0,R),L=A.slice(R+1),U=k.match(d);U&&(C.push(U[1]),L.unshift(U[2])),L.length&&(g=\\\"/\\\"+L.join(\\\".\\\")+g),this.hostname=C.join(\\\".\\\");break}}}this.hostname.length>255?this.hostname=\\\"\\\":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=a.toASCII(this.hostname));var z=this.port?\\\":\\\"+this.port:\\\"\\\",Q=this.hostname||\\\"\\\";this.host=Q+z,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\\\"/\\\"!==g[0]&&(g=\\\"/\\\"+g))}if(!m[w])for(R=0,$=u.length;R<$;R++){var M=u[R];if(-1!==g.indexOf(M)){var T=encodeURIComponent(M);T===M&&(T=escape(M)),g=g.split(M).join(T)}}var N=g.indexOf(\\\"#\\\");-1!==N&&(this.hash=g.substr(N),g=g.slice(0,N));var V=g.indexOf(\\\"?\\\");if(-1!==V?(this.search=g.substr(V),this.query=g.substr(V+1),r&&(this.query=y.parse(this.query)),g=g.slice(0,V)):r&&(this.search=\\\"\\\",this.query={}),g&&(this.pathname=g),_[w]&&this.hostname&&!this.pathname&&(this.pathname=\\\"/\\\"),this.pathname||this.search){z=this.pathname||\\\"\\\";var H=this.search||\\\"\\\";this.path=z+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||\\\"\\\";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\\\":\\\"),e+=\\\"@\\\");var r=this.protocol||\\\"\\\",t=this.pathname||\\\"\\\",a=this.hash||\\\"\\\",o=!1,i=\\\"\\\";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(\\\":\\\")?this.hostname:\\\"[\\\"+this.hostname+\\\"]\\\"),this.port&&(o+=\\\":\\\"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var n=this.search||i&&\\\"?\\\"+i||\\\"\\\";return r&&\\\":\\\"!==r.substr(-1)&&(r+=\\\":\\\"),this.slashes||(!r||_[r])&&!1!==o?(o=\\\"//\\\"+(o||\\\"\\\"),t&&\\\"/\\\"!==t.charAt(0)&&(t=\\\"/\\\"+t)):o||(o=\\\"\\\"),a&&\\\"#\\\"!==a.charAt(0)&&(a=\\\"#\\\"+a),n&&\\\"?\\\"!==n.charAt(0)&&(n=\\\"?\\\"+n),r+o+(t=t.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(n=n.replace(\\\"#\\\",\\\"%23\\\"))+a},o.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(s.isString(e)){var r=new o;r.parse(e,!1,!0),e=r}for(var t=new o,a=Object.keys(this),i=0;i<a.length;i++){var n=a[i];t[n]=this[n]}if(t.hash=e.hash,\\\"\\\"===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];\\\"protocol\\\"!==u&&(t[u]=e[u])}return _[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname=\\\"/\\\"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!_[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var p=h[f];t[p]=e[p]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||v[e.protocol])t.pathname=e.pathname;else{for(var d=(e.pathname||\\\"\\\").split(\\\"/\\\");d.length&&!(e.host=d.shift()););e.host||(e.host=\\\"\\\"),e.hostname||(e.hostname=\\\"\\\"),\\\"\\\"!==d[0]&&d.unshift(\\\"\\\"),d.length<2&&d.unshift(\\\"\\\"),t.pathname=d.join(\\\"/\\\")}if(t.search=e.search,t.query=e.query,t.host=e.host||\\\"\\\",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var m=t.pathname||\\\"\\\",y=t.search||\\\"\\\";t.path=m+y}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var g=t.pathname&&\\\"/\\\"===t.pathname.charAt(0),P=e.host||e.pathname&&\\\"/\\\"===e.pathname.charAt(0),b=P||g||t.host&&e.pathname,w=b,E=t.pathname&&t.pathname.split(\\\"/\\\")||[],S=(d=e.pathname&&e.pathname.split(\\\"/\\\")||[],t.protocol&&!_[t.protocol]);if(S&&(t.hostname=\\\"\\\",t.port=null,t.host&&(\\\"\\\"===E[0]?E[0]=t.host:E.unshift(t.host)),t.host=\\\"\\\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\\\"\\\"===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(\\\"\\\"===d[0]||\\\"\\\"===E[0])),P)t.host=e.host||\\\"\\\"===e.host?e.host:t.host,t.hostname=e.hostname||\\\"\\\"===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),t.search=e.search,t.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(S)t.hostname=t.host=E.shift(),(O=!!(t.host&&t.host.indexOf(\\\"@\\\")>0)&&t.host.split(\\\"@\\\"))&&(t.auth=O.shift(),t.host=t.hostname=O.shift());return t.search=e.search,t.query=e.query,s.isNull(t.pathname)&&s.isNull(t.search)||(t.path=(t.pathname?t.pathname:\\\"\\\")+(t.search?t.search:\\\"\\\")),t.href=t.format(),t}if(!E.length)return t.pathname=null,t.search?t.path=\\\"/\\\"+t.search:t.path=null,t.href=t.format(),t;for(var j=E.slice(-1)[0],x=(t.host||e.host||E.length>1)&&(\\\".\\\"===j||\\\"..\\\"===j)||\\\"\\\"===j,R=0,F=E.length;F>=0;F--)\\\".\\\"===(j=E[F])?E.splice(F,1):\\\"..\\\"===j?(E.splice(F,1),R++):R&&(E.splice(F,1),R--);if(!b&&!w)for(;R--;R)E.unshift(\\\"..\\\");!b||\\\"\\\"===E[0]||E[0]&&\\\"/\\\"===E[0].charAt(0)||E.unshift(\\\"\\\"),x&&\\\"/\\\"!==E.join(\\\"/\\\").substr(-1)&&E.push(\\\"\\\");var O,A=\\\"\\\"===E[0]||E[0]&&\\\"/\\\"===E[0].charAt(0);S&&(t.hostname=t.host=A?\\\"\\\":E.length?E.shift():\\\"\\\",(O=!!(t.host&&t.host.indexOf(\\\"@\\\")>0)&&t.host.split(\\\"@\\\"))&&(t.auth=O.shift(),t.host=t.hostname=O.shift()));return(b=b||t.host&&E.length)&&!A&&E.unshift(\\\"\\\"),E.length?t.pathname=E.join(\\\"/\\\"):(t.pathname=null,t.path=null),s.isNull(t.pathname)&&s.isNull(t.search)||(t.path=(t.pathname?t.pathname:\\\"\\\")+(t.search?t.search:\\\"\\\")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},o.prototype.parseHost=function(){var e=this.host,r=n.exec(e);r&&(\\\":\\\"!==(r=r[0])&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)}},function(e,r,t){(function(e,a){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){r&&r.nodeType,e&&e.nodeType;var i=\\\"object\\\"==typeof a&&a;i.global!==i&&i.window!==i&&i.self;var n,c=2147483647,l=36,u=1,h=26,f=38,p=700,d=72,m=128,v=\\\"-\\\",_=/^xn--/,y=/[^\\\\x20-\\\\x7E]/,g=/[\\\\x2E\\\\u3002\\\\uFF0E\\\\uFF61]/g,P={overflow:\\\"Overflow: input needs wider integers to process\\\",\\\"not-basic\\\":\\\"Illegal input >= 0x80 (not a basic code point)\\\",\\\"invalid-input\\\":\\\"Invalid input\\\"},b=l-u,w=Math.floor,E=String.fromCharCode;function S(e){throw new RangeError(P[e])}function j(e,r){for(var t=e.length,a=[];t--;)a[t]=r(e[t]);return a}function x(e,r){var t=e.split(\\\"@\\\"),a=\\\"\\\";return t.length>1&&(a=t[0]+\\\"@\\\",e=t[1]),a+j((e=e.replace(g,\\\".\\\")).split(\\\".\\\"),r).join(\\\".\\\")}function R(e){for(var r,t,a=[],s=0,o=e.length;s<o;)(r=e.charCodeAt(s++))>=55296&&r<=56319&&s<o?56320==(64512&(t=e.charCodeAt(s++)))?a.push(((1023&r)<<10)+(1023&t)+65536):(a.push(r),s--):a.push(r);return a}function F(e){return j(e,(function(e){var r=\\\"\\\";return e>65535&&(r+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=E(e)})).join(\\\"\\\")}function O(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function A(e,r,t){var a=0;for(e=t?w(e/p):e>>1,e+=w(e/r);e>b*h>>1;a+=l)e=w(e/b);return w(a+(b+1)*e/(e+f))}function $(e){var r,t,a,s,o,i,n,f,p,_,y,g=[],P=e.length,b=0,E=m,j=d;for((t=e.lastIndexOf(v))<0&&(t=0),a=0;a<t;++a)e.charCodeAt(a)>=128&&S(\\\"not-basic\\\"),g.push(e.charCodeAt(a));for(s=t>0?t+1:0;s<P;){for(o=b,i=1,n=l;s>=P&&S(\\\"invalid-input\\\"),((f=(y=e.charCodeAt(s++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||f>w((c-b)/i))&&S(\\\"overflow\\\"),b+=f*i,!(f<(p=n<=j?u:n>=j+h?h:n-j));n+=l)i>w(c/(_=l-p))&&S(\\\"overflow\\\"),i*=_;j=A(b-o,r=g.length+1,0==o),w(b/r)>c-E&&S(\\\"overflow\\\"),E+=w(b/r),b%=r,g.splice(b++,0,E)}return F(g)}function k(e){var r,t,a,s,o,i,n,f,p,_,y,g,P,b,j,x=[];for(g=(e=R(e)).length,r=m,t=0,o=d,i=0;i<g;++i)(y=e[i])<128&&x.push(E(y));for(a=s=x.length,s&&x.push(v);a<g;){for(n=c,i=0;i<g;++i)(y=e[i])>=r&&y<n&&(n=y);for(n-r>w((c-t)/(P=a+1))&&S(\\\"overflow\\\"),t+=(n-r)*P,r=n,i=0;i<g;++i)if((y=e[i])<r&&++t>c&&S(\\\"overflow\\\"),y==r){for(f=t,p=l;!(f<(_=p<=o?u:p>=o+h?h:p-o));p+=l)j=f-_,b=l-_,x.push(E(O(_+j%b,0))),f=w(j/b);x.push(E(O(f,0))),o=A(t,P,a==s),t=0,++a}++t,++r}return x.join(\\\"\\\")}n={version:\\\"1.4.1\\\",ucs2:{decode:R,encode:F},decode:$,encode:k,toASCII:function(e){return x(e,(function(e){return y.test(e)?\\\"xn--\\\"+k(e):e}))},toUnicode:function(e){return x(e,(function(e){return _.test(e)?$(e.slice(4).toLowerCase()):e}))}},void 0===(s=function(){return n}.call(r,t,r,e))||(e.exports=s)}()}).call(this,t(20)(e),t(21))},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\\\"loaded\\\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\\\"id\\\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,r){var t;t=function(){return this}();try{t=t||new Function(\\\"return this\\\")()}catch(e){\\\"object\\\"==typeof window&&(t=window)}e.exports=t},function(e,r,t){\\\"use strict\\\";e.exports={isString:function(e){return\\\"string\\\"==typeof e},isObject:function(e){return\\\"object\\\"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,r,t){\\\"use strict\\\";r.decode=r.parse=t(24),r.encode=r.stringify=t(25)},function(e,r,t){\\\"use strict\\\";function a(e,r){return Object.prototype.hasOwnProperty.call(e,r)}e.exports=function(e,r,t,o){r=r||\\\"&\\\",t=t||\\\"=\\\";var i={};if(\\\"string\\\"!=typeof e||0===e.length)return i;var n=/\\\\+/g;e=e.split(r);var c=1e3;o&&\\\"number\\\"==typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,f,p,d,m=e[u].replace(n,\\\"%20\\\"),v=m.indexOf(t);v>=0?(h=m.substr(0,v),f=m.substr(v+1)):(h=m,f=\\\"\\\"),p=decodeURIComponent(h),d=decodeURIComponent(f),a(i,p)?s(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var s=Array.isArray||function(e){return\\\"[object Array]\\\"===Object.prototype.toString.call(e)}},function(e,r,t){\\\"use strict\\\";var a=function(e){switch(typeof e){case\\\"string\\\":return e;case\\\"boolean\\\":return e?\\\"true\\\":\\\"false\\\";case\\\"number\\\":return isFinite(e)?e:\\\"\\\";default:return\\\"\\\"}};e.exports=function(e,r,t,n){return r=r||\\\"&\\\",t=t||\\\"=\\\",null===e&&(e=void 0),\\\"object\\\"==typeof e?o(i(e),(function(i){var n=encodeURIComponent(a(i))+t;return s(e[i])?o(e[i],(function(e){return n+encodeURIComponent(a(e))})).join(r):n+encodeURIComponent(a(e[i]))})).join(r):n?encodeURIComponent(a(n))+t+encodeURIComponent(a(e)):\\\"\\\"};var s=Array.isArray||function(e){return\\\"[object Array]\\\"===Object.prototype.toString.call(e)};function o(e,r){if(e.map)return e.map(r);for(var t=[],a=0;a<e.length;a++)t.push(r(e[a],a));return t}var i=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},function(e,r,t){\\\"use strict\\\";e.exports=function(e){for(var r,t=0,a=e.length,s=0;s<a;)t++,(r=e.charCodeAt(s++))>=55296&&r<=56319&&s<a&&56320==(64512&(r=e.charCodeAt(s)))&&s++;return t}},function(e,r,t){\\\"use strict\\\";var a=e.exports=function(e,r,t){\\\"function\\\"==typeof r&&(t=r,r={}),function e(r,t,s,o,i,n,c,l,u){if(s&&\\\"object\\\"==typeof s&&!Array.isArray(s))for(var h in t(s,o,i,n,c,l,u),s){var f=s[h];if(Array.isArray(f)){if(h in a.arrayKeywords)for(var p=0;p<f.length;p++)e(r,t,f[p],o+\\\"/\\\"+h+\\\"/\\\"+p,i,o,h,s,p)}else if(h in a.propsKeywords){if(f&&\\\"object\\\"==typeof f)for(var d in f)e(r,t,f[d],o+\\\"/\\\"+h+\\\"/\\\"+d.replace(/~/g,\\\"~0\\\").replace(/\\\\//g,\\\"~1\\\"),i,o,h,s,d)}else(h in a.keywords||r.allKeys&&!(h in a.skipKeywords))&&e(r,t,f,o+\\\"/\\\"+h,i,o,h,s)}}(r,t,e,\\\"\\\",e)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,r,t){r.parse=t(29),r.stringify=t(30)},function(e,r){var t,a,s,o,i={'\\\"':'\\\"',\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\",\\\"/\\\":\\\"/\\\",b:\\\"\\\\b\\\",f:\\\"\\\\f\\\",n:\\\"\\\\n\\\",r:\\\"\\\\r\\\",t:\\\"\\\\t\\\"},n=function(e){throw{name:\\\"SyntaxError\\\",message:e,at:t,text:s}},c=function(e){return e&&e!==a&&n(\\\"Expected '\\\"+e+\\\"' instead of '\\\"+a+\\\"'\\\"),a=s.charAt(t),t+=1,a},l=function(){var e,r=\\\"\\\";for(\\\"-\\\"===a&&(r=\\\"-\\\",c(\\\"-\\\"));a>=\\\"0\\\"&&a<=\\\"9\\\";)r+=a,c();if(\\\".\\\"===a)for(r+=\\\".\\\";c()&&a>=\\\"0\\\"&&a<=\\\"9\\\";)r+=a;if(\\\"e\\\"===a||\\\"E\\\"===a)for(r+=a,c(),\\\"-\\\"!==a&&\\\"+\\\"!==a||(r+=a,c());a>=\\\"0\\\"&&a<=\\\"9\\\";)r+=a,c();if(e=+r,isFinite(e))return e;n(\\\"Bad number\\\")},u=function(){var e,r,t,s=\\\"\\\";if('\\\"'===a)for(;c();){if('\\\"'===a)return c(),s;if(\\\"\\\\\\\\\\\"===a)if(c(),\\\"u\\\"===a){for(t=0,r=0;r<4&&(e=parseInt(c(),16),isFinite(e));r+=1)t=16*t+e;s+=String.fromCharCode(t)}else{if(\\\"string\\\"!=typeof i[a])break;s+=i[a]}else s+=a}n(\\\"Bad string\\\")},h=function(){for(;a&&a<=\\\" \\\";)c()};o=function(){switch(h(),a){case\\\"{\\\":return function(){var e,r={};if(\\\"{\\\"===a){if(c(\\\"{\\\"),h(),\\\"}\\\"===a)return c(\\\"}\\\"),r;for(;a;){if(e=u(),h(),c(\\\":\\\"),Object.hasOwnProperty.call(r,e)&&n('Duplicate key \\\"'+e+'\\\"'),r[e]=o(),h(),\\\"}\\\"===a)return c(\\\"}\\\"),r;c(\\\",\\\"),h()}}n(\\\"Bad object\\\")}();case\\\"[\\\":return function(){var e=[];if(\\\"[\\\"===a){if(c(\\\"[\\\"),h(),\\\"]\\\"===a)return c(\\\"]\\\"),e;for(;a;){if(e.push(o()),h(),\\\"]\\\"===a)return c(\\\"]\\\"),e;c(\\\",\\\"),h()}}n(\\\"Bad array\\\")}();case'\\\"':return u();case\\\"-\\\":return l();default:return a>=\\\"0\\\"&&a<=\\\"9\\\"?l():function(){switch(a){case\\\"t\\\":return c(\\\"t\\\"),c(\\\"r\\\"),c(\\\"u\\\"),c(\\\"e\\\"),!0;case\\\"f\\\":return c(\\\"f\\\"),c(\\\"a\\\"),c(\\\"l\\\"),c(\\\"s\\\"),c(\\\"e\\\"),!1;case\\\"n\\\":return c(\\\"n\\\"),c(\\\"u\\\"),c(\\\"l\\\"),c(\\\"l\\\"),null}n(\\\"Unexpected '\\\"+a+\\\"'\\\")}()}},e.exports=function(e,r){var i;return s=e,t=0,a=\\\" \\\",i=o(),h(),a&&n(\\\"Syntax error\\\"),\\\"function\\\"==typeof r?function e(t,a){var s,o,i=t[a];if(i&&\\\"object\\\"==typeof i)for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(void 0!==(o=e(i,s))?i[s]=o:delete i[s]);return r.call(t,a,i)}({\\\"\\\":i},\\\"\\\"):i}},function(e,r){var t,a,s,o=/[\\\\\\\\\\\\\\\"\\\\x00-\\\\x1f\\\\x7f-\\\\x9f\\\\u00ad\\\\u0600-\\\\u0604\\\\u070f\\\\u17b4\\\\u17b5\\\\u200c-\\\\u200f\\\\u2028-\\\\u202f\\\\u2060-\\\\u206f\\\\ufeff\\\\ufff0-\\\\uffff]/g,i={\\\"\\\\b\\\":\\\"\\\\\\\\b\\\",\\\"\\\\t\\\":\\\"\\\\\\\\t\\\",\\\"\\\\n\\\":\\\"\\\\\\\\n\\\",\\\"\\\\f\\\":\\\"\\\\\\\\f\\\",\\\"\\\\r\\\":\\\"\\\\\\\\r\\\",'\\\"':'\\\\\\\\\\\"',\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\\\\\\\\\"};function n(e){return o.lastIndex=0,o.test(e)?'\\\"'+e.replace(o,(function(e){var r=i[e];return\\\"string\\\"==typeof r?r:\\\"\\\\\\\\u\\\"+(\\\"0000\\\"+e.charCodeAt(0).toString(16)).slice(-4)}))+'\\\"':'\\\"'+e+'\\\"'}e.exports=function(e,r,o){var i;if(t=\\\"\\\",a=\\\"\\\",\\\"number\\\"==typeof o)for(i=0;i<o;i+=1)a+=\\\" \\\";else\\\"string\\\"==typeof o&&(a=o);if(s=r,r&&\\\"function\\\"!=typeof r&&(\\\"object\\\"!=typeof r||\\\"number\\\"!=typeof r.length))throw new Error(\\\"JSON.stringify\\\");return function e(r,o){var i,c,l,u,h,f=t,p=o[r];switch(p&&\\\"object\\\"==typeof p&&\\\"function\\\"==typeof p.toJSON&&(p=p.toJSON(r)),\\\"function\\\"==typeof s&&(p=s.call(o,r,p)),typeof p){case\\\"string\\\":return n(p);case\\\"number\\\":return isFinite(p)?String(p):\\\"null\\\";case\\\"boolean\\\":case\\\"null\\\":return String(p);case\\\"object\\\":if(!p)return\\\"null\\\";if(t+=a,h=[],\\\"[object Array]\\\"===Object.prototype.toString.apply(p)){for(u=p.length,i=0;i<u;i+=1)h[i]=e(i,p)||\\\"null\\\";return l=0===h.length?\\\"[]\\\":t?\\\"[\\\\n\\\"+t+h.join(\\\",\\\\n\\\"+t)+\\\"\\\\n\\\"+f+\\\"]\\\":\\\"[\\\"+h.join(\\\",\\\")+\\\"]\\\",t=f,l}if(s&&\\\"object\\\"==typeof s)for(u=s.length,i=0;i<u;i+=1)\\\"string\\\"==typeof(c=s[i])&&(l=e(c,p))&&h.push(n(c)+(t?\\\": \\\":\\\":\\\")+l);else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(l=e(c,p))&&h.push(n(c)+(t?\\\": \\\":\\\":\\\")+l);return l=0===h.length?\\\"{}\\\":t?\\\"{\\\\n\\\"+t+h.join(\\\",\\\\n\\\"+t)+\\\"\\\\n\\\"+f+\\\"}\\\":\\\"{\\\"+h.join(\\\",\\\")+\\\"}\\\",t=f,l}}(\\\"\\\",{\\\"\\\":e})}},function(e,r,t){\\\"use strict\\\";var a=e.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},function(e,r,t){\\\"use strict\\\";var a=t(0),s=/^\\\\d\\\\d\\\\d\\\\d-(\\\\d\\\\d)-(\\\\d\\\\d)$/,o=[0,31,29,31,30,31,30,31,31,30,31,30,31],i=/^(\\\\d\\\\d):(\\\\d\\\\d):(\\\\d\\\\d)(\\\\.\\\\d+)?(z|[+-]\\\\d\\\\d:\\\\d\\\\d)?$/i,n=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,c=/^(?:[a-z][a-z0-9+\\\\-.]*:)(?:\\\\/?\\\\/(?:(?:[a-z0-9\\\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\\\.[a-z0-9\\\\-._~!$&'()*+,;=:]+)\\\\]|(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)|(?:[a-z0-9\\\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\\\d*)?(?:\\\\/(?:[a-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\\\/(?:(?:[a-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\\\/(?:[a-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\\\/(?:[a-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\\\?(?:[a-z0-9\\\\-._~!$&'()*+,;=:@\\\\/?]|%[0-9a-f]{2})*)?(?:\\\\#(?:[a-z0-9\\\\-._~!$&'()*+,;=:@\\\\/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\\\\x00-\\\\x20\\\"'<>%\\\\\\\\^`{|}]|%[0-9a-f]{2})|\\\\{[+#.\\\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\\\:[1-9][0-9]{0,3}|\\\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\\\:[1-9][0-9]{0,3}|\\\\*)?)*\\\\})*$/i,u=/^(?:(?:http[s\\\\u017F]?|ftp):\\\\/\\\\/)(?:(?:[\\\\0-\\\\x08\\\\x0E-\\\\x1F!-\\\\x9F\\\\xA1-\\\\u167F\\\\u1681-\\\\u1FFF\\\\u200B-\\\\u2027\\\\u202A-\\\\u202E\\\\u2030-\\\\u205E\\\\u2060-\\\\u2FFF\\\\u3001-\\\\uD7FF\\\\uE000-\\\\uFEFE\\\\uFF00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])+(?::(?:[\\\\0-\\\\x08\\\\x0E-\\\\x1F!-\\\\x9F\\\\xA1-\\\\u167F\\\\u1681-\\\\u1FFF\\\\u200B-\\\\u2027\\\\u202A-\\\\u202E\\\\u2030-\\\\u205E\\\\u2060-\\\\u2FFF\\\\u3001-\\\\uD7FF\\\\uE000-\\\\uFEFE\\\\uFF00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])*)?@)?(?:(?!10(?:\\\\.[0-9]{1,3}){3})(?!127(?:\\\\.[0-9]{1,3}){3})(?!169\\\\.254(?:\\\\.[0-9]{1,3}){2})(?!192\\\\.168(?:\\\\.[0-9]{1,3}){2})(?!172\\\\.(?:1[6-9]|2[0-9]|3[01])(?:\\\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\\\xA1-\\\\uD7FF\\\\uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])+\\\\-?)*(?:[0-9KSa-z\\\\xA1-\\\\uD7FF\\\\uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])+)(?:\\\\.(?:(?:[0-9KSa-z\\\\xA1-\\\\uD7FF\\\\uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])+\\\\-?)*(?:[0-9KSa-z\\\\xA1-\\\\uD7FF\\\\uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])+)*(?:\\\\.(?:(?:[KSa-z\\\\xA1-\\\\uD7FF\\\\uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\\\/(?:[\\\\0-\\\\x08\\\\x0E-\\\\x1F!-\\\\x9F\\\\xA1-\\\\u167F\\\\u1681-\\\\u1FFF\\\\u200B-\\\\u2027\\\\u202A-\\\\u202E\\\\u2030-\\\\u205E\\\\u2060-\\\\u2FFF\\\\u3001-\\\\uD7FF\\\\uE000-\\\\uFEFE\\\\uFF00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF])*)?$/i,h=/^(?:urn\\\\:uuid\\\\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\\\\/(?:[^~\\\\/]|~0|~1)*)*$|^\\\\#(?:\\\\/(?:[a-z0-9_\\\\-\\\\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:\\\\#|(?:\\\\/(?:[^~\\\\/]|~0|~1)*)*)$/;function d(e){return e=\\\"full\\\"==e?\\\"full\\\":\\\"fast\\\",a.copy(d[e])}function m(e){var r=e.match(s);if(!r)return!1;var t=+r[1],a=+r[2];return t>=1&&t<=12&&a>=1&&a<=o[t]}function v(e,r){var t=e.match(i);if(!t)return!1;var a=t[1],s=t[2],o=t[3],n=t[5];return a<=23&&s<=59&&o<=59&&(!r||n)}e.exports=d,d.fast={date:/^\\\\d\\\\d\\\\d\\\\d-[0-1]\\\\d-[0-3]\\\\d$/,time:/^[0-2]\\\\d:[0-5]\\\\d:[0-5]\\\\d(?:\\\\.\\\\d+)?(?:z|[+-]\\\\d\\\\d:\\\\d\\\\d)?$/i,\\\"date-time\\\":/^\\\\d\\\\d\\\\d\\\\d-[0-1]\\\\d-[0-3]\\\\d[t\\\\s][0-2]\\\\d:[0-5]\\\\d:[0-5]\\\\d(?:\\\\.\\\\d+)?(?:z|[+-]\\\\d\\\\d:\\\\d\\\\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?:\\\\:|\\\\/)\\\\/?[^\\\\s]*$/i,\\\"uri-reference\\\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\\\/\\\\/)?[^\\\\s]*$/i,\\\"uri-template\\\":l,url:u,email:/^[a-z0-9.!#$%&'*+\\\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)$/,ipv6:/^\\\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:)))(?:%.+)?\\\\s*$/i,regex:P,uuid:h,\\\"json-pointer\\\":f,\\\"relative-json-pointer\\\":p},d.full={date:m,time:v,\\\"date-time\\\":function(e){var r=e.split(_);return 2==r.length&&m(r[0])&&v(r[1],!0)},uri:function(e){return y.test(e)&&c.test(e)},\\\"uri-reference\\\":/^(?:[a-z][a-z0-9+\\\\-.]*:)?(?:\\\\/?\\\\/(?:(?:[a-z0-9\\\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\\\.[a-z0-9\\\\-._~!$&'()*+,;=:]+)\\\\]|(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)|(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=]|%[0-9a-f]{2})*)(?::\\\\d*)?(?:\\\\/(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\\\/(?:(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\\\/(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\\\/(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\\\?(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@\\\\/?]|%[0-9a-f]{2})*)?(?:\\\\#(?:[a-z0-9\\\\-._~!$&'\\\"()*+,;=:@\\\\/?]|%[0-9a-f]{2})*)?$/i,\\\"uri-template\\\":l,url:u,email:/^[a-z0-9!#$%&'*+\\\\/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&''*+\\\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&n.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)$/,ipv6:/^\\\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:)))(?:%.+)?\\\\s*$/i,regex:P,uuid:h,\\\"json-pointer\\\":f,\\\"relative-json-pointer\\\":p};var _=/t|\\\\s/i;var y=/\\\\/|\\\\:/;var g=/[^\\\\\\\\]\\\\\\\\Z/;function P(e){if(g.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,r,t){\\\"use strict\\\";var a=t(34),s=t(0).toHash;e.exports=function(){var e=[{type:\\\"number\\\",rules:[{maximum:[\\\"exclusiveMaximum\\\"]},{minimum:[\\\"exclusiveMinimum\\\"]},\\\"multipleOf\\\",\\\"format\\\"]},{type:\\\"string\\\",rules:[\\\"maxLength\\\",\\\"minLength\\\",\\\"pattern\\\",\\\"format\\\"]},{type:\\\"array\\\",rules:[\\\"maxItems\\\",\\\"minItems\\\",\\\"uniqueItems\\\",\\\"contains\\\",\\\"items\\\"]},{type:\\\"object\\\",rules:[\\\"maxProperties\\\",\\\"minProperties\\\",\\\"required\\\",\\\"dependencies\\\",\\\"propertyNames\\\",{properties:[\\\"additionalProperties\\\",\\\"patternProperties\\\"]}]},{rules:[\\\"$ref\\\",\\\"const\\\",\\\"enum\\\",\\\"not\\\",\\\"anyOf\\\",\\\"oneOf\\\",\\\"allOf\\\"]}],r=[\\\"type\\\"];return e.all=s(r),e.types=s([\\\"number\\\",\\\"integer\\\",\\\"string\\\",\\\"array\\\",\\\"object\\\",\\\"boolean\\\",\\\"null\\\"]),e.forEach((function(t){t.rules=t.rules.map((function(t){var s;if(\\\"object\\\"==typeof t){var o=Object.keys(t)[0];s=t[o],t=o,s.forEach((function(t){r.push(t),e.all[t]=!0}))}return r.push(t),e.all[t]={keyword:t,code:a[t],implements:s}})),t.type&&(e.types[t.type]=t)})),e.keywords=s(r.concat([\\\"additionalItems\\\",\\\"$schema\\\",\\\"id\\\",\\\"title\\\",\\\"description\\\",\\\"default\\\",\\\"definitions\\\"])),e.custom={},e}},function(e,r,t){\\\"use strict\\\";e.exports={$ref:t(35),allOf:t(36),anyOf:t(37),const:t(38),contains:t(39),dependencies:t(40),enum:t(41),format:t(42),items:t(43),maximum:t(10),minimum:t(10),maxItems:t(11),minItems:t(11),maxLength:t(12),minLength:t(12),maxProperties:t(13),minProperties:t(13),multipleOf:t(44),not:t(45),oneOf:t(46),pattern:t(47),properties:t(48),propertyNames:t(49),required:t(50),uniqueItems:t(51),validate:t(8)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s,o=\\\" \\\",i=e.level,n=e.dataLevel,c=e.schema[r],l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(n||\\\"\\\"),f=\\\"valid\\\"+i;if(\\\"#\\\"==c||\\\"#/\\\"==c)e.isRoot?(a=e.async,s=\\\"validate\\\"):(a=!0===e.root.schema.$async,s=\\\"root.refVal[0]\\\");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var d=e.MissingRefError.message(e.baseId,c);if(\\\"fail\\\"==e.opts.missingRefs){console.error(d),(y=y||[]).push(o),o=\\\"\\\",!1!==e.createErrors?(o+=\\\" { keyword: '$ref' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { ref: '\\\"+e.util.escapeQuotes(c)+\\\"' } \\\",!1!==e.opts.messages&&(o+=\\\" , message: 'can\\\\\\\\'t resolve reference \\\"+e.util.escapeQuotes(c)+\\\"' \\\"),e.opts.verbose&&(o+=\\\" , schema: \\\"+e.util.toQuotedString(c)+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),o+=\\\" } \\\"):o+=\\\" {} \\\";var m=o;o=y.pop(),!e.compositeRule&&u?e.async?o+=\\\" throw new ValidationError([\\\"+m+\\\"]); \\\":o+=\\\" validate.errors = [\\\"+m+\\\"]; return false; \\\":o+=\\\" var err = \\\"+m+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",u&&(o+=\\\" if (false) { \\\")}else{if(\\\"ignore\\\"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,d);console.warn(d),u&&(o+=\\\" if (true) { \\\")}}else if(p.inline){var v=e.util.copy(e);v.level++;var _=\\\"valid\\\"+v.level;v.schema=p.schema,v.schemaPath=\\\"\\\",v.errSchemaPath=c,o+=\\\" \\\"+e.validate(v).replace(/validate\\\\.schema/g,p.code)+\\\" \\\",u&&(o+=\\\" if (\\\"+_+\\\") { \\\")}else a=!0===p.$async,s=p.code}if(s){var y;(y=y||[]).push(o),o=\\\"\\\",e.opts.passContext?o+=\\\" \\\"+s+\\\".call(this, \\\":o+=\\\" \\\"+s+\\\"( \\\",o+=\\\" \\\"+h+\\\", (dataPath || '')\\\",'\\\"\\\"'!=e.errorPath&&(o+=\\\" + \\\"+e.errorPath);var g=o+=\\\" , \\\"+(n?\\\"data\\\"+(n-1||\\\"\\\"):\\\"parentData\\\")+\\\" , \\\"+(n?e.dataPathArr[n]:\\\"parentDataProperty\\\")+\\\", rootData)  \\\";if(o=y.pop(),a){if(!e.async)throw new Error(\\\"async schema referenced by sync schema\\\");u&&(o+=\\\" var \\\"+f+\\\"; \\\"),o+=\\\" try { \\\"+e.yieldAwait+\\\" \\\"+g+\\\"; \\\",u&&(o+=\\\" \\\"+f+\\\" = true; \\\"),o+=\\\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \\\",u&&(o+=\\\" \\\"+f+\\\" = false; \\\"),o+=\\\" } \\\",u&&(o+=\\\" if (\\\"+f+\\\") { \\\")}else o+=\\\" if (!\\\"+g+\\\") { if (vErrors === null) vErrors = \\\"+s+\\\".errors; else vErrors = vErrors.concat(\\\"+s+\\\".errors); errors = vErrors.length; } \\\",u&&(o+=\\\" else { \\\")}return o}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.schema[r],o=e.schemaPath+e.util.getProperty(r),i=e.errSchemaPath+\\\"/\\\"+r,n=!e.opts.allErrors,c=e.util.copy(e),l=\\\"\\\";c.level++;var u=\\\"valid\\\"+c.level,h=c.baseId,f=!0,p=s;if(p)for(var d,m=-1,v=p.length-1;m<v;)d=p[m+=1],e.util.schemaHasRules(d,e.RULES.all)&&(f=!1,c.schema=d,c.schemaPath=o+\\\"[\\\"+m+\\\"]\\\",c.errSchemaPath=i+\\\"/\\\"+m,a+=\\\"  \\\"+e.validate(c)+\\\" \\\",c.baseId=h,n&&(a+=\\\" if (\\\"+u+\\\") { \\\",l+=\\\"}\\\"));return n&&(a+=f?\\\" if (true) { \\\":\\\" \\\"+l.slice(0,-1)+\\\" \\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=\\\"errs__\\\"+s,p=e.util.copy(e),d=\\\"\\\";p.level++;var m=\\\"valid\\\"+p.level;if(i.every((function(r){return e.util.schemaHasRules(r,e.RULES.all)}))){var v=p.baseId;a+=\\\" var \\\"+f+\\\" = errors; var \\\"+h+\\\" = false;  \\\";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=i;if(y)for(var g,P=-1,b=y.length-1;P<b;)g=y[P+=1],p.schema=g,p.schemaPath=n+\\\"[\\\"+P+\\\"]\\\",p.errSchemaPath=c+\\\"/\\\"+P,a+=\\\"  \\\"+e.validate(p)+\\\" \\\",p.baseId=v,a+=\\\" \\\"+h+\\\" = \\\"+h+\\\" || \\\"+m+\\\"; if (!\\\"+h+\\\") { \\\",d+=\\\"}\\\";e.compositeRule=p.compositeRule=_,a+=\\\" \\\"+d+\\\" if (!\\\"+h+\\\") {   var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should match some schema in anyOf' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",!e.compositeRule&&l&&(e.async?a+=\\\" throw new ValidationError(vErrors); \\\":a+=\\\" validate.errors = vErrors; return false; \\\"),a+=\\\" } else {  errors = \\\"+f+\\\"; if (vErrors !== null) { if (\\\"+f+\\\") vErrors.length = \\\"+f+\\\"; else vErrors = null; } \\\",e.opts.allErrors&&(a+=\\\" } \\\"),a=e.util.cleanUpCode(a)}else l&&(a+=\\\" if (true) { \\\");return a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=e.opts.$data&&i&&i.$data;f&&(a+=\\\" var schema\\\"+s+\\\" = \\\"+e.util.getData(i.$data,o,e.dataPathArr)+\\\"; \\\"),f||(a+=\\\" var schema\\\"+s+\\\" = validate.schema\\\"+n+\\\";\\\"),a+=\\\"var \\\"+h+\\\" = equal(\\\"+u+\\\", schema\\\"+s+\\\"); if (!\\\"+h+\\\") {   \\\";var p=p||[];p.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'const' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should be equal to constant' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var d=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+d+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+d+\\\"]; return false; \\\":a+=\\\" var err = \\\"+d+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" }\\\",l&&(a+=\\\" else { \\\"),a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=\\\"errs__\\\"+s,p=e.util.copy(e);p.level++;var d=\\\"valid\\\"+p.level,m=\\\"i\\\"+s,v=p.dataLevel=e.dataLevel+1,_=\\\"data\\\"+v,y=e.baseId,g=e.util.schemaHasRules(i,e.RULES.all);if(a+=\\\"var \\\"+f+\\\" = errors;var \\\"+h+\\\";\\\",g){var P=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=i,p.schemaPath=n,p.errSchemaPath=c,a+=\\\" var \\\"+d+\\\" = false; for (var \\\"+m+\\\" = 0; \\\"+m+\\\" < \\\"+u+\\\".length; \\\"+m+\\\"++) { \\\",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var b=u+\\\"[\\\"+m+\\\"]\\\";p.dataPathArr[v]=m;var w=e.validate(p);p.baseId=y,e.util.varOccurences(w,_)<2?a+=\\\" \\\"+e.util.varReplace(w,_,b)+\\\" \\\":a+=\\\" var \\\"+_+\\\" = \\\"+b+\\\"; \\\"+w+\\\" \\\",a+=\\\" if (\\\"+d+\\\") break; }  \\\",e.compositeRule=p.compositeRule=P,a+=\\\"  if (!\\\"+d+\\\") {\\\"}else a+=\\\" if (\\\"+u+\\\".length == 0) {\\\";var E=E||[];E.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'contains' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should contain a valid item' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var S=a;return a=E.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+S+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+S+\\\"]; return false; \\\":a+=\\\" var err = \\\"+S+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } else { \\\",g&&(a+=\\\"  errors = \\\"+f+\\\"; if (vErrors !== null) { if (\\\"+f+\\\") vErrors.length = \\\"+f+\\\"; else vErrors = null; } \\\"),e.opts.allErrors&&(a+=\\\" } \\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"errs__\\\"+s,f=e.util.copy(e),p=\\\"\\\";f.level++;var d=\\\"valid\\\"+f.level,m={},v={},_=e.opts.ownProperties;for(b in i){var y=i[b],g=Array.isArray(y)?v:m;g[b]=y}a+=\\\"var \\\"+h+\\\" = errors;\\\";var P=e.errorPath;for(var b in a+=\\\"var missing\\\"+s+\\\";\\\",v)if((g=v[b]).length){if(a+=\\\" if ( \\\"+u+e.util.getProperty(b)+\\\" !== undefined \\\",_&&(a+=\\\" && Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(b)+\\\"') \\\"),l){a+=\\\" && ( \\\";var w=g;if(w)for(var E=-1,S=w.length-1;E<S;){A=w[E+=1],E&&(a+=\\\" || \\\"),a+=\\\" ( ( \\\"+(D=u+(I=e.util.getProperty(A)))+\\\" === undefined \\\",_&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(A)+\\\"') \\\"),a+=\\\") && (missing\\\"+s+\\\" = \\\"+e.util.toQuotedString(e.opts.jsonPointers?A:I)+\\\") ) \\\"}a+=\\\")) {  \\\";var j=\\\"missing\\\"+s,x=\\\"' + \\\"+j+\\\" + '\\\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,j,!0):P+\\\" + \\\"+j);var R=R||[];R.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { property: '\\\"+e.util.escapeQuotes(b)+\\\"', missingProperty: '\\\"+x+\\\"', depsCount: \\\"+g.length+\\\", deps: '\\\"+e.util.escapeQuotes(1==g.length?g[0]:g.join(\\\", \\\"))+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should have \\\",1==g.length?a+=\\\"property \\\"+e.util.escapeQuotes(g[0]):a+=\\\"properties \\\"+e.util.escapeQuotes(g.join(\\\", \\\")),a+=\\\" when property \\\"+e.util.escapeQuotes(b)+\\\" is present' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var F=a;a=R.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+F+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+F+\\\"]; return false; \\\":a+=\\\" var err = \\\"+F+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\"}else{a+=\\\" ) { \\\";var O=g;if(O)for(var A,$=-1,k=O.length-1;$<k;){A=O[$+=1];var I=e.util.getProperty(A),D=(x=e.util.escapeQuotes(A),u+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,A,e.opts.jsonPointers)),a+=\\\" if ( \\\"+D+\\\" === undefined \\\",_&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(A)+\\\"') \\\"),a+=\\\") {  var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { property: '\\\"+e.util.escapeQuotes(b)+\\\"', missingProperty: '\\\"+x+\\\"', depsCount: \\\"+g.length+\\\", deps: '\\\"+e.util.escapeQuotes(1==g.length?g[0]:g.join(\\\", \\\"))+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should have \\\",1==g.length?a+=\\\"property \\\"+e.util.escapeQuotes(g[0]):a+=\\\"properties \\\"+e.util.escapeQuotes(g.join(\\\", \\\")),a+=\\\" when property \\\"+e.util.escapeQuotes(b)+\\\" is present' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \\\"}}a+=\\\" }   \\\",l&&(p+=\\\"}\\\",a+=\\\" else { \\\")}e.errorPath=P;var q=f.baseId;for(var b in m){y=m[b];e.util.schemaHasRules(y,e.RULES.all)&&(a+=\\\" \\\"+d+\\\" = true; if ( \\\"+u+e.util.getProperty(b)+\\\" !== undefined \\\",_&&(a+=\\\" && Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(b)+\\\"') \\\"),a+=\\\") { \\\",f.schema=y,f.schemaPath=n+e.util.getProperty(b),f.errSchemaPath=c+\\\"/\\\"+e.util.escapeFragment(b),a+=\\\"  \\\"+e.validate(f)+\\\" \\\",f.baseId=q,a+=\\\" }  \\\",l&&(a+=\\\" if (\\\"+d+\\\") { \\\",p+=\\\"}\\\"))}return l&&(a+=\\\"   \\\"+p+\\\" if (\\\"+h+\\\" == errors) {\\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=e.opts.$data&&i&&i.$data;f&&(a+=\\\" var schema\\\"+s+\\\" = \\\"+e.util.getData(i.$data,o,e.dataPathArr)+\\\"; \\\");var p=\\\"i\\\"+s,d=\\\"schema\\\"+s;f||(a+=\\\" var \\\"+d+\\\" = validate.schema\\\"+n+\\\";\\\"),a+=\\\"var \\\"+h+\\\";\\\",f&&(a+=\\\" if (schema\\\"+s+\\\" === undefined) \\\"+h+\\\" = true; else if (!Array.isArray(schema\\\"+s+\\\")) \\\"+h+\\\" = false; else {\\\"),a+=h+\\\" = false;for (var \\\"+p+\\\"=0; \\\"+p+\\\"<\\\"+d+\\\".length; \\\"+p+\\\"++) if (equal(\\\"+u+\\\", \\\"+d+\\\"[\\\"+p+\\\"])) { \\\"+h+\\\" = true; break; }\\\",f&&(a+=\\\"  }  \\\"),a+=\\\" if (!\\\"+h+\\\") {   \\\";var m=m||[];m.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'enum' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { allowedValues: schema\\\"+s+\\\" } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should be equal to one of the allowed values' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var v=a;return a=m.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+v+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+v+\\\"]; return false; \\\":a+=\\\" var err = \\\"+v+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" }\\\",l&&(a+=\\\" else { \\\"),a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\");if(!1===e.opts.format)return l&&(a+=\\\" if (true) { \\\"),a;var h,f=e.opts.$data&&i&&i.$data;f?(a+=\\\" var schema\\\"+s+\\\" = \\\"+e.util.getData(i.$data,o,e.dataPathArr)+\\\"; \\\",h=\\\"schema\\\"+s):h=i;var p=e.opts.unknownFormats,d=Array.isArray(p);if(f){a+=\\\" var \\\"+(m=\\\"format\\\"+s)+\\\" = formats[\\\"+h+\\\"]; var \\\"+(v=\\\"isObject\\\"+s)+\\\" = typeof \\\"+m+\\\" == 'object' && !(\\\"+m+\\\" instanceof RegExp) && \\\"+m+\\\".validate; var \\\"+(_=\\\"formatType\\\"+s)+\\\" = \\\"+v+\\\" && \\\"+m+\\\".type || 'string'; if (\\\"+v+\\\") { \\\",e.async&&(a+=\\\" var async\\\"+s+\\\" = \\\"+m+\\\".async; \\\"),a+=\\\" \\\"+m+\\\" = \\\"+m+\\\".validate; } if (  \\\",f&&(a+=\\\" (\\\"+h+\\\" !== undefined && typeof \\\"+h+\\\" != 'string') || \\\"),a+=\\\" (\\\",\\\"ignore\\\"!=p&&(a+=\\\" (\\\"+h+\\\" && !\\\"+m+\\\" \\\",d&&(a+=\\\" && self._opts.unknownFormats.indexOf(\\\"+h+\\\") == -1 \\\"),a+=\\\") || \\\"),a+=\\\" (\\\"+m+\\\" && \\\"+_+\\\" == '\\\"+t+\\\"' && !(typeof \\\"+m+\\\" == 'function' ? \\\",e.async?a+=\\\" (async\\\"+s+\\\" ? \\\"+e.yieldAwait+\\\" \\\"+m+\\\"(\\\"+u+\\\") : \\\"+m+\\\"(\\\"+u+\\\")) \\\":a+=\\\" \\\"+m+\\\"(\\\"+u+\\\") \\\",a+=\\\" : \\\"+m+\\\".test(\\\"+u+\\\"))))) {\\\"}else{var m;if(!(m=e.formats[i])){if(\\\"ignore\\\"==p)return console.warn('unknown format \\\"'+i+'\\\" ignored in schema at path \\\"'+e.errSchemaPath+'\\\"'),l&&(a+=\\\" if (true) { \\\"),a;if(d&&p.indexOf(i)>=0)return l&&(a+=\\\" if (true) { \\\"),a;throw new Error('unknown format \\\"'+i+'\\\" is used in schema at path \\\"'+e.errSchemaPath+'\\\"')}var v,_=(v=\\\"object\\\"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||\\\"string\\\";if(v){var y=!0===m.async;m=m.validate}if(_!=t)return l&&(a+=\\\" if (true) { \\\"),a;if(y){if(!e.async)throw new Error(\\\"async format in sync schema\\\");var g=\\\"formats\\\"+e.util.getProperty(i)+\\\".validate\\\";a+=\\\" if (!(\\\"+e.yieldAwait+\\\" \\\"+g+\\\"(\\\"+u+\\\"))) { \\\"}else{a+=\\\" if (! \\\";g=\\\"formats\\\"+e.util.getProperty(i);v&&(g+=\\\".validate\\\"),a+=\\\"function\\\"==typeof m?\\\" \\\"+g+\\\"(\\\"+u+\\\") \\\":\\\" \\\"+g+\\\".test(\\\"+u+\\\") \\\",a+=\\\") { \\\"}}var P=P||[];P.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'format' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { format:  \\\",a+=f?\\\"\\\"+h:\\\"\\\"+e.util.toQuotedString(i),a+=\\\"  } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should match format \\\\\\\"\\\",a+=f?\\\"' + \\\"+h+\\\" + '\\\":\\\"\\\"+e.util.escapeQuotes(i),a+=\\\"\\\\\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema:  \\\",a+=f?\\\"validate.schema\\\"+n:\\\"\\\"+e.util.toQuotedString(i),a+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var b=a;return a=P.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+b+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+b+\\\"]; return false; \\\":a+=\\\" var err = \\\"+b+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } \\\",l&&(a+=\\\" else { \\\"),a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=\\\"errs__\\\"+s,p=e.util.copy(e),d=\\\"\\\";p.level++;var m=\\\"valid\\\"+p.level,v=\\\"i\\\"+s,_=p.dataLevel=e.dataLevel+1,y=\\\"data\\\"+_,g=e.baseId;if(a+=\\\"var \\\"+f+\\\" = errors;var \\\"+h+\\\";\\\",Array.isArray(i)){var P=e.schema.additionalItems;if(!1===P){a+=\\\" \\\"+h+\\\" = \\\"+u+\\\".length <= \\\"+i.length+\\\"; \\\";var b=c;c=e.errSchemaPath+\\\"/additionalItems\\\",a+=\\\"  if (!\\\"+h+\\\") {   \\\";var w=w||[];w.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { limit: \\\"+i.length+\\\" } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT have more than \\\"+i.length+\\\" items' \\\"),e.opts.verbose&&(a+=\\\" , schema: false , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var E=a;a=w.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+E+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+E+\\\"]; return false; \\\":a+=\\\" var err = \\\"+E+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } \\\",c=b,l&&(d+=\\\"}\\\",a+=\\\" else { \\\")}var S=i;if(S)for(var j,x=-1,R=S.length-1;x<R;)if(j=S[x+=1],e.util.schemaHasRules(j,e.RULES.all)){a+=\\\" \\\"+m+\\\" = true; if (\\\"+u+\\\".length > \\\"+x+\\\") { \\\";var F=u+\\\"[\\\"+x+\\\"]\\\";p.schema=j,p.schemaPath=n+\\\"[\\\"+x+\\\"]\\\",p.errSchemaPath=c+\\\"/\\\"+x,p.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),p.dataPathArr[_]=x;var O=e.validate(p);p.baseId=g,e.util.varOccurences(O,y)<2?a+=\\\" \\\"+e.util.varReplace(O,y,F)+\\\" \\\":a+=\\\" var \\\"+y+\\\" = \\\"+F+\\\"; \\\"+O+\\\" \\\",a+=\\\" }  \\\",l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\")}if(\\\"object\\\"==typeof P&&e.util.schemaHasRules(P,e.RULES.all)){p.schema=P,p.schemaPath=e.schemaPath+\\\".additionalItems\\\",p.errSchemaPath=e.errSchemaPath+\\\"/additionalItems\\\",a+=\\\" \\\"+m+\\\" = true; if (\\\"+u+\\\".length > \\\"+i.length+\\\") {  for (var \\\"+v+\\\" = \\\"+i.length+\\\"; \\\"+v+\\\" < \\\"+u+\\\".length; \\\"+v+\\\"++) { \\\",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);F=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[_]=v;O=e.validate(p);p.baseId=g,e.util.varOccurences(O,y)<2?a+=\\\" \\\"+e.util.varReplace(O,y,F)+\\\" \\\":a+=\\\" var \\\"+y+\\\" = \\\"+F+\\\"; \\\"+O+\\\" \\\",l&&(a+=\\\" if (!\\\"+m+\\\") break; \\\"),a+=\\\" } }  \\\",l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\")}}else if(e.util.schemaHasRules(i,e.RULES.all)){p.schema=i,p.schemaPath=n,p.errSchemaPath=c,a+=\\\"  for (var \\\"+v+\\\" = 0; \\\"+v+\\\" < \\\"+u+\\\".length; \\\"+v+\\\"++) { \\\",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);F=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[_]=v;O=e.validate(p);p.baseId=g,e.util.varOccurences(O,y)<2?a+=\\\" \\\"+e.util.varReplace(O,y,F)+\\\" \\\":a+=\\\" var \\\"+y+\\\" = \\\"+F+\\\"; \\\"+O+\\\" \\\",l&&(a+=\\\" if (!\\\"+m+\\\") break; \\\"),a+=\\\" }\\\"}return l&&(a+=\\\" \\\"+d+\\\" if (\\\"+f+\\\" == errors) {\\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n,s+=\\\"var division\\\"+o+\\\";if (\\\",f&&(s+=\\\" \\\"+a+\\\" !== undefined && ( typeof \\\"+a+\\\" != 'number' || \\\"),s+=\\\" (division\\\"+o+\\\" = \\\"+h+\\\" / \\\"+a+\\\", \\\",e.opts.multipleOfPrecision?s+=\\\" Math.abs(Math.round(division\\\"+o+\\\") - division\\\"+o+\\\") > 1e-\\\"+e.opts.multipleOfPrecision+\\\" \\\":s+=\\\" division\\\"+o+\\\" !== parseInt(division\\\"+o+\\\") \\\",s+=\\\" ) \\\",f&&(s+=\\\"  )  \\\"),s+=\\\" ) {   \\\";var p=p||[];p.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { multipleOf: \\\"+a+\\\" } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should be multiple of \\\",s+=f?\\\"' + \\\"+a:a+\\\"'\\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var d=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+d+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+d+\\\"]; return false; \\\":s+=\\\" var err = \\\"+d+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\"} \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"errs__\\\"+s,f=e.util.copy(e);f.level++;var p=\\\"valid\\\"+f.level;if(e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=n,f.errSchemaPath=c,a+=\\\" var \\\"+h+\\\" = errors;  \\\";var d,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(d=f.opts.allErrors,f.opts.allErrors=!1),a+=\\\" \\\"+e.validate(f)+\\\" \\\",f.createErrors=!0,d&&(f.opts.allErrors=d),e.compositeRule=f.compositeRule=m,a+=\\\" if (\\\"+p+\\\") {   \\\";var v=v||[];v.push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'not' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT be valid' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var _=a;a=v.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+_+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+_+\\\"]; return false; \\\":a+=\\\" var err = \\\"+_+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } else {  errors = \\\"+h+\\\"; if (vErrors !== null) { if (\\\"+h+\\\") vErrors.length = \\\"+h+\\\"; else vErrors = null; } \\\",e.opts.allErrors&&(a+=\\\" } \\\")}else a+=\\\"  var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'not' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT be valid' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",l&&(a+=\\\" if (false) { \\\");return a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=\\\"errs__\\\"+s,p=e.util.copy(e),d=\\\"\\\";p.level++;var m=\\\"valid\\\"+p.level;a+=\\\"var \\\"+f+\\\" = errors;var prevValid\\\"+s+\\\" = false;var \\\"+h+\\\" = false;\\\";var v=p.baseId,_=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=i;if(y)for(var g,P=-1,b=y.length-1;P<b;)g=y[P+=1],e.util.schemaHasRules(g,e.RULES.all)?(p.schema=g,p.schemaPath=n+\\\"[\\\"+P+\\\"]\\\",p.errSchemaPath=c+\\\"/\\\"+P,a+=\\\"  \\\"+e.validate(p)+\\\" \\\",p.baseId=v):a+=\\\" var \\\"+m+\\\" = true; \\\",P&&(a+=\\\" if (\\\"+m+\\\" && prevValid\\\"+s+\\\") \\\"+h+\\\" = false; else { \\\",d+=\\\"}\\\"),a+=\\\" if (\\\"+m+\\\") \\\"+h+\\\" = prevValid\\\"+s+\\\" = true;\\\";return e.compositeRule=p.compositeRule=_,a+=d+\\\"if (!\\\"+h+\\\") {   var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: {} \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should match exactly one schema in oneOf' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",!e.compositeRule&&l&&(e.async?a+=\\\" throw new ValidationError(vErrors); \\\":a+=\\\" validate.errors = vErrors; return false; \\\"),a+=\\\"} else {  errors = \\\"+f+\\\"; if (vErrors !== null) { if (\\\"+f+\\\") vErrors.length = \\\"+f+\\\"; else vErrors = null; }\\\",e.opts.allErrors&&(a+=\\\" } \\\"),a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=e.opts.$data&&n&&n.$data;f?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n,s+=\\\"if ( \\\",f&&(s+=\\\" (\\\"+a+\\\" !== undefined && typeof \\\"+a+\\\" != 'string') || \\\"),s+=\\\" !\\\"+(f?\\\"(new RegExp(\\\"+a+\\\"))\\\":e.usePattern(n))+\\\".test(\\\"+h+\\\") ) {   \\\";var p=p||[];p.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: 'pattern' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { pattern:  \\\",s+=f?\\\"\\\"+a:\\\"\\\"+e.util.toQuotedString(n),s+=\\\"  } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should match pattern \\\\\\\"\\\",s+=f?\\\"' + \\\"+a+\\\" + '\\\":\\\"\\\"+e.util.escapeQuotes(n),s+=\\\"\\\\\\\"' \\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=f?\\\"validate.schema\\\"+c:\\\"\\\"+e.util.toQuotedString(n),s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var d=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+d+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+d+\\\"]; return false; \\\":s+=\\\" var err = \\\"+d+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\"} \\\",u&&(s+=\\\" else { \\\"),s}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=\\\"errs__\\\"+s,p=e.util.copy(e),d=\\\"\\\";p.level++;var m=\\\"valid\\\"+p.level,v=\\\"key\\\"+s,_=\\\"idx\\\"+s,y=p.dataLevel=e.dataLevel+1,g=\\\"data\\\"+y,P=\\\"dataProperties\\\"+s,b=Object.keys(i||{}),w=e.schema.patternProperties||{},E=Object.keys(w),S=e.schema.additionalProperties,j=b.length||E.length,x=!1===S,R=\\\"object\\\"==typeof S&&Object.keys(S).length,F=e.opts.removeAdditional,O=x||R||F,A=e.opts.ownProperties,$=e.baseId,k=e.schema.required;if(k&&(!e.opts.v5||!k.$data)&&k.length<e.opts.loopRequired)var I=e.util.toHash(k);if(e.opts.patternGroups)var D=e.schema.patternGroups||{},q=Object.keys(D);if(a+=\\\"var \\\"+f+\\\" = errors;var \\\"+m+\\\" = true;\\\",A&&(a+=\\\" var \\\"+P+\\\" = undefined;\\\"),O){if(a+=A?\\\" \\\"+P+\\\" = \\\"+P+\\\" || Object.keys(\\\"+u+\\\"); for (var \\\"+_+\\\"=0; \\\"+_+\\\"<\\\"+P+\\\".length; \\\"+_+\\\"++) { var \\\"+v+\\\" = \\\"+P+\\\"[\\\"+_+\\\"]; \\\":\\\" for (var \\\"+v+\\\" in \\\"+u+\\\") { \\\",j){if(a+=\\\" var isAdditional\\\"+s+\\\" = !(false \\\",b.length)if(b.length>5)a+=\\\" || validate.schema\\\"+n+\\\"[\\\"+v+\\\"] \\\";else{var C=b;if(C)for(var L=-1,U=C.length-1;L<U;)X=C[L+=1],a+=\\\" || \\\"+v+\\\" == \\\"+e.util.toQuotedString(X)+\\\" \\\"}if(E.length){var z=E;if(z)for(var Q=-1,M=z.length-1;Q<M;)ce=z[Q+=1],a+=\\\" || \\\"+e.usePattern(ce)+\\\".test(\\\"+v+\\\") \\\"}if(e.opts.patternGroups&&q.length){var T=q;if(T){Q=-1;for(var N=T.length-1;Q<N;)fe=T[Q+=1],a+=\\\" || \\\"+e.usePattern(fe)+\\\".test(\\\"+v+\\\") \\\"}}a+=\\\" ); if (isAdditional\\\"+s+\\\") { \\\"}if(\\\"all\\\"==F)a+=\\\" delete \\\"+u+\\\"[\\\"+v+\\\"]; \\\";else{var V=e.errorPath,H=\\\"' + \\\"+v+\\\" + '\\\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),x)if(F)a+=\\\" delete \\\"+u+\\\"[\\\"+v+\\\"]; \\\";else{a+=\\\" \\\"+m+\\\" = false; \\\";var W=c;c=e.errSchemaPath+\\\"/additionalProperties\\\",(be=be||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { additionalProperty: '\\\"+H+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT have additional properties' \\\"),e.opts.verbose&&(a+=\\\" , schema: false , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var B=a;a=be.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+B+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+B+\\\"]; return false; \\\":a+=\\\" var err = \\\"+B+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",c=W,l&&(a+=\\\" break; \\\")}else if(R)if(\\\"failing\\\"==F){a+=\\\" var \\\"+f+\\\" = errors;  \\\";var K=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=S,p.schemaPath=e.schemaPath+\\\".additionalProperties\\\",p.errSchemaPath=e.errSchemaPath+\\\"/additionalProperties\\\",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var G=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[y]=v;var J=e.validate(p);p.baseId=$,e.util.varOccurences(J,g)<2?a+=\\\" \\\"+e.util.varReplace(J,g,G)+\\\" \\\":a+=\\\" var \\\"+g+\\\" = \\\"+G+\\\"; \\\"+J+\\\" \\\",a+=\\\" if (!\\\"+m+\\\") { errors = \\\"+f+\\\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \\\"+u+\\\"[\\\"+v+\\\"]; }  \\\",e.compositeRule=p.compositeRule=K}else{p.schema=S,p.schemaPath=e.schemaPath+\\\".additionalProperties\\\",p.errSchemaPath=e.errSchemaPath+\\\"/additionalProperties\\\",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);G=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[y]=v;J=e.validate(p);p.baseId=$,e.util.varOccurences(J,g)<2?a+=\\\" \\\"+e.util.varReplace(J,g,G)+\\\" \\\":a+=\\\" var \\\"+g+\\\" = \\\"+G+\\\"; \\\"+J+\\\" \\\",l&&(a+=\\\" if (!\\\"+m+\\\") break; \\\")}e.errorPath=V}j&&(a+=\\\" } \\\"),a+=\\\" }  \\\",l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\")}var Z=e.opts.useDefaults&&!e.compositeRule;if(b.length){var Y=b;if(Y)for(var X,ee=-1,re=Y.length-1;ee<re;){var te=i[X=Y[ee+=1]];if(e.util.schemaHasRules(te,e.RULES.all)){var ae=e.util.getProperty(X),se=(G=u+ae,Z&&void 0!==te.default);p.schema=te,p.schemaPath=n+ae,p.errSchemaPath=c+\\\"/\\\"+e.util.escapeFragment(X),p.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),p.dataPathArr[y]=e.util.toQuotedString(X);J=e.validate(p);if(p.baseId=$,e.util.varOccurences(J,g)<2){J=e.util.varReplace(J,g,G);var oe=G}else{oe=g;a+=\\\" var \\\"+g+\\\" = \\\"+G+\\\"; \\\"}if(se)a+=\\\" \\\"+J+\\\" \\\";else{if(I&&I[X]){a+=\\\" if ( \\\"+oe+\\\" === undefined \\\",A&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(X)+\\\"') \\\"),a+=\\\") { \\\"+m+\\\" = false; \\\";V=e.errorPath,W=c;var ie=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(V,X,e.opts.jsonPointers)),c=e.errSchemaPath+\\\"/required\\\",(be=be||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+ie+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+ie+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";B=a;a=be.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+B+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+B+\\\"]; return false; \\\":a+=\\\" var err = \\\"+B+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",c=W,e.errorPath=V,a+=\\\" } else { \\\"}else l?(a+=\\\" if ( \\\"+oe+\\\" === undefined \\\",A&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(X)+\\\"') \\\"),a+=\\\") { \\\"+m+\\\" = true; } else { \\\"):(a+=\\\" if (\\\"+oe+\\\" !== undefined \\\",A&&(a+=\\\" &&   Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes(X)+\\\"') \\\"),a+=\\\" ) { \\\");a+=\\\" \\\"+J+\\\" } \\\"}}l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\")}}if(E.length){var ne=E;if(ne)for(var ce,le=-1,ue=ne.length-1;le<ue;){te=w[ce=ne[le+=1]];if(e.util.schemaHasRules(te,e.RULES.all)){p.schema=te,p.schemaPath=e.schemaPath+\\\".patternProperties\\\"+e.util.getProperty(ce),p.errSchemaPath=e.errSchemaPath+\\\"/patternProperties/\\\"+e.util.escapeFragment(ce),a+=A?\\\" \\\"+P+\\\" = \\\"+P+\\\" || Object.keys(\\\"+u+\\\"); for (var \\\"+_+\\\"=0; \\\"+_+\\\"<\\\"+P+\\\".length; \\\"+_+\\\"++) { var \\\"+v+\\\" = \\\"+P+\\\"[\\\"+_+\\\"]; \\\":\\\" for (var \\\"+v+\\\" in \\\"+u+\\\") { \\\",a+=\\\" if (\\\"+e.usePattern(ce)+\\\".test(\\\"+v+\\\")) { \\\",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);G=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[y]=v;J=e.validate(p);p.baseId=$,e.util.varOccurences(J,g)<2?a+=\\\" \\\"+e.util.varReplace(J,g,G)+\\\" \\\":a+=\\\" var \\\"+g+\\\" = \\\"+G+\\\"; \\\"+J+\\\" \\\",l&&(a+=\\\" if (!\\\"+m+\\\") break; \\\"),a+=\\\" } \\\",l&&(a+=\\\" else \\\"+m+\\\" = true; \\\"),a+=\\\" }  \\\",l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\")}}}if(e.opts.patternGroups&&q.length){var he=q;if(he)for(var fe,pe=-1,de=he.length-1;pe<de;){var me=D[fe=he[pe+=1]];te=me.schema;if(e.util.schemaHasRules(te,e.RULES.all)){p.schema=te,p.schemaPath=e.schemaPath+\\\".patternGroups\\\"+e.util.getProperty(fe)+\\\".schema\\\",p.errSchemaPath=e.errSchemaPath+\\\"/patternGroups/\\\"+e.util.escapeFragment(fe)+\\\"/schema\\\",a+=\\\" var pgPropCount\\\"+s+\\\" = 0;  \\\",a+=A?\\\" \\\"+P+\\\" = \\\"+P+\\\" || Object.keys(\\\"+u+\\\"); for (var \\\"+_+\\\"=0; \\\"+_+\\\"<\\\"+P+\\\".length; \\\"+_+\\\"++) { var \\\"+v+\\\" = \\\"+P+\\\"[\\\"+_+\\\"]; \\\":\\\" for (var \\\"+v+\\\" in \\\"+u+\\\") { \\\",a+=\\\" if (\\\"+e.usePattern(fe)+\\\".test(\\\"+v+\\\")) { pgPropCount\\\"+s+\\\"++; \\\",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);G=u+\\\"[\\\"+v+\\\"]\\\";p.dataPathArr[y]=v;J=e.validate(p);p.baseId=$,e.util.varOccurences(J,g)<2?a+=\\\" \\\"+e.util.varReplace(J,g,G)+\\\" \\\":a+=\\\" var \\\"+g+\\\" = \\\"+G+\\\"; \\\"+J+\\\" \\\",l&&(a+=\\\" if (!\\\"+m+\\\") break; \\\"),a+=\\\" } \\\",l&&(a+=\\\" else \\\"+m+\\\" = true; \\\"),a+=\\\" }  \\\",l&&(a+=\\\" if (\\\"+m+\\\") { \\\",d+=\\\"}\\\");var ve=me.minimum,_e=me.maximum;if(void 0!==ve||void 0!==_e){a+=\\\" var \\\"+h+\\\" = true; \\\";W=c;if(void 0!==ve){var ye=ve,ge=\\\"minimum\\\",Pe=\\\"less\\\";a+=\\\" \\\"+h+\\\" = pgPropCount\\\"+s+\\\" >= \\\"+ve+\\\"; \\\",c=e.errSchemaPath+\\\"/patternGroups/minimum\\\",a+=\\\"  if (!\\\"+h+\\\") {   \\\",(be=be||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { reason: '\\\"+ge+\\\"', limit: \\\"+ye+\\\", pattern: '\\\"+e.util.escapeQuotes(fe)+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT have \\\"+Pe+\\\" than \\\"+ye+' properties matching pattern \\\"'+e.util.escapeQuotes(fe)+\\\"\\\\\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";B=a;a=be.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+B+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+B+\\\"]; return false; \\\":a+=\\\" var err = \\\"+B+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } \\\",void 0!==_e&&(a+=\\\" else \\\")}if(void 0!==_e){var be;ye=_e,ge=\\\"maximum\\\",Pe=\\\"more\\\";a+=\\\" \\\"+h+\\\" = pgPropCount\\\"+s+\\\" <= \\\"+_e+\\\"; \\\",c=e.errSchemaPath+\\\"/patternGroups/maximum\\\",a+=\\\"  if (!\\\"+h+\\\") {   \\\",(be=be||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { reason: '\\\"+ge+\\\"', limit: \\\"+ye+\\\", pattern: '\\\"+e.util.escapeQuotes(fe)+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'should NOT have \\\"+Pe+\\\" than \\\"+ye+' properties matching pattern \\\"'+e.util.escapeQuotes(fe)+\\\"\\\\\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";B=a;a=be.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+B+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+B+\\\"]; return false; \\\":a+=\\\" var err = \\\"+B+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } \\\"}c=W,l&&(a+=\\\" if (\\\"+h+\\\") { \\\",d+=\\\"}\\\")}}}}return l&&(a+=\\\" \\\"+d+\\\" if (\\\"+f+\\\" == errors) {\\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"errs__\\\"+s,f=e.util.copy(e);f.level++;var p=\\\"valid\\\"+f.level;if(e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=n,f.errSchemaPath=c;var d=\\\"key\\\"+s,m=\\\"idx\\\"+s,v=\\\"i\\\"+s,_=\\\"' + \\\"+d+\\\" + '\\\",y=\\\"data\\\"+(f.dataLevel=e.dataLevel+1),g=\\\"dataProperties\\\"+s,P=e.opts.ownProperties,b=e.baseId;a+=\\\" var \\\"+h+\\\" = errors; \\\",P&&(a+=\\\" var \\\"+g+\\\" = undefined; \\\"),a+=P?\\\" \\\"+g+\\\" = \\\"+g+\\\" || Object.keys(\\\"+u+\\\"); for (var \\\"+m+\\\"=0; \\\"+m+\\\"<\\\"+g+\\\".length; \\\"+m+\\\"++) { var \\\"+d+\\\" = \\\"+g+\\\"[\\\"+m+\\\"]; \\\":\\\" for (var \\\"+d+\\\" in \\\"+u+\\\") { \\\",a+=\\\" var startErrs\\\"+s+\\\" = errors; \\\";var w=d,E=e.compositeRule;e.compositeRule=f.compositeRule=!0;var S=e.validate(f);f.baseId=b,e.util.varOccurences(S,y)<2?a+=\\\" \\\"+e.util.varReplace(S,y,w)+\\\" \\\":a+=\\\" var \\\"+y+\\\" = \\\"+w+\\\"; \\\"+S+\\\" \\\",e.compositeRule=f.compositeRule=E,a+=\\\" if (!\\\"+p+\\\") { for (var \\\"+v+\\\"=startErrs\\\"+s+\\\"; \\\"+v+\\\"<errors; \\\"+v+\\\"++) { vErrors[\\\"+v+\\\"].propertyName = \\\"+d+\\\"; }   var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { propertyName: '\\\"+_+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: 'property name \\\\\\\\'\\\"+_+\\\"\\\\\\\\' is invalid' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",!e.compositeRule&&l&&(e.async?a+=\\\" throw new ValidationError(vErrors); \\\":a+=\\\" validate.errors = vErrors; return false; \\\"),l&&(a+=\\\" break; \\\"),a+=\\\" } }\\\"}return l&&(a+=\\\"  if (\\\"+h+\\\" == errors) {\\\"),a=e.util.cleanUpCode(a)}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a=\\\" \\\",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\\\"/\\\"+r,l=!e.opts.allErrors,u=\\\"data\\\"+(o||\\\"\\\"),h=\\\"valid\\\"+s,f=e.opts.$data&&i&&i.$data;f&&(a+=\\\" var schema\\\"+s+\\\" = \\\"+e.util.getData(i.$data,o,e.dataPathArr)+\\\"; \\\");var p=\\\"schema\\\"+s;if(!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],m=i;if(m)for(var v,_=-1,y=m.length-1;_<y;){v=m[_+=1];var g=e.schema.properties[v];g&&e.util.schemaHasRules(g,e.RULES.all)||(d[d.length]=v)}}else d=i;if(f||d.length){var P=e.errorPath,b=f||d.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(l)if(a+=\\\" var missing\\\"+s+\\\"; \\\",b){f||(a+=\\\" var \\\"+p+\\\" = validate.schema\\\"+n+\\\"; \\\");var E=\\\"' + \\\"+(O=\\\"schema\\\"+s+\\\"[\\\"+(x=\\\"i\\\"+s)+\\\"]\\\")+\\\" + '\\\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,O,e.opts.jsonPointers)),a+=\\\" var \\\"+h+\\\" = true; \\\",f&&(a+=\\\" if (schema\\\"+s+\\\" === undefined) \\\"+h+\\\" = true; else if (!Array.isArray(schema\\\"+s+\\\")) \\\"+h+\\\" = false; else {\\\"),a+=\\\" for (var \\\"+x+\\\" = 0; \\\"+x+\\\" < \\\"+p+\\\".length; \\\"+x+\\\"++) { \\\"+h+\\\" = \\\"+u+\\\"[\\\"+p+\\\"[\\\"+x+\\\"]] !== undefined \\\",w&&(a+=\\\" &&   Object.prototype.hasOwnProperty.call(\\\"+u+\\\", \\\"+p+\\\"[\\\"+x+\\\"]) \\\"),a+=\\\"; if (!\\\"+h+\\\") break; } \\\",f&&(a+=\\\"  }  \\\"),a+=\\\"  if (!\\\"+h+\\\") {   \\\",(F=F||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+E+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+E+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";var S=a;a=F.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+S+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+S+\\\"]; return false; \\\":a+=\\\" var err = \\\"+S+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } else { \\\"}else{a+=\\\" if ( \\\";var j=d;if(j)for(var x=-1,R=j.length-1;x<R;){$=j[x+=1],x&&(a+=\\\" || \\\"),a+=\\\" ( ( \\\"+(q=u+(D=e.util.getProperty($)))+\\\" === undefined \\\",w&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes($)+\\\"') \\\"),a+=\\\") && (missing\\\"+s+\\\" = \\\"+e.util.toQuotedString(e.opts.jsonPointers?$:D)+\\\") ) \\\"}a+=\\\") {  \\\";var F;E=\\\"' + \\\"+(O=\\\"missing\\\"+s)+\\\" + '\\\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,O,!0):P+\\\" + \\\"+O),(F=F||[]).push(a),a=\\\"\\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+E+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+E+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\";S=a;a=F.pop(),!e.compositeRule&&l?e.async?a+=\\\" throw new ValidationError([\\\"+S+\\\"]); \\\":a+=\\\" validate.errors = [\\\"+S+\\\"]; return false; \\\":a+=\\\" var err = \\\"+S+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",a+=\\\" } else { \\\"}else if(b){f||(a+=\\\" var \\\"+p+\\\" = validate.schema\\\"+n+\\\"; \\\");var O;E=\\\"' + \\\"+(O=\\\"schema\\\"+s+\\\"[\\\"+(x=\\\"i\\\"+s)+\\\"]\\\")+\\\" + '\\\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,O,e.opts.jsonPointers)),f&&(a+=\\\" if (\\\"+p+\\\" && !Array.isArray(\\\"+p+\\\")) {  var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+E+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+E+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\\\"+p+\\\" !== undefined) { \\\"),a+=\\\" for (var \\\"+x+\\\" = 0; \\\"+x+\\\" < \\\"+p+\\\".length; \\\"+x+\\\"++) { if (\\\"+u+\\\"[\\\"+p+\\\"[\\\"+x+\\\"]] === undefined \\\",w&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", \\\"+p+\\\"[\\\"+x+\\\"]) \\\"),a+=\\\") {  var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+E+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+E+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \\\",f&&(a+=\\\"  }  \\\")}else{var A=d;if(A)for(var $,k=-1,I=A.length-1;k<I;){$=A[k+=1];var D=e.util.getProperty($),q=(E=e.util.escapeQuotes($),u+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,$,e.opts.jsonPointers)),a+=\\\" if ( \\\"+q+\\\" === undefined \\\",w&&(a+=\\\" || ! Object.prototype.hasOwnProperty.call(\\\"+u+\\\", '\\\"+e.util.escapeQuotes($)+\\\"') \\\"),a+=\\\") {  var err =   \\\",!1!==e.createErrors?(a+=\\\" { keyword: 'required' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(c)+\\\" , params: { missingProperty: '\\\"+E+\\\"' } \\\",!1!==e.opts.messages&&(a+=\\\" , message: '\\\",e.opts._errorDataPathProperty?a+=\\\"is a required property\\\":a+=\\\"should have required property \\\\\\\\'\\\"+E+\\\"\\\\\\\\'\\\",a+=\\\"' \\\"),e.opts.verbose&&(a+=\\\" , schema: validate.schema\\\"+n+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+u+\\\" \\\"),a+=\\\" } \\\"):a+=\\\" {} \\\",a+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \\\"}}e.errorPath=P}else l&&(a+=\\\" if (true) {\\\");return a}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s=\\\" \\\",o=e.level,i=e.dataLevel,n=e.schema[r],c=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\\\"/\\\"+r,u=!e.opts.allErrors,h=\\\"data\\\"+(i||\\\"\\\"),f=\\\"valid\\\"+o,p=e.opts.$data&&n&&n.$data;if(p?(s+=\\\" var schema\\\"+o+\\\" = \\\"+e.util.getData(n.$data,i,e.dataPathArr)+\\\"; \\\",a=\\\"schema\\\"+o):a=n,(n||p)&&!1!==e.opts.uniqueItems){p&&(s+=\\\" var \\\"+f+\\\"; if (\\\"+a+\\\" === false || \\\"+a+\\\" === undefined) \\\"+f+\\\" = true; else if (typeof \\\"+a+\\\" != 'boolean') \\\"+f+\\\" = false; else { \\\"),s+=\\\" var \\\"+f+\\\" = true; if (\\\"+h+\\\".length > 1) { var i = \\\"+h+\\\".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(\\\"+h+\\\"[i], \\\"+h+\\\"[j])) { \\\"+f+\\\" = false; break outer; } } } } \\\",p&&(s+=\\\"  }  \\\"),s+=\\\" if (!\\\"+f+\\\") {   \\\";var d=d||[];d.push(s),s=\\\"\\\",!1!==e.createErrors?(s+=\\\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(l)+\\\" , params: { i: i, j: j } \\\",!1!==e.opts.messages&&(s+=\\\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \\\"),e.opts.verbose&&(s+=\\\" , schema:  \\\",s+=p?\\\"validate.schema\\\"+c:\\\"\\\"+n,s+=\\\"         , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+h+\\\" \\\"),s+=\\\" } \\\"):s+=\\\" {} \\\";var m=s;s=d.pop(),!e.compositeRule&&u?e.async?s+=\\\" throw new ValidationError([\\\"+m+\\\"]); \\\":s+=\\\" validate.errors = [\\\"+m+\\\"]; return false; \\\":s+=\\\" var err = \\\"+m+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",s+=\\\" } \\\",u&&(s+=\\\" else { \\\")}else u&&(s+=\\\" if (true) { \\\");return s}},function(e,r,t){\\\"use strict\\\";var a=[\\\"multipleOf\\\",\\\"maximum\\\",\\\"exclusiveMaximum\\\",\\\"minimum\\\",\\\"exclusiveMinimum\\\",\\\"maxLength\\\",\\\"minLength\\\",\\\"pattern\\\",\\\"additionalItems\\\",\\\"maxItems\\\",\\\"minItems\\\",\\\"uniqueItems\\\",\\\"maxProperties\\\",\\\"minProperties\\\",\\\"required\\\",\\\"additionalProperties\\\",\\\"enum\\\",\\\"format\\\",\\\"const\\\"];e.exports=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var s,o=r[t].split(\\\"/\\\"),i=e;for(s=1;s<o.length;s++)i=i[o[s]];for(s=0;s<a.length;s++){var n=a[s],c=i[n];c&&(i[n]={anyOf:[c,{$ref:\\\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\\\"}]})}}return e}},function(e,r,t){\\\"use strict\\\";e.exports=function(e){var r=e._opts.defaultMeta,t=\\\"string\\\"==typeof r?{$ref:r}:e.getSchema(\\\"http://json-schema.org/draft-06/schema\\\")?{$ref:\\\"http://json-schema.org/draft-06/schema\\\"}:{};e.addKeyword(\\\"patternGroups\\\",{metaSchema:{type:\\\"object\\\",additionalProperties:{type:\\\"object\\\",required:[\\\"schema\\\"],properties:{maximum:{type:\\\"integer\\\",minimum:0},minimum:{type:\\\"integer\\\",minimum:0},schema:t},additionalProperties:!1}}}),e.RULES.all.properties.implements.push(\\\"patternGroups\\\")}},function(e,r,t){\\\"use strict\\\";var a=t(5).MissingRef;e.exports=function e(r,t,s){var o=this;if(\\\"function\\\"!=typeof this._opts.loadSchema)throw new Error(\\\"options.loadSchema should be a function\\\");\\\"function\\\"==typeof t&&(s=t,t=void 0);var i=n(r).then((function(){var e=o._addSchema(r,void 0,t);return e.validate||function e(r){try{return o._compile(r)}catch(s){if(s instanceof a)return function(a){var s=a.missingSchema;if(l(s))throw new Error(\\\"Schema \\\"+s+\\\" is loaded but \\\"+a.missingRef+\\\" cannot be resolved\\\");var i=o._loadingSchemas[s];i||(i=o._loadingSchemas[s]=o._opts.loadSchema(s)).then(c,c);return i.then((function(e){if(!l(s))return n(e).then((function(){l(s)||o.addSchema(e,s,void 0,t)}))})).then((function(){return e(r)}));function c(){delete o._loadingSchemas[s]}function l(e){return o._refs[e]||o._schemas[e]}}(s);throw s}}(e)}));s&&i.then((function(e){s(null,e)}),s);return i;function n(r){var t=r.$schema;return t&&!o.getSchema(t)?e.call(o,{$ref:t},!0):Promise.resolve()}}},function(e,r,t){\\\"use strict\\\";var a=/^[a-z_$][a-z0-9_$\\\\-]*$/i,s=t(56);e.exports={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error(\\\"Keyword \\\"+e+\\\" is already defined\\\");if(!a.test(e))throw new Error(\\\"Keyword \\\"+e+\\\" is not a valid identifier\\\");if(r){if(r.macro&&void 0!==r.valid)throw new Error('\\\"valid\\\" option cannot be used with macro keywords');var o=r.type;if(Array.isArray(o)){var i,n=o.length;for(i=0;i<n;i++)h(o[i]);for(i=0;i<n;i++)u(e,o[i],r)}else o&&h(o),u(e,o,r);var c=!0===r.$data&&this._opts.$data;if(c&&!r.validate)throw new Error('$data support: \\\"validate\\\" function is not defined');var l=r.metaSchema;l&&(c&&(l={anyOf:[l,{$ref:\\\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\\\"}]}),r.validateSchema=this.compile(l,!0))}function u(e,r,a){for(var o,i=0;i<t.length;i++){var n=t[i];if(n.type==r){o=n;break}}o||(o={type:r,rules:[]},t.push(o));var c={keyword:e,definition:a,custom:!0,code:s,implements:a.implements};o.rules.push(c),t.custom[e]=c}function h(e){if(!t.types[e])throw new Error(\\\"Unknown type \\\"+e)}t.keywords[e]=t.all[e]=!0},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,s=0;s<a.length;s++)if(a[s].keyword==e){a.splice(s,1);break}}}},function(e,r,t){\\\"use strict\\\";e.exports=function(e,r,t){var a,s,o=\\\" \\\",i=e.level,n=e.dataLevel,c=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+\\\"/\\\"+r,h=!e.opts.allErrors,f=\\\"data\\\"+(n||\\\"\\\"),p=\\\"valid\\\"+i,d=\\\"errs__\\\"+i,m=e.opts.$data&&c&&c.$data;m?(o+=\\\" var schema\\\"+i+\\\" = \\\"+e.util.getData(c.$data,n,e.dataPathArr)+\\\"; \\\",s=\\\"schema\\\"+i):s=c;var v,_,y,g,P,b=\\\"definition\\\"+i,w=this.definition,E=\\\"\\\";if(m&&w.$data){P=\\\"keywordValidate\\\"+i;var S=w.validateSchema;o+=\\\" var \\\"+b+\\\" = RULES.custom['\\\"+r+\\\"'].definition; var \\\"+P+\\\" = \\\"+b+\\\".validate;\\\"}else{if(!(g=e.useCustomRule(this,c,e.schema,e)))return;s=\\\"validate.schema\\\"+l,P=g.code,v=w.compile,_=w.inline,y=w.macro}var j=P+\\\".errors\\\",x=\\\"i\\\"+i,R=\\\"ruleErr\\\"+i,F=w.async;if(F&&!e.async)throw new Error(\\\"async keyword in sync schema\\\");if(_||y||(o+=j+\\\" = null;\\\"),o+=\\\"var \\\"+d+\\\" = errors;var \\\"+p+\\\";\\\",m&&w.$data&&(E+=\\\"}\\\",o+=\\\" if (\\\"+s+\\\" === undefined) { \\\"+p+\\\" = true; } else { \\\",S&&(E+=\\\"}\\\",o+=\\\" \\\"+p+\\\" = \\\"+b+\\\".validateSchema(\\\"+s+\\\"); if (\\\"+p+\\\") { \\\")),_)w.statements?o+=\\\" \\\"+g.validate+\\\" \\\":o+=\\\" \\\"+p+\\\" = \\\"+g.validate+\\\"; \\\";else if(y){var O=e.util.copy(e);E=\\\"\\\";O.level++;var A=\\\"valid\\\"+O.level;O.schema=g.validate,O.schemaPath=\\\"\\\";var $=e.compositeRule;e.compositeRule=O.compositeRule=!0;var k=e.validate(O).replace(/validate\\\\.schema/g,P);e.compositeRule=O.compositeRule=$,o+=\\\" \\\"+k}else{(C=C||[]).push(o),o=\\\"\\\",o+=\\\"  \\\"+P+\\\".call( \\\",e.opts.passContext?o+=\\\"this\\\":o+=\\\"self\\\",v||!1===w.schema?o+=\\\" , \\\"+f+\\\" \\\":o+=\\\" , \\\"+s+\\\" , \\\"+f+\\\" , validate.schema\\\"+e.schemaPath+\\\" \\\",o+=\\\" , (dataPath || '')\\\",'\\\"\\\"'!=e.errorPath&&(o+=\\\" + \\\"+e.errorPath);var I=n?\\\"data\\\"+(n-1||\\\"\\\"):\\\"parentData\\\",D=n?e.dataPathArr[n]:\\\"parentDataProperty\\\",q=o+=\\\" , \\\"+I+\\\" , \\\"+D+\\\" , rootData )  \\\";o=C.pop(),!1===w.errors?(o+=\\\" \\\"+p+\\\" = \\\",F&&(o+=\\\"\\\"+e.yieldAwait),o+=q+\\\"; \\\"):o+=F?\\\" var \\\"+(j=\\\"customErrors\\\"+i)+\\\" = null; try { \\\"+p+\\\" = \\\"+e.yieldAwait+q+\\\"; } catch (e) { \\\"+p+\\\" = false; if (e instanceof ValidationError) \\\"+j+\\\" = e.errors; else throw e; } \\\":\\\" \\\"+j+\\\" = null; \\\"+p+\\\" = \\\"+q+\\\"; \\\"}if(w.modifying&&(o+=\\\" if (\\\"+I+\\\") \\\"+f+\\\" = \\\"+I+\\\"[\\\"+D+\\\"];\\\"),o+=\\\"\\\"+E,w.valid)h&&(o+=\\\" if (true) { \\\");else{var C;o+=\\\" if ( \\\",void 0===w.valid?(o+=\\\" !\\\",o+=y?\\\"\\\"+A:\\\"\\\"+p):o+=\\\" \\\"+!w.valid+\\\" \\\",o+=\\\") { \\\",a=this.keyword,(C=C||[]).push(o),o=\\\"\\\",(C=C||[]).push(o),o=\\\"\\\",!1!==e.createErrors?(o+=\\\" { keyword: '\\\"+(a||\\\"custom\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(u)+\\\" , params: { keyword: '\\\"+this.keyword+\\\"' } \\\",!1!==e.opts.messages&&(o+=\\\" , message: 'should pass \\\\\\\"\\\"+this.keyword+\\\"\\\\\\\" keyword validation' \\\"),e.opts.verbose&&(o+=\\\" , schema: validate.schema\\\"+l+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+f+\\\" \\\"),o+=\\\" } \\\"):o+=\\\" {} \\\";var L=o;o=C.pop(),!e.compositeRule&&h?e.async?o+=\\\" throw new ValidationError([\\\"+L+\\\"]); \\\":o+=\\\" validate.errors = [\\\"+L+\\\"]; return false; \\\":o+=\\\" var err = \\\"+L+\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\";var U=o;o=C.pop(),_?w.errors?\\\"full\\\"!=w.errors&&(o+=\\\"  for (var \\\"+x+\\\"=\\\"+d+\\\"; \\\"+x+\\\"<errors; \\\"+x+\\\"++) { var \\\"+R+\\\" = vErrors[\\\"+x+\\\"]; if (\\\"+R+\\\".dataPath === undefined) \\\"+R+\\\".dataPath = (dataPath || '') + \\\"+e.errorPath+\\\"; if (\\\"+R+\\\".schemaPath === undefined) { \\\"+R+'.schemaPath = \\\"'+u+'\\\"; } ',e.opts.verbose&&(o+=\\\" \\\"+R+\\\".schema = \\\"+s+\\\"; \\\"+R+\\\".data = \\\"+f+\\\"; \\\"),o+=\\\" } \\\"):!1===w.errors?o+=\\\" \\\"+U+\\\" \\\":(o+=\\\" if (\\\"+d+\\\" == errors) { \\\"+U+\\\" } else {  for (var \\\"+x+\\\"=\\\"+d+\\\"; \\\"+x+\\\"<errors; \\\"+x+\\\"++) { var \\\"+R+\\\" = vErrors[\\\"+x+\\\"]; if (\\\"+R+\\\".dataPath === undefined) \\\"+R+\\\".dataPath = (dataPath || '') + \\\"+e.errorPath+\\\"; if (\\\"+R+\\\".schemaPath === undefined) { \\\"+R+'.schemaPath = \\\"'+u+'\\\"; } ',e.opts.verbose&&(o+=\\\" \\\"+R+\\\".schema = \\\"+s+\\\"; \\\"+R+\\\".data = \\\"+f+\\\"; \\\"),o+=\\\" } } \\\"):y?(o+=\\\"   var err =   \\\",!1!==e.createErrors?(o+=\\\" { keyword: '\\\"+(a||\\\"custom\\\")+\\\"' , dataPath: (dataPath || '') + \\\"+e.errorPath+\\\" , schemaPath: \\\"+e.util.toQuotedString(u)+\\\" , params: { keyword: '\\\"+this.keyword+\\\"' } \\\",!1!==e.opts.messages&&(o+=\\\" , message: 'should pass \\\\\\\"\\\"+this.keyword+\\\"\\\\\\\" keyword validation' \\\"),e.opts.verbose&&(o+=\\\" , schema: validate.schema\\\"+l+\\\" , parentSchema: validate.schema\\\"+e.schemaPath+\\\" , data: \\\"+f+\\\" \\\"),o+=\\\" } \\\"):o+=\\\" {} \\\",o+=\\\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \\\",!e.compositeRule&&h&&(e.async?o+=\\\" throw new ValidationError(vErrors); \\\":o+=\\\" validate.errors = vErrors; return false; \\\")):!1===w.errors?o+=\\\" \\\"+U+\\\" \\\":(o+=\\\" if (Array.isArray(\\\"+j+\\\")) { if (vErrors === null) vErrors = \\\"+j+\\\"; else vErrors = vErrors.concat(\\\"+j+\\\"); errors = vErrors.length;  for (var \\\"+x+\\\"=\\\"+d+\\\"; \\\"+x+\\\"<errors; \\\"+x+\\\"++) { var \\\"+R+\\\" = vErrors[\\\"+x+\\\"]; if (\\\"+R+\\\".dataPath === undefined) \\\"+R+\\\".dataPath = (dataPath || '') + \\\"+e.errorPath+\\\";  \\\"+R+'.schemaPath = \\\"'+u+'\\\";  ',e.opts.verbose&&(o+=\\\" \\\"+R+\\\".schema = \\\"+s+\\\"; \\\"+R+\\\".data = \\\"+f+\\\"; \\\"),o+=\\\" } } else { \\\"+U+\\\" } \\\"),o+=\\\" } \\\",h&&(o+=\\\" else { \\\")}return o}},function(e){e.exports=JSON.parse('{\\\"$schema\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"$id\\\":\\\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\\\",\\\"description\\\":\\\"Meta-schema for $data reference (JSON-schema extension proposal)\\\",\\\"type\\\":\\\"object\\\",\\\"required\\\":[\\\"$data\\\"],\\\"properties\\\":{\\\"$data\\\":{\\\"type\\\":\\\"string\\\",\\\"anyOf\\\":[{\\\"format\\\":\\\"relative-json-pointer\\\"},{\\\"format\\\":\\\"json-pointer\\\"}]}},\\\"additionalProperties\\\":false}')},function(e){e.exports=JSON.parse('{\\\"$schema\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"$id\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"title\\\":\\\"Core schema meta-schema\\\",\\\"definitions\\\":{\\\"schemaArray\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"items\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"nonNegativeInteger\\\":{\\\"type\\\":\\\"integer\\\",\\\"minimum\\\":0},\\\"nonNegativeIntegerDefault0\\\":{\\\"allOf\\\":[{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},{\\\"default\\\":0}]},\\\"simpleTypes\\\":{\\\"enum\\\":[\\\"array\\\",\\\"boolean\\\",\\\"integer\\\",\\\"null\\\",\\\"number\\\",\\\"object\\\",\\\"string\\\"]},\\\"stringArray\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"uniqueItems\\\":true,\\\"default\\\":[]}},\\\"type\\\":[\\\"object\\\",\\\"boolean\\\"],\\\"properties\\\":{\\\"$id\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"$schema\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri\\\"},\\\"$ref\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"title\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"},\\\"default\\\":{},\\\"multipleOf\\\":{\\\"type\\\":\\\"number\\\",\\\"exclusiveMinimum\\\":0},\\\"maximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMaximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"minimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMinimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"maxLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"regex\\\"},\\\"additionalItems\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"items\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"}],\\\"default\\\":{}},\\\"maxItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"uniqueItems\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"contains\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"maxProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"required\\\":{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"},\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"definitions\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"properties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"patternProperties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"dependencies\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"}]}},\\\"propertyNames\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"const\\\":{},\\\"enum\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"uniqueItems\\\":true},\\\"type\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},\\\"minItems\\\":1,\\\"uniqueItems\\\":true}]},\\\"format\\\":{\\\"type\\\":\\\"string\\\"},\\\"allOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"anyOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"oneOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"not\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"default\\\":{}}')}]);\\n//# sourceMappingURL=imjoy-rpc-min-webworker.js.map\", null);\n};","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./$data')\n  , patternGroups = require('./patternGroups')\n  , util = require('./compile/util')\n  , co = require('co');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n  var schemaUriFormat = this._schemaUriFormat = this._formats['uri-reference'];\n  this._schemaUriFormatFunc = function (str) { return schemaUriFormat.test(str); };\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  addDraft6MetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  addInitialSchemas(this);\n  if (opts.patternGroups) patternGroups(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [json-stable-stringify](https://github.com/substack/json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async === true)\n    return this._opts.async == '*' ? co(valid) : valid;\n  this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    console.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var currentUriFormat = this._formats.uri;\n  this._formats.uri = typeof currentUriFormat == 'function'\n                      ? this._schemaUriFormatFunc\n                      : this._schemaUriFormat;\n  var valid;\n  try { valid = this.validate($schema, schema); }\n  finally { this._formats.uri = currentUriFormat; }\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') console.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  function callValidate() {\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(null, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case '$id': return _get$Id;\n    case 'id': return _getId;\n    default: return _get$IdOrId;\n  }\n}\n\n\nfunction _getId(schema) {\n  if (schema.$id) console.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n\nfunction _get$Id(schema) {\n  if (schema.id) console.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n}\n\n\nfunction addDraft6MetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/$data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-06.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n","/**\n * Contains the routines loaded by the plugin iframe under web-browser\n * in case when worker failed to initialize\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\nimport { connectRPC } from \"./pluginCore.js\";\nimport { API_VERSION } from \"./rpc.js\";\nimport { randId } from \"./utils.js\";\n\nexport default function setupWebPython(config) {\n  config = config || {};\n  // Create a new, plain <span> element\n  function _htmlToElement(html) {\n    var template = document.createElement(\"template\");\n    html = html.trim(); // Never return a text node of whitespace as the result\n    template.innerHTML = html;\n    return template.content.firstChild;\n  }\n\n  var _importScript = function(url) {\n    //url is URL of external file, implementationCode is the code\n    //to be called from the file, location is the location to\n    //insert the <script> element\n    return new Promise((resolve, reject) => {\n      var scriptTag = document.createElement(\"script\");\n      scriptTag.src = url;\n      scriptTag.onload = resolve;\n      scriptTag.onreadystatechange = function() {\n        if (this.readyState === \"loaded\" || this.readyState === \"complete\") {\n          resolve();\n        }\n      };\n      scriptTag.onerror = reject;\n      document.head.appendChild(scriptTag);\n    });\n  };\n\n  // support importScripts outside web worker\n\n  async function importScripts() {\n    var args = Array.prototype.slice.call(arguments),\n      len = args.length,\n      i = 0;\n    for (; i < len; i++) {\n      await _importScript(args[i]);\n    }\n  }\n\n  var startup_script = `\n  from js import api\n  import sys\n  from types import ModuleType\n  m = ModuleType(\"imjoy\")\n  sys.modules[m.__name__] = m\n  m.__file__ = m.__name__ + \".py\"\n  m.api = api\n  `;\n  var _export_plugin_api = null;\n  var execute_python_code = function(code) {\n    try {\n      if (!_export_plugin_api) {\n        _export_plugin_api = window.api.export;\n        window.api.export = function(p) {\n          if (typeof p === \"object\") {\n            const _api = {};\n            for (let k in p) {\n              if (!k.startsWith(\"_\")) {\n                _api[k] = p[k];\n              }\n            }\n            _export_plugin_api(_api);\n          } else if (typeof p === \"function\") {\n            const _api = {};\n            const getattr = window.pyodide.pyimport(\"getattr\");\n            const hasattr = window.pyodide.pyimport(\"hasattr\");\n            for (let k of Object.getOwnPropertyNames(p)) {\n              if (!k.startsWith(\"_\") && hasattr(p, k)) {\n                const func = getattr(p, k);\n                _api[k] = function() {\n                  return func(...Array.prototype.slice.call(arguments));\n                };\n              }\n            }\n            _export_plugin_api(_api);\n          } else {\n            throw \"unsupported api export\";\n          }\n        };\n      }\n      window.pyodide.runPython(startup_script);\n      window.pyodide.runPython(code.content);\n    } catch (e) {\n      throw e;\n    }\n  };\n\n  // evaluates the provided string\n  var execute = async function(code) {\n    try {\n      if (code.type === \"requirements\") {\n        if (code.requirements) {\n          code.requirements =\n            typeof code.requirements === \"string\"\n              ? [code.requirements]\n              : code.requirements;\n          if (Array.isArray(code.requirements)) {\n            const python_packages = [];\n            for (var i = 0; i < code.requirements.length; i++) {\n              if (\n                code.requirements[i].toLowerCase().endsWith(\".css\") ||\n                code.requirements[i].startsWith(\"css:\")\n              ) {\n                if (code.requirements[i].startsWith(\"css:\")) {\n                  code.requirements[i] = code.requirements[i].slice(4);\n                }\n                link_node = document.createElement(\"link\");\n                link_node.rel = \"stylesheet\";\n                link_node.href = code.requirements[i];\n                document.head.appendChild(link_node);\n              } else if (\n                // code.requirements[i].toLowerCase().endsWith(\".js\") ||\n                code.requirements[i].startsWith(\"js:\")\n              ) {\n                if (code.requirements[i].startsWith(\"js:\")) {\n                  code.requirements[i] = code.requirements[i].slice(3);\n                }\n                await importScripts(code.requirements[i]);\n              } else if (code.requirements[i].startsWith(\"cache:\")) {\n                //ignore cache\n              } else if (\n                code.requirements[i].toLowerCase().endsWith(\".js\") ||\n                code.requirements[i].startsWith(\"package:\")\n              ) {\n                if (code.requirements[i].startsWith(\"package:\")) {\n                  code.requirements[i] = code.requirements[i].slice(8);\n                }\n                python_packages.push(code.requirements[i]);\n              } else if (\n                code.requirements[i].startsWith(\"http:\") ||\n                code.requirements[i].startsWith(\"https:\")\n              ) {\n                console.log(\n                  \"Unprocessed requirements url: \" + code.requirements[i]\n                );\n              } else {\n                python_packages.push(code.requirements[i]);\n              }\n            }\n            await window.pyodide.loadPackage(python_packages);\n          } else {\n            throw \"unsupported requirements definition\";\n          }\n        }\n      } else if (code.type === \"script\") {\n        if (code.src) {\n          var script_node = document.createElement(\"script\");\n          script_node.setAttribute(\"type\", code.attrs.type);\n          script_node.setAttribute(\"src\", code.src);\n          document.head.appendChild(script_node);\n        } else {\n          if (code.content && code.lang === \"python\") {\n            execute_python_code(code);\n          } else if (code.content && code.lang === \"javascript\") {\n            try {\n              eval(code.content);\n            } catch (e) {\n              console.error(e.message, e.stack);\n              throw e;\n            }\n          } else {\n            var node = document.createElement(\"script\");\n            node.setAttribute(\"type\", code.attrs.type);\n            node.appendChild(document.createTextNode(code.content));\n            document.body.appendChild(node);\n          }\n        }\n      } else if (code.type === \"style\") {\n        var style_node = document.createElement(\"style\");\n        if (code.src) {\n          style_node.src = code.src;\n        }\n        style_node.innerHTML = code.content;\n        document.head.appendChild(style_node);\n      } else if (code.type === \"link\") {\n        var link_node = document.createElement(\"link\");\n        if (code.rel) {\n          link_node.rel = code.rel;\n        }\n        if (code.href) {\n          link_node.href = code.href;\n        }\n        if (code.attrs && code.attrs.type) {\n          link_node.type = code.attrs.type;\n        }\n        document.head.appendChild(link_node);\n      } else if (code.type === \"html\") {\n        document.body.appendChild(_htmlToElement(code.content));\n      } else {\n        throw \"unsupported code type.\";\n      }\n      parent.postMessage({ type: \"executeSuccess\" }, \"*\");\n    } catch (e) {\n      console.error(\"failed to execute scripts: \", code, e);\n      parent.postMessage(\n        { type: \"executeFailure\", error: e.stack || String(e) },\n        \"*\"\n      );\n    }\n  };\n  const targetOrigin = config.target_origin || \"*\";\n  // connection object for the RPC constructor\n  const conn = {\n    disconnect: function() {},\n    send: function(data, transferables) {\n      parent.postMessage(data, targetOrigin, transferables);\n    },\n    onMessage: function(h) {\n      conn._messageHandler = h;\n    },\n    _messageHandler: function() {},\n    onDisconnect: function() {}\n  };\n\n  config.dedicated_thread = false;\n  config.lang = \"python\";\n  config.api_version = API_VERSION;\n\n  // event listener for the plugin message\n  window.addEventListener(\"message\", function(e) {\n    if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n      const m = e.data;\n      switch (m && m.type) {\n        case \"getConfig\":\n          parent.postMessage(\n            {\n              type: \"config\",\n              config: config\n            },\n            targetOrigin\n          );\n          break;\n        case \"execute\":\n          if (config.allow_execution) {\n            execute(m.code);\n            if (m.code.type === \"requirements\") {\n              if (!Array.isArray(m.code.requirements)) {\n                m.code.requirements = [m.code.requirements];\n              }\n            }\n          } else {\n            console.warn(\n              \"execute script is not allowed (allow_execution=false)\"\n            );\n          }\n          break;\n        default:\n          conn._messageHandler(m);\n      }\n    }\n  });\n\n  window.languagePluginUrl = \"https://static.imjoy.io/pyodide/\";\n\n  importScripts(\"https://static.imjoy.io/pyodide/pyodide.js\").then(() => {\n    // hack for matplotlib etc.\n    window.iodide = {\n      output: {\n        element: function element(type) {\n          const div = document.createElement(type);\n          const output = document.getElementById(\"output\") || document.body;\n          output.appendChild(div);\n          return div;\n        }\n      }\n    };\n\n    window.languagePluginLoader.then(() => {\n      // pyodide is now ready to use...\n      console.log(window.pyodide.runPython(\"import sys\\nsys.version\"));\n\n      connectRPC(conn, {\n        remote_function_mapping:\n          config.type === \"web-python-window\"\n            ? [\"close\", \"resize\", \"on\", \"off\", \"emit\", \"refresh\"]\n            : null\n      });\n      parent.postMessage(\n        {\n          type: \"initialized\",\n          config: config\n        },\n        targetOrigin\n      );\n    });\n  });\n}\n","'use strict';\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar co = require('co');\nvar ucs2length = util.ucs2length;\nvar equal = require('./equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  function callValidate() {\n    var validate = compilation.validate;\n    var result = validate.apply(null, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'co',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        co,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      console.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v !== undefined) {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    var validateSchema = rule.definition.validateSchema;\n    if (validateSchema && self._opts.validateSchema !== false) {\n      var valid = validateSchema(schema);\n      if (!valid) {\n        var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n        if (self._opts.validateSchema == 'log') console.error(message);\n        else throw new Error(message);\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n  _traverse(opts, cb, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, cb, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    cb(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, cb, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, cb, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, cb, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^\\d\\d\\d\\d-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,29,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn\\:uuid\\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~\\/]|~0|~1)*)*$|^\\#(?:\\/(?:[a-z0-9_\\-\\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:\\#|(?:\\/(?:[^~\\/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*)(?:\\:|\\/)\\/?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&''*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: hostname,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var month = +matches[1];\n  var day = +matches[2];\n  return month >= 1 && month <= 12 && day >= 1 && day <= DAYS[month];\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return hour <= 23 && minute <= 59 && second <= 59 && (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nfunction hostname(str) {\n  // https://tools.ietf.org/html/rfc1034#section-3.5\n  // https://tools.ietf.org/html/rfc1123#section-2\n  return str.length <= 255 && HOSTNAME.test(str);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|\\:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('./_rules')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'uniqueItems', 'contains', 'items' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf' ] }\n  ];\n\n  var ALL = [ 'type' ];\n  var KEYWORDS = [\n    'additionalItems', '$schema', 'id', 'title',\n    'description', 'default', 'definitions'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('../dotjs/ref'),\n  allOf: require('../dotjs/allOf'),\n  anyOf: require('../dotjs/anyOf'),\n  const: require('../dotjs/const'),\n  contains: require('../dotjs/contains'),\n  dependencies: require('../dotjs/dependencies'),\n  'enum': require('../dotjs/enum'),\n  format: require('../dotjs/format'),\n  items: require('../dotjs/items'),\n  maximum: require('../dotjs/_limit'),\n  minimum: require('../dotjs/_limit'),\n  maxItems: require('../dotjs/_limitItems'),\n  minItems: require('../dotjs/_limitItems'),\n  maxLength: require('../dotjs/_limitLength'),\n  minLength: require('../dotjs/_limitLength'),\n  maxProperties: require('../dotjs/_limitProperties'),\n  minProperties: require('../dotjs/_limitProperties'),\n  multipleOf: require('../dotjs/multipleOf'),\n  not: require('../dotjs/not'),\n  oneOf: require('../dotjs/oneOf'),\n  pattern: require('../dotjs/pattern'),\n  properties: require('../dotjs/properties'),\n  propertyNames: require('../dotjs/propertyNames'),\n  required: require('../dotjs/required'),\n  uniqueItems: require('../dotjs/uniqueItems'),\n  validate: require('../dotjs/validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        console.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        console.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true;\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { ' + (it.yieldAwait) + ' ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return it.util.schemaHasRules($sch, it.RULES.all);\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = it.util.schemaHasRules($schema, it.RULES.all);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? ' + (it.yieldAwait) + ' ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        console.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(' + (it.yieldAwait) + ' ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && it.util.schemaHasRules($additionalItems, it.RULES.all)) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;var prevValid' + ($lvl) + ' = false;var ' + ($valid) + ' = false;';\n  var $currentBaseId = $it.baseId;\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && prevValid' + ($lvl) + ') ' + ($valid) + ' = false; else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') ' + ($valid) + ' = prevValid' + ($lvl) + ' = true;';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.v5 && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  if (it.opts.patternGroups) {\n    var $pgProperties = it.schema.patternGroups || {},\n      $pgPropertyKeys = Object.keys($pgProperties);\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 5) {\n          out += ' || validate.schema' + ($schemaPath) + '[' + ($key) + '] ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      if (it.opts.patternGroups && $pgPropertyKeys.length) {\n        var arr3 = $pgPropertyKeys;\n        if (arr3) {\n          var $pgProperty, $i = -1,\n            l3 = arr3.length - 1;\n          while ($i < l3) {\n            $pgProperty = arr3[$i += 1];\n            out += ' || ' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT have additional properties\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr4 = $schemaKeys;\n    if (arr4) {\n      var $propertyKey, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $propertyKey = arr4[i4 += 1];\n        var $sch = $schema[$propertyKey];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr5 = $pPropertyKeys;\n    if (arr5) {\n      var $pProperty, i5 = -1,\n        l5 = arr5.length - 1;\n      while (i5 < l5) {\n        $pProperty = arr5[i5 += 1];\n        var $sch = $pProperties[$pProperty];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if (it.opts.patternGroups && $pgPropertyKeys.length) {\n    var arr6 = $pgPropertyKeys;\n    if (arr6) {\n      var $pgProperty, i6 = -1,\n        l6 = arr6.length - 1;\n      while (i6 < l6) {\n        $pgProperty = arr6[i6 += 1];\n        var $pgSchema = $pgProperties[$pgProperty],\n          $sch = $pgSchema.schema;\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternGroups' + it.util.getProperty($pgProperty) + '.schema';\n          $it.errSchemaPath = it.errSchemaPath + '/patternGroups/' + it.util.escapeFragment($pgProperty) + '/schema';\n          out += ' var pgPropCount' + ($lvl) + ' = 0;  ';\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ')) { pgPropCount' + ($lvl) + '++; ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n          var $pgMin = $pgSchema.minimum,\n            $pgMax = $pgSchema.maximum;\n          if ($pgMin !== undefined || $pgMax !== undefined) {\n            out += ' var ' + ($valid) + ' = true; ';\n            var $currErrSchemaPath = $errSchemaPath;\n            if ($pgMin !== undefined) {\n              var $limit = $pgMin,\n                $reason = 'minimum',\n                $moreOrLess = 'less';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' >= ' + ($pgMin) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/minimum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n              if ($pgMax !== undefined) {\n                out += ' else ';\n              }\n            }\n            if ($pgMax !== undefined) {\n              var $limit = $pgMax,\n                $reason = 'maximum',\n                $moreOrLess = 'more';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' <= ' + ($pgMax) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/maximum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n            $errSchemaPath = $currErrSchemaPath;\n            if ($breakOnError) {\n              out += ' if (' + ($valid) + ') { ';\n              $closingBraces += '}';\n            }\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    out += ' var ' + ($errs) + ' = errors; ';\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && it.util.schemaHasRules($propertySch, it.RULES.all))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var ' + ($valid) + ' = true; if (' + ($data) + '.length > 1) { var i = ' + ($data) + '.length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nmodule.exports = function (ajv) {\n  var defaultMeta = ajv._opts.defaultMeta;\n  var metaSchemaRef = typeof defaultMeta == 'string'\n                      ? { $ref: defaultMeta }\n                      : ajv.getSchema(META_SCHEMA_ID)\n                        ? { $ref: META_SCHEMA_ID }\n                        : {};\n\n  ajv.addKeyword('patternGroups', {\n    // implemented in properties.jst\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: 'object',\n        required: [ 'schema' ],\n        properties: {\n          maximum: {\n            type: 'integer',\n            minimum: 0\n          },\n          minimum: {\n            type: 'integer',\n            minimum: 0\n          },\n          schema: metaSchemaRef\n        },\n        additionalProperties: false\n      }\n    }\n  });\n  ajv.RULES.all.properties.implements.push('patternGroups');\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$\\-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += '' + (it.yieldAwait);\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = ' + (it.yieldAwait) + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","import { Whenable, compareVersions, CONFIG_SCHEMA } from \"./utils.js\";\nimport { API_VERSION } from \"./rpc.js\";\n\nexport class BasicConnection {\n  constructor(sourceIframe) {\n    this._init = new Whenable(true);\n    this._fail = new Whenable(true);\n    this._disconnected = false;\n    this.pluginConfig = {};\n    this._getConfigSCb = function() {};\n    this._executeSCb = function() {};\n    this._executeFCb = function() {};\n    this._messageHandler = function() {};\n    this._frame = sourceIframe;\n\n    // TODO: remove listener when disconnected\n    window.addEventListener(\"message\", e => {\n      if (this._frame.contentWindow && e.source === this._frame.contentWindow) {\n        const m = e.data;\n        switch (m && m.type) {\n          case \"config\":\n            this.pluginConfig = m.config;\n            this._checkConfig(this.pluginConfig);\n            this._getConfigSCb(m.config);\n            break;\n          case \"initialized\":\n            this.pluginConfig = m.config;\n            this._checkConfig(this.pluginConfig);\n            this._init.emit(this.pluginConfig);\n            break;\n          case \"executeSuccess\":\n            this._executeSCb();\n            break;\n          case \"executeFailure\":\n            this._executeFCb(m.error);\n            break;\n          default:\n            this._messageHandler(m);\n        }\n      }\n    });\n  }\n\n  _checkConfig(pluginConfig) {\n    pluginConfig = pluginConfig || {};\n    if (!CONFIG_SCHEMA(pluginConfig)) {\n      const error = CONFIG_SCHEMA.errors;\n      console.error(\"Invalid config: \" + pluginConfig.name || \"unkown\", error);\n      throw error;\n    }\n    if (compareVersions(pluginConfig.api_version, \"<\", API_VERSION)) {\n      console.warn(\n        `The imjoy-rpc version of the peer (${pluginConfig.api_version}) is older than the one used by the imjoy-core.`\n      );\n    } else if (compareVersions(pluginConfig.api_version, \">\", API_VERSION)) {\n      throw new Error(\n        `The imjoy-rpc version of the peer (${pluginConfig.api_version}) is newer than the one used by imjoy-core.`\n      );\n    }\n  }\n\n  getConfig() {\n    return new Promise((resolve, reject) => {\n      this._getConfigSCb = resolve;\n      try {\n        this.send({ type: \"getConfig\" });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  execute(code) {\n    return new Promise((resolve, reject) => {\n      this._executeSCb = resolve;\n      this._executeFCb = reject;\n      if (this.pluginConfig.allow_execution) {\n        this.send({ type: \"execute\", code: code });\n      } else {\n        reject(\"Connection does not allow execution\");\n      }\n    });\n  }\n\n  /**\n   * Sets-up the handler to be called upon the BasicConnection\n   * initialization is completed.\n   *\n   * For the web-browser environment, the handler is issued when\n   * the plugin worker successfully imported and executed the\n   * _pluginWebWorker.js or _pluginWebIframe.js, and replied to\n   * the application site with the initImprotSuccess message.\n   *\n   * @param {Function} handler to be called upon connection init\n   */\n  onInit(handler) {\n    this._init.whenEmitted(handler);\n  }\n\n  /**\n   * Sets-up the handler to be called upon the BasicConnection\n   * failed.\n   *\n   * For the web-browser environment, the handler is issued when\n   * the plugin worker successfully imported and executed the\n   * _pluginWebWorker.js or _pluginWebIframe.js, and replied to\n   * the application site with the initImprotSuccess message.\n   *\n   * @param {Function} handler to be called upon connection init\n   */\n  onFailed(handler) {\n    this._fail.whenEmitted(handler);\n  }\n\n  /**\n   * Sends a message to the plugin site\n   *\n   * @param {Object} data to send\n   */\n  send(data, transferables) {\n    this._frame.contentWindow &&\n      this._frame.contentWindow.postMessage(data, \"*\", transferables);\n  }\n\n  /**\n   * Adds a handler for a message received from the plugin site\n   *\n   * @param {Function} handler to call upon a message\n   */\n  onMessage(handler) {\n    this._messageHandler = handler;\n  }\n\n  /**\n   * Adds a handler for the event of plugin disconnection\n   * (not used in case of Worker)\n   *\n   * @param {Function} handler to call upon a disconnect\n   */\n  onDisconnect(handler) {\n    this._disconnectHandler = handler;\n  }\n\n  /**\n   * Disconnects the plugin (= kills the frame)\n   */\n  disconnect() {\n    if (!this._disconnected) {\n      this._disconnected = true;\n      if (typeof this._frame !== \"undefined\") {\n        this._frame.parentNode.removeChild(this._frame);\n      } // otherwise farme is not yet created\n      if (this._disconnectHandler) this._disconnectHandler();\n    }\n  }\n}\n","/**\n * Contains the code executed in the sandboxed frame under web-browser\n *\n * Tries to create a Web-Worker inside the frame and set up the\n * communication between the worker and the parent window. Some\n * browsers restrict creating a worker inside a sandboxed iframe - if\n * this happens, the plugin initialized right inside the frame (in the\n * same thread)\n */\nimport PluginWorker from \"./plugin.webworker.js\";\nimport setupIframe from \"./pluginIframe.js\";\nimport setupWebPython from \"./pluginWebPython.js\";\nimport { setupServiceWorker, cacheRequirements, randId } from \"./utils.js\";\n\nexport { RPC } from \"./rpc.js\";\nexport { BasicConnection } from \"./connection.js\";\nexport { Whenable, randId } from \"./utils.js\";\n\nfunction inIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n\nfunction getParamValue(paramName) {\n  const url = window.location.search.substring(1); //get rid of \"?\" in querystring\n  const qArray = url.split(\"&\"); //get key-value pairs\n  for (let i = 0; i < qArray.length; i++) {\n    const pArr = qArray[i].split(\"=\"); //split key and value\n    if (pArr[0] === paramName) return pArr[1]; //return value\n  }\n}\n\n/**\n * Initializes the plugin inside a web worker. May throw an exception\n * in case this was not permitted by the browser.\n */\nfunction setupWebWorker(config) {\n  if (!config.allow_execution)\n    throw new Error(\n      \"web-worker plugin can only work with allow_execution=true\"\n    );\n  const worker = new PluginWorker();\n  // mixed content warning in Chrome silently skips worker\n  // initialization without exception, handling this with timeout\n  const fallbackTimeout = setTimeout(function() {\n    worker.terminate();\n    console.warn(\n      `Plugin failed to start as a web-worker, running in an iframe instead.`\n    );\n    setupIframe(config);\n  }, 2000);\n\n  // forwarding messages between the worker and parent window\n  worker.addEventListener(\"message\", function(e) {\n    let transferables = undefined;\n    const m = e.data;\n    if (m.type === \"initialized\") {\n      // send config to the worker\n      worker.postMessage({ type: \"connectRPC\", config: config });\n      clearTimeout(fallbackTimeout);\n      // complete the missing fields\n      m.config = Object.assign({}, config, m.config);\n    } else if (m.type === \"imjoy_remote_api_ready\") {\n      // if it's a webworker, there will be no api object returned\n      window.dispatchEvent(\n        new CustomEvent(\"imjoy_remote_api_ready\", { detail: null })\n      );\n    } else if (\n      m.type === \"cacheRequirements\" &&\n      typeof cache_requirements === \"function\"\n    ) {\n      cache_requirements(m.requirements);\n    } else if (m.type === \"disconnect\") {\n      worker.terminate();\n    } else {\n      if (m.__transferables__) {\n        transferables = m.__transferables__;\n        delete m.__transferables__;\n      }\n    }\n    parent.postMessage(m, \"*\", transferables);\n  });\n\n  window.addEventListener(\"message\", function(e) {\n    let transferables = undefined;\n    const m = e.data;\n    if (m.__transferables__) {\n      transferables = m.__transferables__;\n      delete m.__transferables__;\n    }\n    worker.postMessage(m, transferables);\n  });\n}\n\nexport async function setupBaseFrame(config) {\n  config = config || {};\n  config.allow_execution = config.allow_execution || true;\n  config.enable_service_worker = config.enable_service_worker || true;\n  if (config.enable_service_worker) {\n    setupServiceWorker(config.target_origin, config.cache_requirements);\n  }\n  if (config.cache_requirements) {\n    delete config.cache_requirements;\n  }\n  // expose the api object to window globally.\n  // note: the returned value will be null for webworker\n  window.api = await imjoyRPC.setupRPC(config);\n\n  return window.api;\n}\n\nexport function setupRPC(config) {\n  config = config || {};\n  const plugin_type = config.type || getParamValue(\"_plugin_type\") || \"window\";\n  config.type = plugin_type;\n  config.id = config.id || randId();\n  config.allow_execution = config.allow_execution || false;\n  config.token = config.token = randId();\n  // remove functions\n  config = Object.keys(config).reduce((p, c) => {\n    if (typeof config[c] !== \"function\") p[c] = config[c];\n    return p;\n  }, {});\n  return new Promise((resolve, reject) => {\n    if (inIframe()) {\n      if (plugin_type === \"web-worker\") {\n        try {\n          setupWebWorker(config);\n        } catch (e) {\n          // fallback to iframe\n          setupIframe(config);\n        }\n      } else if (\n        plugin_type === \"web-python\" ||\n        plugin_type === \"web-python-window\"\n      ) {\n        setupWebPython(config);\n      } else if (plugin_type === \"iframe\" || plugin_type === \"window\") {\n        setupIframe(config);\n      } else {\n        console.error(\"Unsupported plugin type: \" + plugin_type);\n        reject(\"Unsupported plugin type: \" + plugin_type);\n      }\n      try {\n        window.addEventListener(\"imjoy_remote_api_ready\", e => {\n          // imjoy plugin api\n          resolve(e.detail);\n        });\n      } catch (e) {\n        reject(e);\n      }\n    } else {\n      reject(new Error(\"imjoy-rpc should only run inside an iframe.\"));\n    }\n  });\n}\n"],"sourceRoot":""}