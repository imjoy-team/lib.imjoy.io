{"version":3,"sources":["webpack://imjoyRPC/webpack/bootstrap","webpack://imjoyRPC/./node_modules/ajv/lib/compile/util.js","webpack://imjoyRPC/./src/utils.js","webpack://imjoyRPC/./src/rpc.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/resolve.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/equal.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/error_classes.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/schema_obj.js","webpack://imjoyRPC/./node_modules/json-stable-stringify/index.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/validate.js","webpack://imjoyRPC/./node_modules/co/index.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limit.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitItems.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitLength.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack://imjoyRPC/./src/pluginCore.js","webpack://imjoyRPC/./node_modules/ajv/lib/ajv.js","webpack://imjoyRPC/./src/plugin.webworker.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/index.js","webpack://imjoyRPC/./node_modules/url/url.js","webpack://imjoyRPC/./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack://imjoyRPC/(webpack)/buildin/module.js","webpack://imjoyRPC/(webpack)/buildin/global.js","webpack://imjoyRPC/./node_modules/url/util.js","webpack://imjoyRPC/./node_modules/querystring-es3/index.js","webpack://imjoyRPC/./node_modules/querystring-es3/decode.js","webpack://imjoyRPC/./node_modules/querystring-es3/encode.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/ucs2length.js","webpack://imjoyRPC/./node_modules/json-schema-traverse/index.js","webpack://imjoyRPC/./node_modules/jsonify/index.js","webpack://imjoyRPC/./node_modules/jsonify/lib/parse.js","webpack://imjoyRPC/./node_modules/jsonify/lib/stringify.js","webpack://imjoyRPC/./node_modules/ajv/lib/cache.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/formats.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/rules.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/_rules.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/ref.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/allOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/anyOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/const.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/contains.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/dependencies.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/enum.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/format.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/items.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/multipleOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/not.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/oneOf.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/pattern.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/properties.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/propertyNames.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/required.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack://imjoyRPC/./node_modules/ajv/lib/$data.js","webpack://imjoyRPC/./node_modules/ajv/lib/patternGroups.js","webpack://imjoyRPC/./node_modules/ajv/lib/compile/async.js","webpack://imjoyRPC/./node_modules/ajv/lib/keyword.js","webpack://imjoyRPC/./node_modules/ajv/lib/dotjs/custom.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","checkDataType","dataType","data","negate","EQUAL","AND","OK","NOT","copy","to","checkDataTypes","dataTypes","length","code","types","toHash","array","null","number","integer","coerceToTypes","optionCoerceTypes","Array","isArray","COERCE_TO_TYPES","getProperty","escapeQuotes","equal","ucs2length","varOccurences","str","dataVar","matches","match","RegExp","varReplace","expr","replace","cleanUpCode","out","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","async","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","RETURN_DATA_ASYNC","REMOVE_ERRORS","RETURN_VALID","RETURN_TRUE","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","schema","rules","schemaHasRulesExcept","exceptKeyword","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","path","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","test","Error","RELATIVE_JSON_POINTER","segments","split","segment","unescapeJsonPointer","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","arr","hash","IDENTIFIER","SINGLE_QUOTE","a","b","ajv","Ajv","randId","Math","random","toString","substr","dtypeToTypedArray","int8","int16","int32","uint8","uint16","uint32","float32","float64","typedArrayToDtype","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Float32Array","Float64Array","CONFIG_SCHEMA","compile","properties","allow_execution","type","api_version","cover","dedicated_thread","description","maxLength","flags","icon","id","inputs","labels","lang","outputs","tags","token","ui","version","required","compareVersions","v1","comparator","v2","indexOf","v1parts","v2parts","maxLen","max","part1","part2","cmp","parseInt","eval","cacheUrlInServiceWorker","url","Promise","resolve","reject","message","command","navigator","serviceWorker","register","messageChannel","MessageChannel","port1","onmessage","event","error","result","controller","postMessage","port2","cacheRequirements","requirements","req","startsWith","slice","catch","e","console","setupServiceWorker","targetOrigin","cacheCallback","window","addEventListener","then","registration","log","scope","err","origin","Whenable","multi_emit","this","_multi_emit","_emitted","_handlers","emit","_e","handler","setTimeout","pop","whenEmitted","_checkHandler","push","API_VERSION","ArrayBufferView","getPrototypeOf","constructor","_appendBuffer","buffer1","buffer2","tmp","byteLength","set","buffer","RPC","connection","config","_connection","_interface","_plugin_interfaces","_remote","_remoteUpdateHandler","_getInterfaceHandler","_interfaceSetAsRemoteHandler","_disconnectHandler","_store","ReferenceStore","_method_refs","me","onMessage","_processMessage","onRemoteUpdate","onRemoteReady","onReady","onRemoteBusy","onBusy","getRemoteCallStack","getStack","onGetInterface","getRemote","setInterface","remote_function_mapping","func_name","args","Function","sendInterface","names","keys","data2","k","functions","getOwnPropertyNames","concat","name_","send","api","method","_method_context","__this__","pid","promise","_unwrap","apply","fetch","num","_setRemote","disconnect","requestRemote","_ndarray","typedArray","shape","dtype","_dtype","__jailed_type__","__value__","__shape__","__dtype__","_genRemoteMethod","_reportRemoteSet","plugin_id","remoteMethod","put","wrapped_resolve","arguments","wrapped_reject","__jailed_pairs__","transferables","_wrap","__transferables__","__remote_method","_encode_interface","aObject","bObject","v","encoded_interface","__plugin_id__","on","_encode","as_interface","_transfer","isarray","__as_interface__","_rpcEncode","encoded_obj","__rpc_dtype__","interfaceFuncName","tf","Tensor","v_buffer","dataSync","nj","NdArray","selection","File","__relative_path__","relativePath","webkitRelativePath","Boolean","String","Date","Blob","ImageData","FileList","ArrayBuffer","_decode","callbackId","withPromise","_rpcDecode","_genRemoteCallback","reduce","reshape","tensor","argNum","onDisconnect","_indices","_readyHandler","_busyHandler","readyHandler","busyHandler","_genId","shift","_releaseId","splice","obj","_id","find","util","SchemaObject","traverse","root","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","validate","_compile","baseId","res","resolveSchema","undefined","parse","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","ids","schemaId","baseIds","fullPaths","localRefs","self","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","PREVENT_SCOPE_CHANGE","parts","part","$ref","SIMPLE_INLINED","limit","checkNoRef","item","countKeys","count","Infinity","normalize","protocolSeparator","protocol","href","host","TRAILING_SLASH_HASH","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","MissingRefError","missingRef","missingSchema","errorSubclass","Subclass","Validation","errors","validation","MissingRef","json","JSON","opts","space","join","f","cycles","replacer","node","aobj","bobj","seen","stringify","parent","level","indent","colonSeparator","toJSON","TypeError","objectKeys","sort","keyValue","x","has","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","isTop","$es7","yieldAwait","sourceCode","processCode","$lvl","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","extendRefs","warn","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","v5","patternGroups","arr2","i2","l2","useDefaults","arr3","$propertyKey","i3","l3","$sch","default","$passData","useDefault","items","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","keyword","implements","impl","$ruleImlementsSomeKeyword","co","gen","ctx","next","onFulfilled","ret","onRejected","throw","done","toPromise","isPromise","displayName","isGenerator","isGeneratorFunction","thunkToPromise","arrayToPromise","objectToPromise","fn","map","results","promises","defer","wrap","createPromise","__generatorFunction__","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","connectRPC","application","rpc","launchConnected","remote","export","onload","dispose","onLoad","whenConnected","WorkerGlobalScope","dispatchEvent","CustomEvent","detail","connected","connectedHandlers","checkHandler","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","schemaKeyRef","getSchema","schemaObj","_addSchema","valid","_meta","addSchema","_skipValidation","checkUnique","addMetaSchema","skipValidation","validateSchema","throwOrLogError","defaultMeta","meta","META_SCHEMA_ID","currentUriFormat","_formats","uri","_schemaUriFormatFunc","_schemaUriFormat","errorsText","keyRef","_getSchemaObj","_fragments","fragment","_getSchemaFragment","removeSchema","_removeAllSchemas","_cache","clear","del","cacheKey","serialize","addFormat","format","options","separator","text","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","compiling","callValidate","currentOpts","_metaOpts","refs","_validate","compileAsync","customKeyword","addKeyword","add","getKeyword","removeKeyword","remove","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","schemaUriFormat","cache","_loadingSchemas","_compilations","_get$Id","_get$IdOrId","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","$dataSchema","metaSchema","addDraft6MetaSchema","optsSchemas","schemas","addInitialSchemas","regex","execute","toLowerCase","endsWith","importScripts","content","stack","conn","close","h","_messageHandler","validateGenerator","checkCompiling","index","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","source","_schema","_root","isRoot","errorPath","resolveRef","usePattern","useCustomRule","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","inline","regexStr","valueStr","rule","definition","macro","punycode","Url","slashes","auth","port","hostname","search","query","pathname","urlParse","relative","resolveObject","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","isObject","u","queryIndex","splitter","uSplit","rest","trim","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","lastIndexOf","parseHost","ipv6Hostname","hostparts","newpart","j","charCodeAt","validParts","notHost","bit","unshift","toASCII","ae","esc","escape","qm","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","isAbsolute","nodeType","freeGlobal","global","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","fromCharCode","RangeError","mapDomain","string","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","basic","oldi","w","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","deprecate","children","g","arg","qs","sep","eq","regexp","maxKeys","len","kstr","vstr","idx","xs","stringifyPrimitive","isFinite","ks","pos","cb","_traverse","arrayKeywords","propsKeywords","keywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","dependencies","enum","const","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","at","ch","escapee","hex","uffff","white","word","reviver","walk","holder","gap","rep","escapable","quote","lastIndex","partial","mind","DATE","DAYS","TIME","HOSTNAME","URI","URITEMPLATE","URL","UUID","date","month","day","time","full","hour","minute","second","timeZone","fast","email","ipv4","ipv6","uuid","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","forEach","group","implKeywords","custom","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","every","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","$pgProperties","$pgPropertyKeys","i1","$pProperty","$pgProperty","$additionalProperty","$useDefaults","i4","$hasDefault","arr6","i6","l6","$pgSchema","$pgMin","$pgMax","$limit","$reason","$moreOrLess","$invalidName","$propertySch","$loopRequired","KEYWORDS","keywordsJsonPointers","metaSchemaRef","callback","loadSchema","loadMetaSchemaOf","_compileAsync","added","schemaPromise","removePromise","loadMissingSchema","_addRule","ruleGroup","rg","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError"],"mappings":"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","file":"imjoy-rpc-min-webworker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('./equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v\\.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","import Ajv from \"ajv\";\nconst ajv = new Ajv();\n\nexport function randId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 10);\n}\n\nexport const dtypeToTypedArray = {\n  int8: \"Int8Array\",\n  int16: \"Int16Array\",\n  int32: \"Int32Array\",\n  uint8: \"Uint8Array\",\n  uint16: \"Uint16Array\",\n  uint32: \"Uint32Array\",\n  float32: \"Float32Array\",\n  float64: \"Float64Array\",\n  array: \"Array\"\n};\nexport const typedArrayToDtype = {\n  Int8Array: \"int8\",\n  Int16Array: \"int16\",\n  Int32Array: \"int32\",\n  Uint8Array: \"uint8\",\n  Uint16Array: \"uint16\",\n  Uint32Array: \"uint32\",\n  Float32Array: \"float32\",\n  Float64Array: \"float64\",\n  Array: \"array\"\n};\n\nexport const CONFIG_SCHEMA = ajv.compile({\n  properties: {\n    allow_execution: { type: \"boolean\" },\n    api_version: { type: \"string\" },\n    cover: { type: [\"string\", \"array\"] },\n    dedicated_thread: { type: \"boolean\" },\n    description: { type: \"string\", maxLength: 256 },\n    flags: { type: \"array\" },\n    icon: { type: \"string\" },\n    id: { type: \"string\" },\n    inputs: { type: [\"object\", \"array\"] },\n    labels: { type: \"array\" },\n    lang: { type: \"string\" },\n    name: { type: \"string\" },\n    outputs: { type: [\"object\", \"array\"] },\n    tags: { type: \"array\" },\n    token: { type: \"string\" },\n    ui: { type: \"string\" },\n    version: { type: \"string\" }\n  },\n  required: [\"api_version\", \"allow_execution\", \"token\", \"id\"]\n});\n\nexport function compareVersions(v1, comparator, v2) {\n  comparator = comparator == \"=\" ? \"==\" : comparator;\n  if (\n    [\"==\", \"===\", \"<\", \"<=\", \">\", \">=\", \"!=\", \"!==\"].indexOf(comparator) == -1\n  ) {\n    throw new Error(\"Invalid comparator. \" + comparator);\n  }\n  var v1parts = v1.split(\".\"),\n    v2parts = v2.split(\".\");\n  var maxLen = Math.max(v1parts.length, v2parts.length);\n  var part1, part2;\n  var cmp = 0;\n  for (var i = 0; i < maxLen && !cmp; i++) {\n    part1 = parseInt(v1parts[i], 10) || 0;\n    part2 = parseInt(v2parts[i], 10) || 0;\n    if (part1 < part2) cmp = 1;\n    if (part1 > part2) cmp = -1;\n  }\n  return eval(\"0\" + comparator + cmp);\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function(resolve, reject) {\n    const message = {\n      command: \"add\",\n      url: url\n    };\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject(\"Service worker is not supported.\");\n      return;\n    }\n    const messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function(event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [\n        messageChannel.port2\n      ]);\n    } else {\n      reject(\"Service worker controller is not available\");\n    }\n  });\n}\n\nexport async function cacheRequirements(requirements) {\n  if (requirements && requirements.length > 0) {\n    for (let req of requirements) {\n      //remove prefix\n      if (req.startsWith(\"js:\")) req = req.slice(3);\n      if (req.startsWith(\"css:\")) req = req.slice(4);\n      if (req.startsWith(\"cache:\")) req = req.slice(6);\n      if (!req.startsWith(\"http\")) continue;\n\n      await cacheUrlInServiceWorker(req).catch(e => {\n        console.error(e);\n      });\n    }\n  }\n}\n\nexport function setupServiceWorker(targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", function() {\n      navigator.serviceWorker.register(\"/plugin-service-worker.js\").then(\n        function(registration) {\n          // Registration was successful\n          console.log(\n            \"ServiceWorker registration successful with scope: \",\n            registration.scope\n          );\n        },\n        function(err) {\n          // registration failed :(\n          console.log(\"ServiceWorker registration failed: \", err);\n        }\n      );\n      targetOrigin = targetOrigin || \"*\";\n      cacheCallback = cacheCallback || cacheRequirements;\n      if (cacheCallback && typeof cacheCallback !== \"function\") {\n        throw new Error(\"config.cache_requirements must be a function\");\n      }\n      window.addEventListener(\"message\", function(e) {\n        if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n          const m = e.data;\n          if (m.type === \"cacheRequirements\") {\n            cacheCallback(m.requirements);\n          }\n        }\n      });\n    });\n  }\n}\n\n/**\n * A special kind of event:\n *  - which can only be emitted once;\n *  - executes a set of subscribed handlers upon emission;\n *  - if a handler is subscribed after the event was emitted, it\n *    will be invoked immideately.\n *\n * Used for the events which only happen once (or do not happen at\n * all) during a single plugin lifecycle - connect, disconnect and\n * connection failure\n */\nexport const Whenable = function(multi_emit) {\n  this._multi_emit = multi_emit;\n  this._emitted = false;\n  this._handlers = [];\n};\n\n/**\n * Emits the Whenable event, calls all the handlers already\n * subscribed, switches the object to the 'emitted' state (when\n * all future subscibed listeners will be immideately issued\n * instead of being stored)\n */\nWhenable.prototype.emit = function(e) {\n  if (this._multi_emit) {\n    this._emitted = true;\n    this._e = e;\n    for (let handler of this._handlers) {\n      setTimeout(handler.bind(null, e), 0);\n    }\n  } else if (!this._emitted) {\n    this._emitted = true;\n    this._e = e;\n    var handler;\n    while ((handler = this._handlers.pop())) {\n      setTimeout(handler.bind(null, e), 0);\n    }\n  }\n};\n\n/**\n * Saves the provided function as a handler for the Whenable\n * event. This handler will then be called upon the event emission\n * (if it has not been emitted yet), or will be scheduled for\n * immediate issue (if the event has already been emmitted before)\n *\n * @param {Function} handler to subscribe for the event\n */\nWhenable.prototype.whenEmitted = function(handler) {\n  handler = this._checkHandler(handler);\n  if (this._emitted) {\n    setTimeout(handler.bind(null, this._e), 0);\n  } else {\n    this._handlers.push(handler);\n  }\n};\n\n/**\n * Checks if the provided object is suitable for being subscribed\n * to the event (= is a function), throws an exception if not\n *\n * @param {Object} obj to check for being subscribable\n *\n * @throws {Exception} if object is not suitable for subscription\n *\n * @returns {Object} the provided object if yes\n */\nWhenable.prototype._checkHandler = function(handler) {\n  var type = typeof handler;\n  if (type !== \"function\") {\n    var msg =\n      \"A function may only be subsribed to the event, \" +\n      type +\n      \" was provided instead\";\n    throw new Error(msg);\n  }\n\n  return handler;\n};\n","/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\nimport { randId, typedArrayToDtype } from \"./utils.js\";\n\nexport const API_VERSION = \"0.2.0\";\n\nconst ArrayBufferView = Object.getPrototypeOf(\n  Object.getPrototypeOf(new Uint8Array())\n).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction getKeyByValue(object, value) {\n  return Object.keys(object).find(key => object[key] === value);\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\nexport class RPC {\n  constructor(connection, config) {\n    this._connection = connection;\n    this.config = config || {};\n    this._interface = {};\n    this._plugin_interfaces = {};\n    this._remote = null;\n    this._remoteUpdateHandler = function() {};\n    this._getInterfaceHandler = function() {};\n    this._interfaceSetAsRemoteHandler = null;\n    this._disconnectHandler = function() {};\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n    this._connection = connection;\n    let me = this;\n    this._connection.onMessage(function(data) {\n      me._processMessage(data);\n    });\n  }\n\n  /**\n   * Set a handler to be called when the remote site updates its\n   * interface\n   *\n   * @param {Function} handler\n   */\n  onRemoteUpdate(handler) {\n    this._remoteUpdateHandler = handler;\n  }\n\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n  onRemoteReady(handler) {\n    this._method_refs.onReady(handler);\n  }\n\n  onRemoteBusy(handler) {\n    this._method_refs.onBusy(handler);\n  }\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * Set a handler to be called when the remote site requests to\n   * (re)send the interface. Used to detect an initialzation\n   * completion without sending additional request, since in fact\n   * 'getInterface' request is only sent by application at the last\n   * step of the plugin initialization\n   *\n   * @param {Function} handler\n   */\n  onGetInterface(handler) {\n    this._getInterfaceHandler = handler;\n  }\n\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n  getRemote() {\n    return this._remote;\n  }\n\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n  setInterface(_interface) {\n    if (this.config.remote_function_mapping) {\n      for (let func_name of this.config.remote_function_mapping) {\n        if (_interface.constructor === Object) {\n          _interface[func_name] = (...args) => {\n            this._remote[func_name](...args);\n          };\n        } else if (_interface.constructor.constructor === Function) {\n          _interface.constructor.prototype[func_name] = (...args) => {\n            this._remote[func_name](...args);\n          };\n        }\n      }\n    }\n    this._interface = _interface;\n  }\n\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n  sendInterface() {\n    return new Promise(resolve => {\n      var names = [];\n      if (!this._interface) {\n        throw new Error(\"interface is not set.\");\n      }\n      if (this._interface.constructor === Object) {\n        for (var name of Object.keys(this._interface)) {\n          if (name.startsWith(\"_\")) continue;\n          if (typeof this._interface[name] === \"function\") {\n            names.push({ name: name, data: null, type: \"function\" });\n          } else {\n            var data = this._interface[name];\n            if (data !== null && typeof data === \"object\") {\n              var data2 = {};\n              for (var k of Object.keys(data)) {\n                if (typeof data[k] === \"function\") {\n                  data2[k] = \"rpc_method::\" + k;\n                } else {\n                  data2[k] = data[k];\n                }\n              }\n              names.push({ name: name, data: data2, type: \"object\" });\n            } else if (Object(data) !== data) {\n              names.push({ name: name, data: data, type: \"data\" });\n            }\n          }\n        }\n      }\n      // a class\n      else if (this._interface.constructor === Function) {\n        throw new Error(\"Please instantiate the class before exportting it.\");\n      }\n      // instance of a class\n      else if (this._interface.constructor.constructor === Function) {\n        var functions = Object.getOwnPropertyNames(\n          Object.getPrototypeOf(this._interface)\n        ).concat(Object.keys(this._interface));\n        for (var i = 0; i < functions.length; i++) {\n          var name_ = functions[i];\n          if (name_.startsWith(\"_\") || name_ === \"constructor\") continue;\n          if (typeof this._interface[name_] === \"function\") {\n            names.push({ name: name_, data: null });\n          }\n        }\n      } else {\n        throw Error(\"Unsupported interface type\");\n      }\n      this._interfaceSetAsRemoteHandler = resolve;\n      this._connection.send({ type: \"setInterface\", api: names });\n    });\n  }\n\n  /**\n   * Handles a message from the remote site\n   */\n  // var callback_reg = new RegExp(\"onupdate|run$\")\n  _processMessage(data) {\n    var resolve, reject, method, args, result;\n    switch (data.type) {\n      case \"method\":\n        var _interface = this._interface;\n        var _method_context = _interface.__this__ || _interface;\n        if (data.pid) {\n          _interface = this._plugin_interfaces[data.pid];\n          if (!_interface) {\n            if (data.promise) {\n              [resolve, reject] = this._unwrap(data.promise, false);\n              reject(\n                `plugin api function is not avaialbe in \"${data.pid}\", the plugin maybe terminated.`\n              );\n            } else {\n              console.error(\n                `plugin api function is not avaialbe in ${data.pid}, the plugin maybe terminated.`\n              );\n            }\n            return;\n          }\n        }\n        if (data.name.indexOf(\".\") !== -1) {\n          var names = data.name.split(\".\");\n          method = _interface[names[0]][names[1]];\n        } else {\n          method = _interface[data.name];\n        }\n        args = this._unwrap(data.args, true);\n        if (data.promise) {\n          [resolve, reject] = this._unwrap(data.promise, false);\n          try {\n            result = method.apply(_method_context, args);\n            if (\n              result instanceof Promise ||\n              (method.constructor &&\n                method.constructor.name === \"AsyncFunction\")\n            ) {\n              result.then(resolve).catch(reject);\n            } else {\n              resolve(result);\n            }\n          } catch (e) {\n            console.error(e, method);\n            reject(e);\n          }\n        } else {\n          try {\n            method.apply(_method_context, args);\n          } catch (e) {\n            console.error(e, method, args);\n          }\n        }\n\n        break;\n      case \"callback\":\n        if (data.promise) {\n          [resolve, reject] = this._unwrap(data.promise, false);\n          try {\n            method = this._store.fetch(data.num);\n            args = this._unwrap(data.args, true);\n            if (!method) {\n              throw \"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\";\n            }\n            result = method.apply(null, args);\n            if (\n              result instanceof Promise ||\n              (method.constructor &&\n                method.constructor.name === \"AsyncFunction\")\n            ) {\n              result.then(resolve).catch(reject);\n            } else {\n              resolve(result);\n            }\n          } catch (e) {\n            console.error(e, method);\n            reject(e);\n          }\n        } else {\n          try {\n            method = this._store.fetch(data.num);\n            args = this._unwrap(data.args, true);\n            if (!method) {\n              throw \"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\";\n            }\n            method.apply(null, args);\n          } catch (e) {\n            console.error(e, method, args);\n          }\n        }\n        break;\n      case \"setInterface\":\n        this._setRemote(data.api);\n        break;\n      case \"getInterface\":\n        this.sendInterface();\n        this._getInterfaceHandler();\n        break;\n      case \"interfaceSetAsRemote\":\n        if (typeof this._interfaceSetAsRemoteHandler === \"function\") {\n          this._interfaceSetAsRemoteHandler();\n          this._interfaceSetAsRemoteHandler === null;\n        }\n        break;\n      case \"disconnect\":\n        this._disconnectHandler();\n        this._connection.disconnect();\n        break;\n    }\n  }\n\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n  requestRemote() {\n    this._connection.send({ type: \"getInterface\" });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    var _dtype = typedArrayToDtype[typedArray.constructor.name];\n    if (dtype && dtype !== _dtype) {\n      throw \"dtype doesn't match the type of the array: \" +\n        _dtype +\n        \" != \" +\n        dtype;\n    }\n    shape = shape || [typedArray.length];\n    return {\n      __jailed_type__: \"ndarray\",\n      __value__: typedArray,\n      __shape__: shape,\n      __dtype__: _dtype\n    };\n  }\n\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n  _setRemote(api) {\n    this._remote = {};\n    var i, name, data, type;\n    for (i = 0; i < api.length; i++) {\n      name = api[i].name;\n      data = api[i].data;\n      type = api[i].type;\n      if (type === \"data\") {\n        this._remote[name] = data;\n      } else if (data) {\n        if (typeof data === \"object\") {\n          var data2 = {};\n          for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n              if (data[key] === \"rpc_method::\" + key) {\n                data2[key] = this._genRemoteMethod(name + \".\" + key);\n              } else {\n                data2[key] = data[key];\n              }\n            }\n          }\n          this._remote[name] = data2;\n        } else {\n          this._remote[name] = data;\n        }\n      } else {\n        this._remote[name] = this._genRemoteMethod(name);\n      }\n    }\n\n    this._remoteUpdateHandler();\n    this._reportRemoteSet();\n  }\n\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n  _genRemoteMethod(name, plugin_id) {\n    var me = this;\n    var remoteMethod = function() {\n      return new Promise((resolve, reject) => {\n        let id = null;\n        try {\n          id = me._method_refs.put(plugin_id ? plugin_id + \"/\" + name : name);\n          var wrapped_resolve = function() {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n          var wrapped_reject = function() {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          wrapped_resolve.__jailed_pairs__ = wrapped_reject;\n          wrapped_reject.__jailed_pairs__ = wrapped_resolve;\n\n          var args = Array.prototype.slice.call(arguments);\n          if (name === \"register\" || name === \"export\" || name === \"on\") {\n            args = me._wrap(args, true);\n          } else {\n            args = me._wrap(args);\n          }\n          var transferables = args.args.__transferables__;\n          if (transferables) delete args.args.__transferables__;\n          me._connection.send(\n            {\n              type: \"method\",\n              name: name,\n              pid: plugin_id,\n              args: args,\n              promise: me._wrap([wrapped_resolve, wrapped_reject])\n            },\n            transferables\n          );\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(\n            `Failed to exectue remote method (plugin: ${plugin_id ||\n              me.id}, method: ${name}), error: ${e}`\n          );\n        }\n      });\n    };\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n  _reportRemoteSet() {\n    this._connection.send({ type: \"interfaceSetAsRemote\" });\n  }\n\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n  _encode_interface(aObject, bObject) {\n    var v, k;\n    const encoded_interface = {};\n    aObject[\"__id__\"] = aObject[\"__id__\"] || randId();\n    for (k in aObject) {\n      if (k === \"hasOwnProperty\") continue;\n      if (aObject.hasOwnProperty(k)) {\n        if (k.startsWith(\"_\")) {\n          continue;\n        }\n        v = aObject[k];\n\n        if (typeof v === \"function\") {\n          bObject[k] = {\n            __jailed_type__: \"plugin_interface\",\n            __plugin_id__: aObject[\"__id__\"],\n            __value__: k,\n            num: null\n          };\n          encoded_interface[k] = v;\n        } else if (Object(v) !== v) {\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n          encoded_interface[k] = v;\n        } else if (typeof v === \"object\") {\n          bObject[k] = Array.isArray(v) ? [] : {};\n          this._encode_interface(v, bObject[k]);\n        }\n      }\n    }\n    this._plugin_interfaces[aObject[\"__id__\"]] = encoded_interface;\n\n    if (aObject.on) {\n      aObject.on(\"close\", () => {\n        delete this._plugin_interfaces[aObject[\"__id__\"]];\n      });\n    }\n  }\n\n  _encode(aObject, as_interface) {\n    var transferables = [];\n    if (!aObject) {\n      return aObject;\n    }\n    var _transfer = aObject._transfer;\n    var bObject, v, k;\n    var isarray = Array.isArray(aObject);\n    bObject = isarray ? [] : {};\n    //skip if already encoded\n    if (\n      typeof aObject === \"object\" &&\n      aObject.__jailed_type__ &&\n      aObject.__value__\n    ) {\n      return aObject;\n    }\n\n    //encode interfaces\n    if (\n      typeof aObject === \"object\" &&\n      !Array.isArray(aObject) &&\n      (aObject.__as_interface__ || as_interface)\n    ) {\n      this._encode_interface(aObject, bObject);\n      return bObject;\n    }\n\n    if (as_interface) {\n      aObject[\"__id__\"] = aObject[\"__id__\"] || randId();\n      this._plugin_interfaces[aObject[\"__id__\"]] =\n        this._plugin_interfaces[aObject[\"__id__\"]] || {};\n    }\n    for (k in aObject) {\n      if (k === \"hasOwnProperty\") continue;\n      if (isarray || aObject.hasOwnProperty(k)) {\n        v = aObject[k];\n        if (typeof this._interface._rpcEncode === \"function\") {\n          const encoded_obj = this._interface._rpcEncode(v);\n          if (encoded_obj && encoded_obj.__rpc_dtype__) {\n            bObject[k] = {\n              __jailed_type__: \"custom_encoding\",\n              __value__: encoded_obj\n            };\n            continue;\n          }\n          // if the returned object does not contain __jailed_type__, assuming the object has been transformed\n          else {\n            v = encoded_obj;\n          }\n        }\n        if (typeof v === \"function\") {\n          if (as_interface) {\n            const encoded_interface = this._plugin_interfaces[\n              aObject[\"__id__\"]\n            ];\n            bObject[k] = {\n              __jailed_type__: \"plugin_interface\",\n              __plugin_id__: aObject[\"__id__\"],\n              __value__: k,\n              num: null\n            };\n            encoded_interface[k] = v;\n            continue;\n          }\n          let interfaceFuncName = null;\n          for (var name in this._interface) {\n            if (this._interface.hasOwnProperty(name)) {\n              if (name.startsWith(\"_\")) continue;\n              if (this._interface[name] === v) {\n                interfaceFuncName = name;\n                break;\n              }\n            }\n          }\n          // search for prototypes\n          var functions = Object.getOwnPropertyNames(\n            Object.getPrototypeOf(this._interface)\n          );\n          for (var i = 0; i < functions.length; i++) {\n            var name_ = functions[i];\n            if (name_.startsWith(\"_\")) continue;\n            if (this._interface[name_] === v) {\n              interfaceFuncName = name_;\n              break;\n            }\n          }\n          if (!interfaceFuncName) {\n            var id = this._store.put(v);\n            bObject[k] = {\n              __jailed_type__: \"callback\",\n              __value__: (v.constructor && v.constructor.name) || id,\n              num: id\n            };\n          } else {\n            bObject[k] = {\n              __jailed_type__: \"interface\",\n              __value__: interfaceFuncName,\n              num: null\n            };\n          }\n        } else if (\n          /*global tf*/\n          typeof tf !== \"undefined\" &&\n          tf.Tensor &&\n          v instanceof tf.Tensor\n        ) {\n          const v_buffer = v.dataSync();\n          if (v._transfer || _transfer) {\n            transferables.push(v_buffer.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = {\n            __jailed_type__: \"ndarray\",\n            __value__: v_buffer,\n            __shape__: v.shape,\n            __dtype__: v.dtype\n          };\n        } else if (\n          /*global nj*/\n          typeof nj !== \"undefined\" &&\n          nj.NdArray &&\n          v instanceof nj.NdArray\n        ) {\n          var dtype = typedArrayToDtype[v.selection.data.constructor.name];\n          if (v._transfer || _transfer) {\n            transferables.push(v.selection.data.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = {\n            __jailed_type__: \"ndarray\",\n            __value__: v.selection.data,\n            __shape__: v.shape,\n            __dtype__: dtype\n          };\n        } else if (v instanceof Error) {\n          console.error(v);\n          bObject[k] = { __jailed_type__: \"error\", __value__: v.toString() };\n        } else if (typeof File !== \"undefined\" && v instanceof File) {\n          bObject[k] = {\n            __jailed_type__: \"file\",\n            __value__: v,\n            __relative_path__: v.relativePath || v.webkitRelativePath\n          };\n        }\n        // send objects supported by structure clone algorithm\n        // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n        else if (\n          v !== Object(v) ||\n          v instanceof Boolean ||\n          v instanceof String ||\n          v instanceof Date ||\n          v instanceof RegExp ||\n          v instanceof Blob ||\n          v instanceof ImageData ||\n          (typeof FileList !== \"undefined\" && v instanceof FileList)\n        ) {\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        } else if (v instanceof ArrayBuffer) {\n          if (v._transfer || _transfer) {\n            transferables.push(v);\n            delete v._transfer;\n          }\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        } else if (v instanceof ArrayBufferView) {\n          if (v._transfer || _transfer) {\n            transferables.push(v.buffer);\n            delete v._transfer;\n          }\n          bObject[k] = { __jailed_type__: \"argument\", __value__: v };\n        }\n        // TODO: support also Map and Set\n        // TODO: avoid object such as DynamicPlugin instance.\n        else if (v.__as_interface__) {\n          bObject[k] = this._encode(v, true);\n        } else if (typeof v === \"object\" || Array.isArray(v)) {\n          bObject[k] = this._encode(v, as_interface);\n          // move transferables to the top level object\n          if (bObject[k].__transferables__) {\n            for (var t = 0; t < bObject[k].__transferables__.length; t++) {\n              transferables.push(bObject[k].__transferables__[t]);\n            }\n            delete bObject[k].__transferables__;\n          }\n        } else if (typeof v === \"object\" && v.constructor) {\n          throw \"Unsupported data type for transferring between the plugin and the main app: \" +\n            k +\n            \" : \" +\n            v.constructor.name;\n        } else {\n          throw \"Unsupported data type for transferring between the plugin and the main app: \" +\n            k +\n            \",\" +\n            v;\n        }\n      }\n    }\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n    return bObject;\n  }\n\n  _decode(aObject, callbackId, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n    var bObject, v, k;\n\n    if (\n      aObject.hasOwnProperty(\"__jailed_type__\") &&\n      aObject.hasOwnProperty(\"__value__\")\n    ) {\n      if (aObject.__jailed_type__.startsWith(\"custom_encoding\")) {\n        if (typeof this._interface._rpcDecode === \"function\") {\n          const decodedObj = this._interface._rpcDecode(aObject.__value__);\n          bObject = decodedObj;\n        } else {\n          bObject = aObject;\n        }\n      } else if (aObject.__jailed_type__ === \"callback\") {\n        bObject = this._genRemoteCallback(callbackId, aObject.num, withPromise);\n      } else if (aObject.__jailed_type__ === \"interface\") {\n        bObject =\n          this._remote[aObject.__value__] ||\n          this._genRemoteMethod(aObject.__value__);\n      } else if (aObject.__jailed_type__ === \"plugin_interface\") {\n        bObject = this._genRemoteMethod(\n          aObject.__value__,\n          aObject.__plugin_id__\n        );\n      } else if (aObject.__jailed_type__ === \"ndarray\") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (this.id === \"__plugin__\" && typeof nj !== \"undefined\" && nj.array) {\n          if (Array.isArray(aObject.__value__)) {\n            aObject.__value__ = aObject.__value__.reduce(_appendBuffer);\n          }\n          bObject = nj\n            .array(aObject.__value__, aObject.__dtype__)\n            .reshape(aObject.__shape__);\n        } else if (\n          this.id === \"__plugin__\" &&\n          typeof tf !== \"undefined\" &&\n          tf.Tensor\n        ) {\n          if (Array.isArray(aObject.__value__)) {\n            aObject.__value__ = aObject.__value__.reduce(_appendBuffer);\n          }\n          bObject = tf.tensor(\n            aObject.__value__,\n            aObject.__shape__,\n            aObject.__dtype__\n          );\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject.__jailed_type__ === \"error\") {\n        bObject = new Error(aObject.__value__);\n      } else if (aObject.__jailed_type__ === \"file\") {\n        bObject = aObject.__value__;\n        //patch relativePath\n        bObject.relativePath = aObject.__relative_path__;\n      } else if (aObject.__jailed_type__ === \"argument\") {\n        bObject = aObject.__value__;\n      }\n      return bObject;\n    } else {\n      var isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n      for (k in aObject) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          v = aObject[k];\n          if (typeof v === \"object\" || Array.isArray(v)) {\n            bObject[k] = this._decode(v, callbackId, withPromise);\n          }\n        }\n      }\n      return bObject;\n    }\n  }\n\n  _wrap(args, as_interface) {\n    var wrapped = this._encode(args, as_interface);\n    var result = { args: wrapped };\n    return result;\n  }\n\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n  _unwrap(args, withPromise) {\n    // var called = false;\n\n    // wraps each callback so that the only one could be called\n    // var once(cb) {\n    //     return function() {\n    //         if (!called) {\n    //             called = true;\n    //             return cb.apply(this, arguments);\n    //         } else {\n    //             var msg =\n    //               'A callback from this set has already been executed';\n    //             throw new Error(msg);\n    //         }\n    //     };\n    // }\n    var result = this._decode(args.args, args.callbackId, withPromise);\n    return result;\n  }\n\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n  _genRemoteCallback(id, argNum, withPromise) {\n    var me = this;\n    var remoteCallback;\n    if (withPromise) {\n      remoteCallback = function() {\n        return new Promise((resolve, reject) => {\n          var args = me._wrap(Array.prototype.slice.call(arguments));\n          var transferables = args.args.__transferables__;\n          if (transferables) delete args.args.__transferables__;\n          resolve.__jailed_pairs__ = reject;\n          reject.__jailed_pairs__ = resolve;\n          try {\n            me._connection.send(\n              {\n                type: \"callback\",\n                id: id,\n                num: argNum,\n                args: args,\n                // pid :  me.id,\n                promise: me._wrap([resolve, reject])\n              },\n              transferables\n            );\n          } catch (e) {\n            reject(\n              `Failed to exectue remote callback (id: ${id}, argNum: ${argNum}).`\n            );\n          }\n        });\n      };\n      return remoteCallback;\n    } else {\n      remoteCallback = function() {\n        var args = me._wrap(Array.prototype.slice.call(arguments));\n        var transferables = args.args.__transferables__;\n        if (transferables) delete args.args.__transferables__;\n        return me._connection.send(\n          {\n            type: \"callback\",\n            id: id,\n            num: argNum,\n            args: args\n            // pid :  me.id\n          },\n          transferables\n        );\n      };\n      return remoteCallback;\n    }\n  }\n\n  /**\n   * Sends the notification message and breaks the connection\n   */\n  disconnect() {\n    this._connection.send({ type: \"disconnect\" });\n    setTimeout(this._connection.disconnect, 2000);\n  }\n\n  /**\n   * Set a handler to be called when received a disconnect message\n   * from the remote site\n   *\n   * @param {Function} handler\n   */\n  onDisconnect(handler) {\n    this._disconnectHandler = handler;\n  }\n}\n\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n    this._indices = [0]; // smallest available indices\n    this._readyHandler = function() {};\n    this._busyHandler = function() {};\n    this._readyHandler();\n  }\n\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function() {};\n  }\n\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function() {};\n  }\n\n  /**\n   * get the length of the store\n   *\n   */\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n  _genId() {\n    var id;\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n  _releaseId(id) {\n    for (var i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n        break;\n      }\n    }\n\n    // cleaning-up the sequence tail\n    for (i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n    var id = this._genId();\n    this._store[id] = obj;\n    return id;\n  }\n\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n  fetch(id) {\n    var obj = this._store[id];\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n      this._releaseId(id);\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n    if (obj && obj.__jailed_pairs__) {\n      const _id = getKeyByValue(this._store, obj.__jailed_pairs__);\n      this.fetch(_id);\n    }\n    return obj;\n  }\n\n  /**\n   * Retrieves previously stored object\n   *\n   * @param {Number} id of an object to retrieve\n   */\n  // retrieve(id) {\n  //     var obj = this._store[id];\n  //     return obj;\n  // }\n}\n","'use strict';\n\nvar url = require('url')\n  , equal = require('./equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = url.parse(ref, false, true)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.hash = parsedRef.hash || '';\n  if (parsedRef.hash.slice(0,2) != '#/') return;\n  var parts = parsedRef.hash.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = url.parse(id, false, true);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  var protocolSeparator = p.protocol || p.href.slice(0,2) == '//' ? '//' : '';\n  return (p.protocol||'') + protocolSeparator + (p.host||'') + (p.path||'')  + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return url.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? url.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\n/*eslint complexity: 0*/\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  var arrA = Array.isArray(a)\n    , arrB = Array.isArray(b)\n    , i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++)\n      if (!equal(a[i], b[i])) return false;\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    var keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = 0; i < keys.length; i++)\n      if(!equal(a[keys[i]], b[keys[i]])) return false;\n\n    return true;\n  }\n\n  return false;\n};\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.isTop) {\n    if ($async) {\n      it.async = true;\n      var $es7 = it.opts.async == 'es7';\n      it.yieldAwait = $es7 ? 'await' : 'yield';\n    }\n    out += ' var validate = ';\n    if ($async) {\n      if ($es7) {\n        out += ' (async function ';\n      } else {\n        if (it.opts.async != '*') {\n          out += 'co.wrap';\n        }\n        out += '(function* ';\n      }\n    } else {\n      out += ' (function ';\n    }\n    out += ' (data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }); return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      console.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    if (it.opts.v5 && it.schema.patternGroups) {\n      console.warn('keyword \"patternGroups\" is deprecated and disabled. Use option patternGroups: true to enable.');\n    }\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults && !it.compositeRule) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }); return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImlementsSomeKeyword($rule));\n  }\n\n  function $ruleImlementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\';';\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'less';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\nimport { RPC } from \"./rpc.js\";\n\nexport function connectRPC(connection, config) {\n  const application = {};\n  config = config || {};\n\n  const rpc = new RPC(connection, config);\n  rpc.onGetInterface(function() {\n    launchConnected();\n  });\n\n  rpc.onRemoteUpdate(function() {\n    application.remote = rpc.getRemote();\n    if (!application.remote) return;\n    const api = application.remote || {};\n    if (api.export) {\n      console.error(\"WARNING: overwriting function 'export'.\");\n    }\n    if (api.onload) {\n      console.error(\"WARNING: overwriting function 'onload'.\");\n    }\n    if (api.dispose) {\n      console.error(\"WARNING: overwriting function 'dispose'.\");\n    }\n    api.export = application.setInterface;\n    api.onLoad = application.whenConnected;\n    api.dispose = application.disconnect;\n    if (\n      typeof WorkerGlobalScope !== \"undefined\" &&\n      self instanceof WorkerGlobalScope\n    ) {\n      self.api = api;\n      self.postMessage({\n        type: \"imjoy_remote_api_ready\"\n      });\n    } else if (typeof window) {\n      window.dispatchEvent(\n        new CustomEvent(\"imjoy_remote_api_ready\", { detail: api })\n      );\n    }\n  });\n\n  /**\n   * Simplified clone of Whenable instance (the object can not be\n   * placed into a shared script, because the main library needs it\n   * before the additional scripts may load)\n   */\n  var connected = false;\n  var connectedHandlers = [];\n\n  var launchConnected = function() {\n    if (!connected) {\n      connected = true;\n\n      var handler;\n      while ((handler = connectedHandlers.pop())) {\n        handler();\n      }\n    }\n  };\n\n  var checkHandler = function(handler) {\n    var type = typeof handler;\n    if (type !== \"function\") {\n      var msg =\n        \"A function may only be subsribed to the event, \" +\n        type +\n        \" was provided instead\";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  /**\n   * Sets a function executed after the connection to the\n   * application is estaplished, and the initial interface-exchange\n   * messaging is completed\n   *\n   * @param {Function} handler to be called upon initialization\n   */\n  application.whenConnected = function(handler) {\n    handler = checkHandler(handler);\n    if (connected) {\n      handler();\n    } else {\n      connectedHandlers.push(handler);\n    }\n  };\n\n  /**\n   * Sets the plugin interface available to the application\n   *\n   * @param {Object} _interface to set\n   */\n  application.setInterface = function(_interface) {\n    rpc.setInterface(_interface);\n  };\n\n  /**\n   * Disconnects the plugin from the application (sending\n   * notification message) and destroys itself\n   */\n  application.disconnect = function(_interface) {\n    rpc.disconnect();\n  };\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./$data')\n  , patternGroups = require('./patternGroups')\n  , util = require('./compile/util')\n  , co = require('co');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n  var schemaUriFormat = this._schemaUriFormat = this._formats['uri-reference'];\n  this._schemaUriFormatFunc = function (str) { return schemaUriFormat.test(str); };\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  addDraft6MetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  addInitialSchemas(this);\n  if (opts.patternGroups) patternGroups(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [json-stable-stringify](https://github.com/substack/json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async === true)\n    return this._opts.async == '*' ? co(valid) : valid;\n  this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    console.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var currentUriFormat = this._formats.uri;\n  this._formats.uri = typeof currentUriFormat == 'function'\n                      ? this._schemaUriFormatFunc\n                      : this._schemaUriFormat;\n  var valid;\n  try { valid = this.validate($schema, schema); }\n  finally { this._formats.uri = currentUriFormat; }\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') console.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  function callValidate() {\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(null, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case '$id': return _get$Id;\n    case 'id': return _getId;\n    default: return _get$IdOrId;\n  }\n}\n\n\nfunction _getId(schema) {\n  if (schema.$id) console.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n\nfunction _get$Id(schema) {\n  if (schema.id) console.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n}\n\n\nfunction addDraft6MetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/$data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-06.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n","/**\n * Contains the routines loaded by the plugin Worker under web-browser.\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\nimport { connectRPC } from \"./pluginCore.js\";\nimport { API_VERSION } from \"./rpc.js\";\n\n(function() {\n  // make sure this runs inside a webworker\n  if (\n    typeof WorkerGlobalScope === \"undefined\" ||\n    !self ||\n    !(self instanceof WorkerGlobalScope)\n  ) {\n    throw new Error(\"This script can only loaded in a webworker\");\n  }\n  /**\n   * Executes the given code in a jailed environment. For web\n   * implementation, we're already jailed in the iframe and the\n   * worker, so simply eval()\n   *\n   * @param {String} code code to execute\n   */\n  var execute = function(code) {\n    try {\n      if (code.type === \"requirements\") {\n        try {\n          if (\n            code.requirements &&\n            (Array.isArray(code.requirements) ||\n              typeof code.requirements === \"string\")\n          ) {\n            try {\n              if (!Array.isArray(code.requirements)) {\n                code.requirements = [code.requirements];\n              }\n              for (var i = 0; i < code.requirements.length; i++) {\n                if (\n                  code.requirements[i].toLowerCase().endsWith(\".css\") ||\n                  code.requirements[i].startsWith(\"css:\")\n                ) {\n                  throw \"unable to import css in a webworker\";\n                } else if (\n                  code.requirements[i].toLowerCase().endsWith(\".js\") ||\n                  code.requirements[i].startsWith(\"js:\")\n                ) {\n                  if (code.requirements[i].startsWith(\"js:\")) {\n                    code.requirements[i] = code.requirements[i].slice(3);\n                  }\n                  importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"http\")) {\n                  importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"cache:\")) {\n                  //ignore cache\n                } else {\n                  console.log(\n                    \"Unprocessed requirements url: \" + code.requirements[i]\n                  );\n                }\n              }\n            } catch (e) {\n              throw \"failed to import required scripts: \" +\n                code.requirements.toString();\n            }\n          }\n        } catch (e) {\n          throw e;\n        }\n      } else if (code.type === \"script\") {\n        try {\n          if (\n            code.requirements &&\n            (Array.isArray(code.requirements) ||\n              typeof code.requirements === \"string\")\n          ) {\n            try {\n              if (Array.isArray(code.requirements)) {\n                for (let i = 0; i < code.requirements.length; i++) {\n                  importScripts(code.requirements[i]);\n                }\n              } else {\n                importScripts(code.requirements);\n              }\n            } catch (e) {\n              throw \"failed to import required scripts: \" +\n                code.requirements.toString();\n            }\n          }\n          eval(code.content);\n        } catch (e) {\n          console.error(e.message, e.stack);\n          throw e;\n        }\n      } else {\n        throw \"unsupported code type.\";\n      }\n      self.postMessage({ type: \"executeSuccess\" });\n    } catch (e) {\n      console.error(\"failed to execute scripts: \", code, e);\n      self.postMessage({ type: \"executeFailure\", error: e.stack || String(e) });\n    }\n  };\n\n  /**\n   * Connection object provided to the RPC constructor,\n   * plugin site implementation for the web-based environment.\n   * Global will be then cleared to prevent exposure into the\n   * Worker, so we put this local connection object into a closure\n   */\n  const conn = {\n    disconnect: function() {\n      self.close();\n    },\n    send: function(data, transferables) {\n      data.__transferables__ = transferables;\n      self.postMessage(data, transferables);\n    },\n    onMessage: function(h) {\n      conn._messageHandler = h;\n    },\n    _messageHandler: function() {},\n    onDisconnect: function() {}\n  };\n\n  const config = {\n    type: \"web-worker\",\n    dedicated_thread: true,\n    allow_execution: true,\n    lang: \"javascript\",\n    api_version: API_VERSION\n  };\n\n  /**\n   * Event lisener for the plugin message\n   */\n  self.addEventListener(\"message\", function(e) {\n    const m = e.data;\n    switch (m && m.type) {\n      case \"getConfig\":\n        self.postMessage({\n          type: \"config\",\n          config: config\n        });\n        break;\n      case \"execute\":\n        execute(m.code);\n        if (m.code.type === \"requirements\") {\n          if (!Array.isArray(m.code.requirements)) {\n            m.code.requirements = [m.code.requirements];\n          }\n          self.postMessage({\n            type: \"cacheRequirements\",\n            requirements: m.code.requirements\n          });\n        }\n        break;\n      // for webworker only\n      case \"connectRPC\":\n        connectRPC(conn, m.config);\n        break;\n      default:\n        conn._messageHandler(m);\n    }\n  });\n  self.postMessage({\n    type: \"initialized\",\n    config: config\n  });\n})();\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar co = require('co');\nvar ucs2length = util.ucs2length;\nvar equal = require('./equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  function callValidate() {\n    var validate = compilation.validate;\n    var result = validate.apply(null, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'co',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        co,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      console.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v !== undefined) {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    var validateSchema = rule.definition.validateSchema;\n    if (validateSchema && self._opts.validateSchema !== false) {\n      var valid = validateSchema(schema);\n      if (!valid) {\n        var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n        if (self._opts.validateSchema == 'log') console.error(message);\n        else throw new Error(message);\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n  _traverse(opts, cb, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, cb, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    cb(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, cb, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, cb, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, cb, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^\\d\\d\\d\\d-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,29,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:\\#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+\\-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn\\:uuid\\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~\\/]|~0|~1)*)*$|^\\#(?:\\/(?:[a-z0-9_\\-\\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:\\#|(?:\\/(?:[^~\\/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*)(?:\\:|\\/)\\/?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&''*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: hostname,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var month = +matches[1];\n  var day = +matches[2];\n  return month >= 1 && month <= 12 && day >= 1 && day <= DAYS[month];\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return hour <= 23 && minute <= 59 && second <= 59 && (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nfunction hostname(str) {\n  // https://tools.ietf.org/html/rfc1034#section-3.5\n  // https://tools.ietf.org/html/rfc1123#section-2\n  return str.length <= 255 && HOSTNAME.test(str);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|\\:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('./_rules')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'uniqueItems', 'contains', 'items' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf' ] }\n  ];\n\n  var ALL = [ 'type' ];\n  var KEYWORDS = [\n    'additionalItems', '$schema', 'id', 'title',\n    'description', 'default', 'definitions'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('../dotjs/ref'),\n  allOf: require('../dotjs/allOf'),\n  anyOf: require('../dotjs/anyOf'),\n  const: require('../dotjs/const'),\n  contains: require('../dotjs/contains'),\n  dependencies: require('../dotjs/dependencies'),\n  'enum': require('../dotjs/enum'),\n  format: require('../dotjs/format'),\n  items: require('../dotjs/items'),\n  maximum: require('../dotjs/_limit'),\n  minimum: require('../dotjs/_limit'),\n  maxItems: require('../dotjs/_limitItems'),\n  minItems: require('../dotjs/_limitItems'),\n  maxLength: require('../dotjs/_limitLength'),\n  minLength: require('../dotjs/_limitLength'),\n  maxProperties: require('../dotjs/_limitProperties'),\n  minProperties: require('../dotjs/_limitProperties'),\n  multipleOf: require('../dotjs/multipleOf'),\n  not: require('../dotjs/not'),\n  oneOf: require('../dotjs/oneOf'),\n  pattern: require('../dotjs/pattern'),\n  properties: require('../dotjs/properties'),\n  propertyNames: require('../dotjs/propertyNames'),\n  required: require('../dotjs/required'),\n  uniqueItems: require('../dotjs/uniqueItems'),\n  validate: require('../dotjs/validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        console.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        console.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true;\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { ' + (it.yieldAwait) + ' ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return it.util.schemaHasRules($sch, it.RULES.all);\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = it.util.schemaHasRules($schema, it.RULES.all);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? ' + (it.yieldAwait) + ' ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        console.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(' + (it.yieldAwait) + ' ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && it.util.schemaHasRules($additionalItems, it.RULES.all)) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;var prevValid' + ($lvl) + ' = false;var ' + ($valid) + ' = false;';\n  var $currentBaseId = $it.baseId;\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && prevValid' + ($lvl) + ') ' + ($valid) + ' = false; else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') ' + ($valid) + ' = prevValid' + ($lvl) + ' = true;';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.v5 && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  if (it.opts.patternGroups) {\n    var $pgProperties = it.schema.patternGroups || {},\n      $pgPropertyKeys = Object.keys($pgProperties);\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 5) {\n          out += ' || validate.schema' + ($schemaPath) + '[' + ($key) + '] ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      if (it.opts.patternGroups && $pgPropertyKeys.length) {\n        var arr3 = $pgPropertyKeys;\n        if (arr3) {\n          var $pgProperty, $i = -1,\n            l3 = arr3.length - 1;\n          while ($i < l3) {\n            $pgProperty = arr3[$i += 1];\n            out += ' || ' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT have additional properties\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr4 = $schemaKeys;\n    if (arr4) {\n      var $propertyKey, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $propertyKey = arr4[i4 += 1];\n        var $sch = $schema[$propertyKey];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr5 = $pPropertyKeys;\n    if (arr5) {\n      var $pProperty, i5 = -1,\n        l5 = arr5.length - 1;\n      while (i5 < l5) {\n        $pProperty = arr5[i5 += 1];\n        var $sch = $pProperties[$pProperty];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if (it.opts.patternGroups && $pgPropertyKeys.length) {\n    var arr6 = $pgPropertyKeys;\n    if (arr6) {\n      var $pgProperty, i6 = -1,\n        l6 = arr6.length - 1;\n      while (i6 < l6) {\n        $pgProperty = arr6[i6 += 1];\n        var $pgSchema = $pgProperties[$pgProperty],\n          $sch = $pgSchema.schema;\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternGroups' + it.util.getProperty($pgProperty) + '.schema';\n          $it.errSchemaPath = it.errSchemaPath + '/patternGroups/' + it.util.escapeFragment($pgProperty) + '/schema';\n          out += ' var pgPropCount' + ($lvl) + ' = 0;  ';\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pgProperty)) + '.test(' + ($key) + ')) { pgPropCount' + ($lvl) + '++; ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n          var $pgMin = $pgSchema.minimum,\n            $pgMax = $pgSchema.maximum;\n          if ($pgMin !== undefined || $pgMax !== undefined) {\n            out += ' var ' + ($valid) + ' = true; ';\n            var $currErrSchemaPath = $errSchemaPath;\n            if ($pgMin !== undefined) {\n              var $limit = $pgMin,\n                $reason = 'minimum',\n                $moreOrLess = 'less';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' >= ' + ($pgMin) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/minimum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n              if ($pgMax !== undefined) {\n                out += ' else ';\n              }\n            }\n            if ($pgMax !== undefined) {\n              var $limit = $pgMax,\n                $reason = 'maximum',\n                $moreOrLess = 'more';\n              out += ' ' + ($valid) + ' = pgPropCount' + ($lvl) + ' <= ' + ($pgMax) + '; ';\n              $errSchemaPath = it.errSchemaPath + '/patternGroups/maximum';\n              out += '  if (!' + ($valid) + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('patternGroups') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { reason: \\'' + ($reason) + '\\', limit: ' + ($limit) + ', pattern: \\'' + (it.util.escapeQuotes($pgProperty)) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should NOT have ' + ($moreOrLess) + ' than ' + ($limit) + ' properties matching pattern \"' + (it.util.escapeQuotes($pgProperty)) + '\"\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n            $errSchemaPath = $currErrSchemaPath;\n            if ($breakOnError) {\n              out += ' if (' + ($valid) + ') { ';\n              $closingBraces += '}';\n            }\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    out += ' var ' + ($errs) + ' = errors; ';\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && it.util.schemaHasRules($propertySch, it.RULES.all))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var ' + ($valid) + ' = true; if (' + ($data) + '.length > 1) { var i = ' + ($data) + '.length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-06/schema';\n\nmodule.exports = function (ajv) {\n  var defaultMeta = ajv._opts.defaultMeta;\n  var metaSchemaRef = typeof defaultMeta == 'string'\n                      ? { $ref: defaultMeta }\n                      : ajv.getSchema(META_SCHEMA_ID)\n                        ? { $ref: META_SCHEMA_ID }\n                        : {};\n\n  ajv.addKeyword('patternGroups', {\n    // implemented in properties.jst\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: 'object',\n        required: [ 'schema' ],\n        properties: {\n          maximum: {\n            type: 'integer',\n            minimum: 0\n          },\n          minimum: {\n            type: 'integer',\n            minimum: 0\n          },\n          schema: metaSchemaRef\n        },\n        additionalProperties: false\n      }\n    }\n  });\n  ajv.RULES.all.properties.implements.push('patternGroups');\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$\\-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += '' + (it.yieldAwait);\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = ' + (it.yieldAwait) + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n"],"sourceRoot":""}